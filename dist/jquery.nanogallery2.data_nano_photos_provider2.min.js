/* nanogallery2 - v1.5.0 - 2017-09-07 - http://nanogallery2.nanostudio.org */
/**!
 * @preserve nanogallery2 - NANOPHOTOSPROVIDER2 data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
!function(a){jQuery.nanogallery2.data_nano_photos_provider2=function(a,b){function c(a){return decodeURIComponent(a)}function d(a,b){f.O.debugMode&&(console.log("nanoPhotosProvider2 parse data:"),console.dir(b));var d=!1;jQuery.each(b.album_content,function(a,e){var g=f.O.dataProvider.substring(0,f.O.dataProvider.indexOf("nano_photos_provider2.php")),h=g+c(e.src),i=e.title,k=e.description.split("_").join(" "),l="image";void 0!==e.kind&&e.kind.length>0&&(l=e.kind);var m=e.ID;if("album"==l&&(j(i,m)||!0),"image"==l||"album"==l&&j(i,m)){var n=0;void 0!==e.albumID&&(n=e.albumID,d=!0);var o=void 0===e.tags?"":e.tags,p=NGY2Item.New(f,i.split("_").join(" "),k,m,n,l,o);p.src=h,void 0!==e.dcGIF&&(p.imageDominantColors="data:image/gif;base64,"+e.dcGIF),void 0!==e.dc&&""!==e.dc&&(p.imageDominantColor=e.dc),"album"==l?p.numberItems=e.cnt:(p.imageWidth=e.imgWidth,p.imageHeight=e.imgHeight),""!=e.originalURL&&(p.downloadURL=g+c(e.originalURL));for(var q=f.GOM.curNavLevel,r=["xs","sm","me","la","xl"],s=0;s<r.length;s++)p.thumbs.url[q][r[s]]=g+c(e.t_url[s]),p.thumbs.width[q][r[s]]=parseInt(e.t_width[s]),p.thumbs.height[q][r[s]]=parseInt(e.t_height[s]);"function"==typeof f.O.fnProcessData&&f.O.fnProcessData(p,f.O.dataProvider,b)}}),f.I[a].contentIsLoaded=!0}function e(){}var f=a,g=function(b,e,g,j){var l=NGY2Item.GetIdx(f,b);""==a.I[l].title&&(a.I[l].title=c(b));var m=f.O.dataProvider+"?albumID="+b;m+="&wxs="+f.tn.settings.width[f.GOM.curNavLevel].xs,m+="&hxs="+f.tn.settings.height[f.GOM.curNavLevel].xs,m+="&wsm="+f.tn.settings.width[f.GOM.curNavLevel].sm,m+="&hsm="+f.tn.settings.height[f.GOM.curNavLevel].sm,m+="&wme="+f.tn.settings.width[f.GOM.curNavLevel].me,m+="&hme="+f.tn.settings.height[f.GOM.curNavLevel].me,m+="&wla="+f.tn.settings.width[f.GOM.curNavLevel].la,m+="&hla="+f.tn.settings.height[f.GOM.curNavLevel].la,m+="&wxl="+f.tn.settings.width[f.GOM.curNavLevel].xl,m+="&hxl="+f.tn.settings.height[f.GOM.curNavLevel].xl,h(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var n=setTimeout(function(){h(!1),i("Could not retrieve nanoPhotosProvider2 data (timeout).")},6e4);f.O.debugMode&&console.log("nanoPhotosProvider2 URL: "+m),jQuery.getJSON(m,function(a,c,m){clearTimeout(n),h(!1),d(l,a),"ok"==a.nano_status?(k(b),null!==e&&void 0!==e&&e(g,j,null)):i(f,"Could not retrieve nanoPhotosProvider2 data. Error: "+a.nano_status+" - "+a.nano_message)}).fail(function(a,b,c){clearTimeout(n),h(!1);var d="";for(var e in a)d+=e+"="+a[e]+"<br>";i(f,"Could not retrieve nanoPhotosProvider2 data. Error: "+b+", "+c+" "+d+"<br><br>URL:"+m)})}catch(o){i(f,"Could not retrieve nanoPhotosProvider2 data. Error: "+o)}},h=NGY2Tools.PreloaderDisplay.bind(f),i=NGY2Tools.NanoAlert,j=(NGY2Tools.GetImageTitleFromURL.bind(f),NGY2Tools.FilterAlbumName.bind(f)),k=NGY2Tools.AlbumPostProcess.bind(f);switch(b){case"GetHiddenAlbums":break;case"AlbumGetContent":g(arguments[2],arguments[3],arguments[4],arguments[5]);break;case"Init":e()}}}(jQuery);