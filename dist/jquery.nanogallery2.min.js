/* nanogallery2 - v2.4.2 - 2019-03-22 - https://nanogallery2.nanostudio.org */
/**!
 * @preserve nanogallery2 - javascript photo / video gallery and lightbox
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
 * Requirements:
 *  - jQuery (http://www.jquery.com) - version >= 1.7.1
 *
 * Embeded components:
 *  - shifty (https://github.com/jeremyckahn/shifty)
 *  - imagesloaded (https://github.com/desandro/imagesloaded)
 *  - hammer.js (http://hammerjs.github.io/)
 *  - screenfull.js (https://github.com/sindresorhus/screenfull.js)
 * Tools:
 *  - webfont generated with http://fontello.com - mainly based on Font Awesome Copyright (C) 2012 by Dave Gandy (http://fontawesome.io/)
 *  - ICO online converter: https://iconverticons.com/online/
 */
!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(a){"use strict";function b(a){var b=document.getElementById("ngyColorHelperToRGB");return null===b&&(b=document.createElement("div"),b.id="ngyColorHelperToRGB",b.style.cssText="display: none; color:"+a+";",document.body.appendChild(b)),getComputedStyle(b).color}function c(a,b,c){function d(a){var b=a.length,c=new Object;if(b>9){if(a=a.split(","),a.length<3||a.length>4)return null;c[0]=f(a[0].slice(4)),c[1]=f(a[1]),c[2]=f(a[2]),c[3]=a[3]?parseFloat(a[3]):-1}else{if(8==b||6==b||b<4)return null;b<6&&(a="#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]+(b>4?a[4]+""+a[4]:"")),a=f(a.slice(1),16),c[0]=a>>16&255,c[1]=a>>8&255,c[2]=255&a,c[3]=9==b||5==b?g((a>>24&255)/255*1e4)/1e4:-1}return c}var e="";if("RGBA("==b.toUpperCase().substring(0,5)&&(e="a",b="rgb("+b.substring(5)),"number"!=typeof a||a<-1||a>1||"string"!=typeof b||"r"!=b[0]&&"#"!=b[0]||"string"!=typeof c&&void 0!==c)return null;var f=parseInt,g=Math.round,h=b.length>9,h="string"==typeof c?c.length>9||"c"==c&&!h:h,i=a<0,a=i?-1*a:a,c=c&&"c"!=c?c:i?"#000000":"#FFFFFF",j=d(b),k=d(c);return j&&k?h?"rgb"+e+"("+g((k[0]-j[0])*a+j[0])+","+g((k[1]-j[1])*a+j[1])+","+g((k[2]-j[2])*a+j[2])+(j[3]<0&&k[3]<0?")":","+(j[3]>-1&&k[3]>-1?g(1e4*((k[3]-j[3])*a+j[3]))/1e4:k[3]<0?j[3]:k[3])+")"):"#"+(4294967296+16777216*(j[3]>-1&&k[3]>-1?g(255*((k[3]-j[3])*a+j[3])):k[3]>-1?g(255*k[3]):j[3]>-1?g(255*j[3]):255)+65536*g((k[0]-j[0])*a+j[0])+256*g((k[1]-j[1])*a+j[1])+g((k[2]-j[2])*a+j[2])).toString(16).slice(j[3]>-1||k[3]>-1?1:3):null}function d(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=d(a[c]);return b}function e(){var a=jQuery(window);return{l:a.scrollLeft(),t:a.scrollTop(),w:a.width(),h:a.height()}}function f(a,b){var c=e(),d=a.offset(),f=a.outerHeight(!0);return 0==c.t&&d.top<=c.t+c.h||d.top>=c.t&&d.top+f<=c.t+c.h-b}function g(a,b){var c=0;""==a&&(a="*"),jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));c=a>c?a:c}),c++,jQuery(b).css("z-index",c)}function h(){function h(a){this.$e=null,this.ngy2ItemIdx=a,this.mediaNumber=0,this.posX=0,this.posY=0}function j(){yb()||k()}function k(){if(""!=Kb.O.openOnStart){var a=l(Kb.O.openOnStart);"0"!=a.imageID?ha(a.imageID,a.albumID):m("-1",a.albumID)}else m("-1",0)}function l(a){var b={albumID:"0",imageID:"0"},c=a.split("/");return c.length>0&&(b.albumID=c[0],c.length>1&&(b.imageID=c[1])),b}function m(a,b){Kb.VOM.viewerDisplayed&&tb(null);var c=NGY2Item.GetIdx(Kb,b);if(Kb.GOM.curNavLevel="lN",0==c&&(Kb.GOM.curNavLevel="l1"),Kb.layout.SetEngine(),Kb.galleryResizeEventEnabled=!1,-1==c&&(NGY2Item.New(Kb,"","",b,"0","album"),c=Kb.I.length-1),!Kb.I[c].contentIsLoaded)return void ia(b,m,a,b);Da(),Kb.GOM.pagination.currentPage=0,zb(b,""),x(c)}function n(){switch(Kb.galleryDisplayMode.Get()){case"PAGINATION":Kb.layout.support.rows&&Kb.galleryMaxRows.Get()>0&&s(Kb.GOM.albumIdx);break;case"MOREBUTTON":Kb.$E.conTnBottom.off("click");var a=Kb.GOM.items.length-Kb.GOM.itemsDisplayed;0==a?Kb.$E.conTnBottom.empty():(Kb.$E.conTnBottom.html('<div class="nGY2GalleryMoreButton"><div class="nGY2GalleryMoreButtonAnnotation">+'+a+" "+Kb.O.icons.galleryMoreButton+"</div></div>"),Kb.$E.conTnBottom.on("click",function(a){Kb.GOM.displayedMoreSteps++,B()}))}}function o(a){var b="";Kb.O.breadcrumbHideIcons||(b=Kb.O.icons.breadcrumbAlbum,0==a&&(b=Kb.O.icons.breadcrumbHome));var c=jQuery('<div class="oneItem">'+b+Kb.I[a].title+"</div>").appendTo(Kb.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));Kb.O.breadcrumbOnlyCurrentLevel?0==a?jQuery(c).data("albumID","0"):jQuery(c).data("albumID",Kb.I[a].albumID):jQuery(c).data("albumID",Kb.I[a].GetID()),c.click(function(){m("-1",jQuery(this).data("albumID"))})}function p(a){var b=jQuery('<div class="oneItem">'+(Kb.O.RTL?Kb.O.icons.breadcrumbSeparatorRtl:Kb.O.icons.breadcrumbSeparator)+"</div>").appendTo(Kb.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));jQuery(b).data("albumIdx",a),b.click(function(){var a=jQuery(this).data("albumIdx");m("-1",Kb.I[a].GetID())})}function q(a){if(Kb.GOM.navigationBar.$newContent=jQuery('<div class="nGY2Navigationbar"></div>'),1==Kb.O.displayBreadcrumb&&!Kb.O.thumbnailAlbumDisplayImage){var b=0,c=[];if(0!=a){var d=Kb.I.length;c.push(a);var e=a;for(b++;0!=Kb.I[e].albumID&&-1!=Kb.I[e].albumID;)for(var f=1;f<d;f++)if(Kb.I[f].GetID()==Kb.I[e].albumID){e=f,c.push(e),b++;break}}Kb.O.breadcrumbAutoHideTopLevel&&0==b||r(c)}if(0!=Kb.galleryFilterTags.Get()){var g=Kb.I[a].albumTagList.length;if(g>0){for(var f=0;f<g;f++){var h=Kb.I[a].albumTagList[f],i=Kb.O.icons.navigationFilterUnselected,j="Unselected";jQuery.inArray(h,Kb.I[a].albumTagListSel)>=0&&(j="Selected",i=Kb.O.icons.navigationFilterSelected);jQuery('<div class="nGY2NavigationbarItem nGY2NavFilter'+j+'">'+i+" "+h+"</div>").appendTo(Kb.GOM.navigationBar.$newContent).click(function(){var b=jQuery(this),c=b.text().replace(/^\s*|\s*$/,"");if(b.hasClass("nGY2NavFilterUnselected"))Kb.I[a].albumTagListSel.push(c);else{var d=jQuery.inArray(c,Kb.I[a].albumTagListSel);-1!=d&&Kb.I[a].albumTagListSel.splice(d,1)}b.toggleClass("nGY2NavFilters-oneTagUnselected nGY2NavFilters-oneTagSelected"),m("-1",Kb.I[a].GetID())})}jQuery('<div class="nGY2NavigationbarItem nGY2NavFilterSelectAll">'+Kb.O.icons.navigationFilterSelectedAll+"</div>").appendTo(Kb.GOM.navigationBar.$newContent).click(function(){var b=Kb.I[a].albumTagList.length;Kb.I[a].albumTagListSel=[];for(var c=0;c<b;c++){var d=Kb.I[a].albumTagList[c];Kb.I[a].albumTagListSel.push(d)}m("-1",Kb.I[a].GetID())})}}}function r(a){if(jQuery('<div class="nGY2NavigationbarItem nGY2Breadcrumb"></div>').appendTo(Kb.GOM.navigationBar.$newContent),Kb.O.breadcrumbOnlyCurrentLevel)if(0==a.length)o(0);else{a.length;p(1==a.length?0:a[0]),o(a[0])}else if(o(0),a.length>0){p(0);for(var b=a.length-1;b>=0;b--)o(a[b]),b>0&&p(a[b-1])}}function s(b){if(Kb.$E.conTnBottom.css("opacity",0),Kb.$E.conTnBottom.children().remove(),0!=Kb.GOM.items.length){var c=Math.ceil((Kb.GOM.items[Kb.GOM.items.length-1].row+1)/Kb.galleryMaxRows.Get());if(1!=c&&(Kb.GOM.pagination.currentPage>c-1&&(Kb.GOM.pagination.currentPage=c-1),w(),0!=Kb.GOM.displayInterval.len)){if("NUMBERS"==Kb.O.galleryPaginationMode&&Kb.GOM.pagination.currentPage>0){jQuery('<div class="nGY2PaginationPrev">'+Kb.O.icons.paginationPrevious+"</div>").appendTo(Kb.$E.conTnBottom).click(function(a){v()})}var d=0,e=c;if("NUMBERS"!=Kb.O.galleryPaginationMode)d=0;else{var g=(Kb.O.paginationVisiblePages,Kb.O.paginationVisiblePages);if(g>=c)d=0;else{var h=0;h=t(g)?(g+1)/2:g/2,Kb.GOM.pagination.currentPage<h?(d=0,(e=g-1)>c&&(e=c-1)):(d=Kb.GOM.pagination.currentPage-h,(e=d+g)>c&&(e=c-1)),e-d<g&&(d=e-g)<0&&(d=0)}}for(var i=d;i<e;i++){var j="",k="";switch(Kb.O.galleryPaginationMode){case"NUMBERS":j="nGY2paginationItem",k=i+1;break;case"DOTS":j="nGY2paginationDot";break;case"RECTANGLES":j="nGY2paginationRectangle"}i==Kb.GOM.pagination.currentPage&&(j+="CurrentPage");var l=jQuery('<div class="'+j+'">'+k+"</div>").appendTo(Kb.$E.conTnBottom);l.data("pageNumber",i),l.click(function(b){Kb.GOM.pagination.currentPage=jQuery(this).data("pageNumber"),wb("pageChanged"),f(Kb.$E.base,0)||a("html, body").animate({scrollTop:Kb.$E.base.offset().top},200),I(!0),K(!0)})}if("NUMBERS"==Kb.O.galleryPaginationMode&&Kb.GOM.pagination.currentPage+1<c){jQuery('<div class="nGY2PaginationNext">'+Kb.O.icons.paginationNext+"</div>").appendTo(Kb.$E.conTnBottom).click(function(a){u()})}Kb.$E.conTnBottom.css("opacity",1)}}}function t(a){return a%2==1}function u(){var b=(Kb.GOM.albumIdx,0);fa(),Kb.galleryMaxRows.Get()>0&&(b=(Kb.GOM.items[Kb.GOM.items.length-1].row+1)/Kb.galleryMaxRows.Get());var c=Math.ceil(b),d=Kb.GOM.pagination.currentPage;d<c-1?d++:d=0,Kb.GOM.pagination.currentPage=d,wb("pageChanged"),f(Kb.$E.base,0)||a("html, body").animate({scrollTop:Kb.$E.base.offset().top},200),I(!0),K(!0)}function v(){var b=(Kb.GOM.albumIdx,0);fa(),Kb.galleryMaxRows.Get()>0&&(b=(Kb.GOM.items[Kb.GOM.items.length-1].row+1)/Kb.galleryMaxRows.Get());var c=Math.ceil(b),d=Kb.GOM.pagination.currentPage;d>0?d--:d=c-1,Kb.GOM.pagination.currentPage=d,wb("pageChanged"),f(Kb.$E.base,0)||a("html, body").animate({scrollTop:Kb.$E.base.offset().top},200),I(!0),K(!0)}function w(){switch(Kb.GOM.displayInterval.from=0,Kb.GOM.displayInterval.len=Kb.I.length,Kb.galleryDisplayMode.Get()){case"PAGINATION":if(Kb.layout.support.rows){var a=Kb.GOM.items.length,b=Kb.GOM.pagination.currentPage*Kb.galleryMaxRows.Get(),c=b+Kb.galleryMaxRows.Get(),d=-1;Kb.GOM.displayInterval.len=0;for(var e=0;e<a;e++){var f=Kb.GOM.items[e];f.row>=b&&f.row<c&&(-1==d&&(Kb.GOM.displayInterval.from=e,d=e),Kb.GOM.displayInterval.len++)}}break;case"MOREBUTTON":if(Kb.layout.support.rows){var a=Kb.GOM.items.length,c=Kb.O.galleryDisplayMoreStep*(Kb.GOM.displayedMoreSteps+1);Kb.GOM.displayInterval.len=0;for(var e=0;e<a;e++){var f=Kb.GOM.items[e];f.row<c&&Kb.GOM.displayInterval.len++}}break;case"ROWS":if(Kb.layout.support.rows){var a=Kb.GOM.items.length,c=Kb.galleryMaxRows.Get();Kb.galleryLastRowFull.Get()&&-1!=Kb.GOM.lastFullRow&&c>Kb.GOM.lastFullRow+1&&(c=Kb.GOM.lastFullRow+1),Kb.GOM.displayInterval.len=0;for(var e=0;e<a;e++){var f=Kb.GOM.items[e];f.row<c&&Kb.GOM.displayInterval.len++}}break;default:case"FULLCONTENT":if(Kb.layout.support.rows&&Kb.galleryLastRowFull.Get()&&-1!=Kb.GOM.lastFullRow){var a=Kb.GOM.items.length,c=Kb.GOM.lastFullRow+1;Kb.GOM.displayInterval.len=0;for(var e=0;e<a;e++){var f=Kb.GOM.items[e];f.row<c&&Kb.GOM.displayInterval.len++}}}}function x(a){wb("galleryRenderStart"),clearTimeout(Kb.GOM.slider.timerID),Kb.GOM.slider.hostIdx=-1;var b=Kb.O.fnGalleryRenderStart;if(null!==b&&("function"==typeof b?b(a):window[b](a)),Kb.layout.SetEngine(),Kb.galleryResizeEventEnabled=!1,Kb.GOM.albumIdx=-1,Kb.GOM.lastDisplayedIdx=-1,void 0!==Kb.$E.conTnBottom&&Kb.$E.conTnBottom.empty(),q(a),Kb.GOM.firstDisplay){Kb.GOM.firstDisplay=!1;var c=Date.now()-Kb.GOM.firstDisplayTime;c<Kb.O.galleryRenderDelay?requestTimeout(function(){y(a)},Kb.O.galleryRenderDelay-c):y(a),Kb.O.galleryRenderDelay=0}else{var d=!1;0==Kb.GOM.navigationBar.$newContent.children().length&&(d=!0);(new NGTweenable).tween({from:{opacity:1},to:{opacity:0},duration:300,easing:"easeInQuart",attachment:{h:d},step:function(a,b){Kb.$E.conTnParent.css({opacity:a.opacity}),b.h&&Kb.$E.conNavigationBar.css({opacity:a.opacity})},finish:function(b,c){c.h&&Kb.$E.conNavigationBar.css({opacity:0,display:"none"});var d=Kb.$E.base.offset().top;d<Kb.GOM.cache.viewport.t?jQuery("html, body").animate({scrollTop:d},500,"linear",function(){y(a)}):y(a)}})}}function y(a){var b=Kb.$E.conNavigationBar.children().length;if(Kb.$E.conNavigationBar.empty(),Kb.GOM.navigationBar.$newContent.children().clone(!0,!0).appendTo(Kb.$E.conNavigationBar),Kb.$E.conNavigationBar.children().length>0&&0==b){Kb.$E.conNavigationBar.css({opacity:0,display:"block"});(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},duration:200,easing:"easeInQuart",step:function(a){Kb.$E.conNavigationBar.css(a)},finish:function(b){Kb.$E.conNavigationBar.css({opacity:1}),requestTimeout(function(){z(a)},60)}})}else requestTimeout(function(){z(a)},60)}function z(a){Kb.GOM.lastZIndex=parseInt(Kb.$E.base.css("z-index")),isNaN(Kb.GOM.lastZIndex)&&(Kb.GOM.lastZIndex=0),Kb.$E.conTnParent.css({opacity:0}),Kb.$E.conTn.off().empty();for(var b=Kb.I.length,c=0;c<b;c++){var d=Kb.I[c];d.hovered=!1,d.$elt=null,d.$Elts=[],d.eltTransform=[],d.eltFilter=[],d.width=0,d.height=0,d.left=0,d.top=0,d.resizedContentWidth=0,d.resizedContentHeight=0,d.thumbnailImgRevealed=!1}null==Kb.CSStransformName?Kb.$E.conTn.css("left","0px"):Kb.$E.conTn.css(Kb.CSStransformName,"none"),requestTimeout(function(){A(a)},60)}function A(a){var b=new Date;Kb.$E.conTnParent.css("opacity",1),Kb.GOM.items=[],Kb.GOM.displayedMoreSteps=0,"onBottom"==Kb.O.thumbnailLabel.get("position")?Kb.tn.labelHeight[Kb.GOM.curNavLevel]=Q():Kb.tn.labelHeight[Kb.GOM.curNavLevel]=0,Kb.GOM.albumIdx=a,wb("galleryRenderEnd");var c=Kb.O.fnGalleryRenderEnd;null!==c&&("function"==typeof c?c(a):window[c](a)),C()?(D(),ba(),I(!1),requestTimeout(function(){K(!1)},120)):Kb.galleryResizeEventEnabled=!0,Kb.O.debugMode&&console.log("GalleryRenderPart3: "+(new Date-b))}function B(){var a=new Date;if(Kb.galleryResizeEventEnabled=!1,0==D())return Kb.galleryResizeEventEnabled=!0,void(Kb.O.debugMode&&console.log("GalleryResize1: "+(new Date-a)));Kb.O.debugMode&&console.log("GalleryResizeSetLayout: "+(new Date-a)),I(!1),K(!1),Kb.O.debugMode&&console.log("GalleryResizeFull: "+(new Date-a))}function C(){for(var a="",b=!1,c=Kb.I[Kb.GOM.albumIdx].GetID(),d=Kb.I.length,e=0,f=0;f<d;f++){var g=Kb.I[f];if(g.isToDisplay(c)){var h=g.thumbImg().width,i=g.thumbImg().height;!Kb.layout.prerequisite.imageSize||0!=h&&0!=i||(b=!0,a+='<img src="'+g.thumbImg().src+'" data-idx="'+e+'" data-albumidx="'+Kb.GOM.albumIdx+'">'),0==i&&(i=Kb.tn.defaultSize.getHeight()),0==h&&(h=Kb.tn.defaultSize.getWidth());var j=new Kb.GOM.GTn(f,h,i);Kb.GOM.items.push(j),e++}}wb("galleryObjectModelBuilt");var k=Kb.O.fnGalleryObjectModelBuilt;if(null!==k&&("function"==typeof k?k():window[k]()),b){var l=jQuery(a),m=ngimagesLoaded(l);return l=null,m.on("progress",function(a,b){if(b.isLoaded){var c=b.img.getAttribute("data-idx");if(b.img.getAttribute("data-albumidx")==Kb.GOM.albumIdx){var d=Kb.GOM.items[c];d.imageWidth=b.img.naturalWidth,d.imageHeight=b.img.naturalHeight;var e=Kb.I[d.thumbnailIdx];e.thumbs.width[Kb.GOM.curNavLevel][Kb.GOM.curWidth]=d.imageWidth,e.thumbs.height[Kb.GOM.curNavLevel][Kb.GOM.curWidth]=d.imageHeight,Kb.GalleryResizeThrottled();var f=e.thumbs.width.l1;for(var g in f)f.hasOwnProperty(g)&&g!=Kb.GOM.curWidth&&Kb.tn.settings.width.l1[g]==Kb.tn.settings.getW()&&Kb.tn.settings.height.l1[g]==Kb.tn.settings.getH()&&(e.thumbs.width.l1[g]=d.imageWidth,e.thumbs.height.l1[g]=d.imageHeight);f=e.thumbs.width.lN;for(var g in f)f.hasOwnProperty(g)&&g!=Kb.GOM.curWidth&&Kb.tn.settings.width.lN[g]==Kb.tn.settings.getW()&&Kb.tn.settings.height.lN[g]==Kb.tn.settings.getH()&&(e.thumbs.width.lN[g]=d.imageWidth,e.thumbs.height.lN[g]=d.imageHeight)}}}),Kb.galleryResizeEventEnabled=!0,!1}return!0}function D(){var a=!0;switch(Kb.GOM.cache.areaWidth=Kb.$E.conTnParent.width(),Kb.GOM.displayArea={width:0,height:0},Kb.layout.engine){case"JUSTIFIED":a=F();break;case"CASCADING":a=E();break;case"MOSAIC":a=G();break;case"GRID":default:a=H()}wb("galleryLayoutApplied");var b=Kb.O.fnGalleryLayoutApplied;return null!==b&&("function"==typeof b?b():window[b]()),a}function E(){var a=0,b=Kb.GOM.cache.areaWidth,c=0,d=[],e=Y(b),f=0,g=Kb.tn.opt.Get("gutterHeight"),h=0,i=1,j=Kb.tn.defaultSize.getOuterWidth(),k=Kb.GOM.items.length,l=0;"justified"==Kb.O.thumbnailAlignment?(e=Math.min(e,k),f=1==e?0:(b-e*j)/(e-1)):f=Kb.tn.opt.Get("gutterWidth");var m=2*Kb.tn.borderWidth,n=2*Kb.tn.borderHeight;if(Kb.GOM.lastFullRow=-1,"fillWidth"==Kb.O.thumbnailAlignment){var o=(e-1)*f;i=(b-o)/(e*j),i>1&&e++,o=(e-1)*f,i=Math.min((b-o)/(e*j),1)}j*=i;for(var p=j-m,q=Kb.tn.opt.Get("baseGridHeight")*i,r=0;r<k;r++){var s=Kb.GOM.items[r];if(1==s.deleted)break;if(s.imageHeight>0&&s.imageWidth>0){var t=0,l=0,u=s.imageHeight/s.imageWidth;if(s.resizedContentWidth=p,s.resizedContentHeight=s.resizedContentWidth*u,q>0){var v=Math.max(Math.trunc(s.resizedContentHeight/q),1);s.resizedContentHeight=q*v+(v-1)*(n+g)}if(s.height=s.resizedContentHeight+n+Kb.tn.labelHeight.get(),s.width=j,s.row=0,0==c)t=a*(j+f),d[a]=s.height+g,++a>=e&&(a=0,c++);else{for(var w=0,x=d[0],y=1;y<e;y++)d[y]+5<x&&(x=d[y],w=y);l=d[w],t=w*(j+f),d[w]=l+s.height+g}var z=t;Kb.O.RTL&&(z=h-t-j),s.left=z,s.top=l}}return Kb.GOM.displayArea.width=e*(j+f)-f,!0}function F(){for(var a=0,b=Kb.GOM.cache.areaWidth,c=0,d=0,e=[],f=0,g=[],h=!1,i=0,j=Kb.tn.opt.Get("gutterWidth"),k=Kb.tn.opt.Get("gutterHeight"),l=0,m=0,n=!1,o=!1,p=Kb.tn.defaultSize.getOuterHeight(),q=2*Kb.tn.borderWidth,r=2*Kb.tn.borderHeight,s=1,t=Kb.GOM.items.length,u=0;u<t;u++){var v=Kb.GOM.items[u];if(1==v.deleted)break;if(v.imageWidth>0){var w=v.imageWidth/v.imageHeight,x=Math.floor(p*w);if(h&&(h=!1,f++,a=0,n=!1,o=!1,s=1),v.imageHeight>v.imageWidth?n=!0:o=!0,a+j+x<b-s*q){a+=x+j,g[f]=p;var y=Math.max(n?l:0,o?m:0);y>0&&(g[f]=Math.min(g[f],y)),e[f]=u}else{a+=j+x;var z=(b-s*q)/a,A=Math.floor(p*z);g[f]=A,n&&(l=Math.max(l,A)),o&&(m=Math.max(m,A)),e[f]=u,h=!0}i++,s++}}f=0,d=0,c=0,i=0,Kb.GOM.lastFullRow=0;for(var u=0;u<t;u++){var v=Kb.GOM.items[u];if(!(v.imageWidth>0))return!1;var w=v.imageWidth/v.imageHeight,x=Math.floor(w*g[f]);u==e[f]&&(e.length!=f+1?x=b-c-q:c+j+x+q>b&&(x=b-c-q));var B=parseInt(g[f]);x=parseInt(x),v.resizedContentWidth=x,v.resizedContentHeight=B,v.width=x+q,v.height=B+Kb.tn.labelHeight.get()+r,v.row=f,v.top=d;var C=c;Kb.O.RTL&&(C=b-c-v.width),v.left=C,c+=v.width+j,u==e[f]&&(d+=v.height+k,Kb.GOM.lastFullRow=f-1,f++,c=0),i++}var u,v;return Kb.GOM.displayArea.width=b,!0}function G(){for(var a=Kb.GOM.cache.areaWidth,b=Kb.tn.opt.Get("gutterHeight"),c=Kb.tn.opt.Get("gutterWidth"),d=2*Kb.tn.borderWidth,e=2*Kb.tn.borderHeight,f=Kb.GOM.items.length,g=0,h=0,i=0,j=0,k=0,l=Kb.tn.settings.getMosaic(),m=0;m<f;m++){var n=l[i],o=(n.c-1)*Kb.tn.defaultSize.getOuterWidth()+(n.c-1)*c,p=n.w*Kb.tn.defaultSize.getOuterWidth()+(n.w-1)*c;if(k=Math.max(k,o+p),j=Math.max(j,n.c-1+n.w),++i>=l.length)break}var q=(j-1)*c,r=Math.min((a-q)/(k-q),1);g=0,i=0;for(var l=Kb.tn.settings.getMosaic(),m=0;m<f;m++){var s=Kb.GOM.items[m],n=l[i];s.top=(n.r-1)*Kb.tn.defaultSize.getOuterHeight()*r+(n.r-1)*b+g*h+Kb.tn.labelHeight.get()*(n.r-1),g>0&&(s.top+=b),s.left=(n.c-1)*Kb.tn.defaultSize.getOuterWidth()*r+(n.c-1)*c,s.height=n.h*Kb.tn.defaultSize.getOuterHeight()*r+(n.h-1)*b+Kb.tn.labelHeight.get()*n.h,s.resizedContentHeight=s.height-Kb.tn.labelHeight.get()-e,s.width=n.w*Kb.tn.defaultSize.getOuterWidth()*r+(n.w-1)*c,s.resizedContentWidth=s.width-d,s.row=g,0==g&&(h=Math.max(h,s.top+s.height)),i++,i>=l.length&&(i=0,g++)}return Kb.GOM.displayArea.width=(k-q)*r+q,!0}function H(){var a=0,b=0,c=Kb.GOM.cache.areaWidth,d=0,e=Kb.tn.opt.Get("gutterHeight"),f=Y(c),g=0,h=[],i=0,j=c,k=Kb.tn.defaultSize.getOuterWidth(),l=1,m=Kb.GOM.items.length,n=2*Kb.tn.borderWidth,o=2*Kb.tn.borderHeight;if("justified"==Kb.O.thumbnailAlignment?(f=Math.min(f,m),d=1==f?0:(c-f*k)/(f-1)):d=Kb.tn.opt.Get("gutterWidth"),Kb.O.RTL||"fillWidth"==Kb.O.thumbnailAlignment){var p=(f-1)*d;l=(c-p)/(f*k),l>1&&f++,p=(f-1)*d,l=Math.min((c-p)/(f*k),1),j=f*k+p}Kb.GOM.lastFullRow=0;var q=0;k*=l;for(var r=k-n,s=Kb.tn.defaultSize.getOuterHeight()*l+Kb.tn.labelHeight.get(),t=Kb.tn.defaultSize.getOuterHeight()*l-o,u=0;u<m;u++){0==b?(a=i*(k+d),h[i]=a,g=a+k):a=h[i];var v=a;Kb.O.RTL&&(v=parseInt(j)-a-k);var w=Kb.GOM.items[u];w.top=b,w.left=v,w.height=s,w.width=k,"fillWidth"==Kb.O.thumbnailAlignment&&(w.resizedContentWidth=r,w.resizedContentHeight=t),w.row=q,b,i++,i>=f&&(i=0,b+=s+e,Kb.GOM.lastFullRow=q,q++)}return Kb.GOM.displayArea.width=g,!0}function I(a){null==Kb.CSStransformName?Kb.$E.conTn.css("left","0px"):Kb.$E.conTn.css(Kb.CSStransformName,"none"),J()}function J(){Kb.GOM.cache.viewport=e(),Kb.GOM.cache.areaWidth=Kb.$E.conTnParent.width(),Kb.GOM.cache.containerOffset=Kb.$E.conTnParent.offset()}function K(a){var b=Kb.GOM.items.length;Kb.GOM.itemsDisplayed=0;var c=50,d=0;w();for(var e=0;e<b;e++){var f=Kb.GOM.items[e];e>=Kb.GOM.displayInterval.from&&d<Kb.GOM.displayInterval.len?(f.inDisplayArea=!0,a&&(f.neverDisplayed=!0),Kb.GOM.itemsDisplayed++,d++):f.inDisplayArea=!1}n();var g=[],h=[];Kb.GOM.clipArea.top=-1,d=0;var i=-1;Kb.GOM.clipArea.height=0;for(var e=0;e<b;e++){var f=Kb.GOM.items[e];if(f.inDisplayArea){if(-1==Kb.GOM.clipArea.top&&(Kb.GOM.clipArea.top=f.top),f.top-Kb.GOM.clipArea.top<=-1&&(Kb.GOM.clipArea.top=f.top),Kb.GOM.clipArea.height=Math.max(Kb.GOM.clipArea.height,f.top-Kb.GOM.clipArea.top+f.height),f.neverDisplayed){var j=Kb.GOM.cache.containerOffset.top+(f.top-Kb.GOM.clipArea.top);if(j+f.height>=Kb.GOM.cache.viewport.t-c&&j<=Kb.GOM.cache.viewport.t+Kb.GOM.cache.viewport.h+c){var k=Kb.I[f.thumbnailIdx];null==k.$elt&&T(k,f.thumbnailIdx,e,e+1==b),g.push({idx:e,delay:d}),d++}}else h.push({idx:e,delay:0});i=e}else{f.displayed=!1;var k=Kb.I[f.thumbnailIdx];null!=k.$elt&&k.$elt.css({opacity:0,display:"none"})}}var l=Kb.$E.conTnParent.width();if(Kb.GOM.displayArea.width==Kb.GOM.displayAreaLast.width&&Kb.GOM.clipArea.height==Kb.GOM.displayAreaLast.height||(Kb.$E.conTn.width(Kb.GOM.displayArea.width).height(Kb.GOM.clipArea.height),Kb.GOM.displayAreaLast.width=Kb.GOM.displayArea.width,Kb.GOM.displayAreaLast.height=Kb.GOM.clipArea.height),l!=Kb.$E.conTnParent.width())return Kb.GOM.cache.areaWidth=Kb.$E.conTnParent.width(),D(),I(a),void K(a);if(Kb.layout.support.rows&&("ROWS"==Kb.galleryDisplayMode.Get()||"FULLCONTENT"==Kb.galleryDisplayMode.Get()&&Kb.galleryLastRowFull.Get()&&-1!=Kb.GOM.lastFullRow)&&(Kb.GOM.lastDisplayedIdxNew=i<b-1?i:-1,-1!=Kb.GOM.lastDisplayedIdx)){var k=Kb.I[Kb.GOM.items[Kb.GOM.lastDisplayedIdx].thumbnailIdx];k.$getElt(".nGY2GThumbnailIconsFullThumbnail").html("")}var m=g.length;Kb.GOM.thumbnails2Display=[];for(var e=0;e<m;e++)L(g[e].idx,e);for(var o=h.length,e=0;e<o;e++)L(h[e].idx,e);aa(),"NONE"==Kb.tn.opt.Get("displayTransition")?(Kb.galleryResizeEventEnabled=!0,wb("galleryDisplayed")):requestTimeout(function(){Kb.galleryResizeEventEnabled=!0,wb("galleryDisplayed")},m*Kb.tn.opt.Get("displayInterval"))}function L(a,b){var c=0,d=Kb.GOM.items[a],e=Kb.GOM.items[a].thumbnailIdx,f=Kb.I[e];if(d.neverDisplayed){var g=d.top-Kb.GOM.clipArea.top;if(Kb.tn.opt.Get("stacks")>0?(f.$elt.last().css({display:"block"}),f.$elt.css({top:g,left:d.left})):f.$elt.css({display:"block",top:g,left:d.left}),c=g,!0===Kb.O.thumbnailWaitImageLoaded){ngimagesLoaded(f.$getElt(".nGY2TnImg2")).on("progress",function(a,b){if(b.isLoaded){if(b.img.getAttribute("data-albumidx")==Kb.GOM.albumIdx){var c=b.img.getAttribute("data-idx");Kb.I[c].ThumbnailImageReveal()}}})}Z(a,b),d.displayed=!0,d.neverDisplayed=!1}else{var h=Kb.GOM.cache.containerOffset.top+f.top,g=Kb.GOM.cache.containerOffset.top+(d.top-Kb.GOM.clipArea.top);c=d.top-Kb.GOM.clipArea.top;var i=Kb.GOM.cache.viewport;if(Kb.O.thumbnailDisplayOutsideScreen||h+d.height>=i.t-i.h&&h<=i.t+4*i.h||g+d.height>=i.t-i.h&&g<=i.t+4*i.h)if(d.displayed){if(f.top!=d.top||f.left!=d.left)if(1==Kb.O.galleryResizeAnimation){var j=new NGTweenable;j.tween({from:{top:f.top,left:f.left,height:f.height,width:f.width},to:{top:c,left:d.left,height:d.height,width:d.width},attachment:{$e:f.$elt},duration:100,delay:b*Kb.tn.opt.Get("displayInterval")/5,easing:"easeOutQuart",step:function(a,b){b.$e.css(a)},finish:function(a,b){this.dispose()}})}else f.$elt.css({top:c,left:d.left})}else d.displayed=!0,f.$elt.css({display:"block",top:c,left:d.left,opacity:1}),$(f);else d.displayed=!1,f.$elt.css({display:"none"})}if(f.left=d.left,f.top=c,f.width==d.width&&f.height==d.height||(f.$elt.css({width:d.width,height:d.height}),f.width=d.width,f.height=d.height,f.resizedContentWidth==d.resizedContentWidth&&f.resizedContentHeight==d.resizedContentHeight||("albumUp"==f.kind||(f.$getElt(".nGY2GThumbnailImage").css({height:d.resizedContentHeight,width:d.resizedContentWidth}),"JUSTIFIED"==Kb.layout.engine&&f.$getElt(".nGY2GThumbnailImg").css({height:d.resizedContentHeight,width:d.resizedContentWidth})),f.resizedContentWidth=d.resizedContentWidth,f.resizedContentHeight=d.resizedContentHeight)),Kb.GOM.lastDisplayedIdxNew==a&&Kb.layout.support.rows&&("ROWS"==Kb.galleryDisplayMode.Get()&&Kb.galleryMaxRows.Get()>0||"FULLCONTENT"==Kb.galleryDisplayMode.Get()&&Kb.galleryLastRowFull.Get()&&-1!=Kb.GOM.lastFullRow)){var k=Kb.GOM.items.length-a-1;"0"!=f.albumID&&Kb.O.thumbnailLevelUp&&k--,k>0?((Kb.O.thumbnailOpenImage||Kb.O.thumbnailSliderDelay>0)&&f.$getElt(".nGY2GThumbnailIconsFullThumbnail").html("+"+k),Kb.GOM.slider.hostItem!=Kb.GOM.NGY2Item(a)&&(P(Kb.GOM.slider.hostItem),Kb.GOM.slider.hostIdx=a,Kb.GOM.slider.hostItem=Kb.GOM.NGY2Item(a),Kb.GOM.slider.nextIdx=a,Kb.GOM.slider.currentIdx=a,M())):(P(Kb.GOM.slider.hostItem),Kb.GOM.slider.hostIdx=-1),Kb.GOM.lastDisplayedIdx=a}}function M(){if(0!=Kb.O.thumbnailSliderDelay&&-1!=Kb.GOM.slider.hostIdx){clearTimeout(Kb.GOM.slider.timerID);var a=Kb.GOM.slider.hostItem;0==a.$getElt(".nGY2TnImgNext").length&&(a.$getElt(".nGY2TnImg").clone().removeClass("nGY2TnImg").addClass("nGY2TnImgNext").insertAfter(a.$getElt(".nGY2TnImg")),a.$getElt(".nGY2TnImgBack").clone().removeClass("nGY2TnImgBack").addClass("nGY2TnImgBackNext").insertAfter(a.$getElt(".nGY2TnImg",!0)),a.$getElt(".nGY2GThumbnailImage",!0),a.$getElt(".nGY2GThumbnailImg",!0)),a.CSSTransformSet(".nGY2TnImgNext","translateX","100%",!0),a.CSSTransformApply(".nGY2TnImgNext"),a.CSSTransformSet(".nGY2TnImgBackNext","translateX","100%",!0),a.CSSTransformApply(".nGY2TnImgBackNext"),N(),Kb.GOM.slider.timerID=requestTimeout(function(){O()},Kb.O.thumbnailSliderDelay)}}function N(){++Kb.GOM.slider.nextIdx>=Kb.GOM.items.length&&(Kb.GOM.slider.nextIdx=Kb.GOM.slider.hostIdx);var a=Kb.GOM.NGY2Item(Kb.GOM.slider.nextIdx),b=(Kb.emptyGif,"url('"+Kb.emptyGif+"')");null!=a.imageDominantColors&&(a.imageDominantColors,b="url('"+a.imageDominantColors+"')"),Kb.GOM.slider.hostItem.$getElt(".nGY2TnImgBackNext",!0).css({"background-image":b,opacity:1}),Kb.GOM.slider.hostItem.$getElt(".nGY2TnImgNext",!0).css({"background-image":"url('"+a.thumbImg().src+"')",opacity:1}),Kb.GOM.slider.hostItem.$getElt(".nGY2TnImgNext .nGY2GThumbnailImg",!0).attr("src",a.thumbImg().src)}function O(){if(null!=Kb.GOM.slider.hostItem.$getElt()){var a=new NGTweenable;Kb.GOM.slider.tween=a,a.tween({from:{left:100},to:{left:0},duration:800,delay:0,easing:"easeOutQuart",step:function(a){if(null==Kb.GOM.slider.hostItem.$getElt())return void Kb.GOM.slider.tween.stop(!1);Kb.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBack","translateX",-(100-a.left)+"%"),Kb.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBack"),Kb.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImg","translateX",-(100-a.left)+"%"),Kb.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImg"),Kb.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBackNext","translateX",a.left+"%"),Kb.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBackNext"),Kb.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgNext","translateX",a.left+"%"),Kb.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgNext")},finish:function(a){null!=Kb.GOM.slider.hostItem.$getElt()&&null!=Kb.GOM.NGY2Item(Kb.GOM.slider.nextIdx)&&(P(Kb.GOM.NGY2Item(Kb.GOM.slider.nextIdx)),Kb.GOM.slider.currentIdx=Kb.GOM.slider.nextIdx,N(),clearTimeout(Kb.GOM.slider.timerID),Kb.GOM.slider.timerID=requestTimeout(function(){O()},Kb.O.thumbnailSliderDelay))}})}}function P(a){if(-1!=Kb.GOM.slider.hostIdx){null!=Kb.GOM.slider.tween&&1==Kb.GOM.slider.tween._isTweening&&Kb.GOM.slider.tween.stop(!1);var b="url('"+Kb.emptyGif+"')";if(null!=a.imageDominantColors&&(b="url('"+a.imageDominantColors+"')"),Kb.GOM.slider.hostItem.$getElt(".nGY2TnImgBack").css("background-image",b),Kb.GOM.slider.hostItem.$getElt(".nGY2TnImg").css("background-image","url('"+a.thumbImg().src+"')"),Kb.GOM.slider.hostItem.$getElt(".nGY2TnImg .nGY2GThumbnailImg").attr("src",a.thumbImg().src),Kb.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBack","translateX","0"),Kb.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBack"),Kb.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImg","translateX","0"),Kb.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImg"),Kb.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBackNext","translateX","100%",!0),Kb.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBackNext"),Kb.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgNext","translateX","100%",!0),Kb.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgNext"),1==Kb.O.thumbnailLabel.get("display")){var c=Kb.O.icons.thumbnailAlbum;"album"!=a.kind&&(c=Kb.O.icons.thumbnailImage),Kb.GOM.slider.hostItem.$getElt(".nGY2GThumbnailTitle").html(c+W(a)),Kb.GOM.slider.hostItem.$getElt(".nGY2GThumbnailDescription").html(c+X(a))}}}function Q(){var a=[],b=0;if(0==Kb.O.thumbnailLabel.get("display"))return 0;Kb.O.thumbnailLabel.get("displayDescription"),a[b++]='<div class="nGY2GThumbnail '+Kb.O.theme+'" style="display:block;visibility:hidden;position:absolute;top:-9999px;left:-9999px;" ><div class="nGY2GThumbnailSub">',1==Kb.O.thumbnailLabel.get("display")&&(a[b++]='  <div class="nGY2GThumbnailLabel" '+Kb.tn.style.getLabel()+">",a[b++]='    <div class="nGY2GThumbnailAlbumTitle" '+Kb.tn.style.getTitle()+">aAzZjJ</div>",1==Kb.O.thumbnailLabel.get("displayDescription")&&(a[b++]='    <div class="nGY2GThumbnailDescription" '+Kb.tn.style.getDesc()+">aAzZjJ</div>"),a[b++]="  </div>"),a[b++]="</div></div>";var c=jQuery(a.join("")).appendTo(Kb.$E.conTn),d=c.find(".nGY2GThumbnailLabel").outerHeight(!0);return c.remove(),d}function R(a){var b=Kb.tn.opt.Get("stacks");if(0==b)return"";for(var c="",d=0;d<b;d++)c='<div class="nGY2GThumbnailStack " style="display:none;'+a+'"></div>'+c;return c}function S(a,b,c){var d=[],e=0,f="";!1===Kb.O.thumbnailOpenImage&&(f="cursor:default;"),d[e++]=R("")+'<div class="nGY2GThumbnail" style="display:none;opacity:0;'+f+'" >',d[e++]='  <div class="nGY2GThumbnailSub">';var g=Kb.tn.defaultSize.getHeight(),h=Kb.tn.defaultSize.getWidth();d[e++]='    <div class="nGY2GThumbnailImage" style="width:'+h+"px;height:"+g+'px;"><img class="nGY2GThumbnailImg" src="'+Kb.emptyGif+'" alt="" style="max-width:'+h+"px;max-height:"+g+'px;" ></div>',d[e++]='    <div class="nGY2GThumbnailAlbumUp" >'+Kb.O.icons.thumbnailAlbumUp+"</div>",d[e++]="  </div>",d[e++]="</div>";var i=jQuery(d.join("")).appendTo(Kb.$E.conTn);a.$elt=i,i.data("index",c),a.$getElt(".nGY2GThumbnailImg").data("index",c)}function T(a,b,c,d){if(a.eltTransform=[],a.eltFilter=[],a.hoverInitDone=!1,a.$Elts=[],"albumUp"==a.kind)return void S(a,b,c);var e=[],f=0,g="";!1===Kb.O.thumbnailOpenImage&&(g="cursor:default;");var h=a.thumbImg().src.replace(/'/g,"%27"),i=W(a),j="",k="background-image: url('"+Kb.emptyGif+"');";null!=a.imageDominantColors?k="background-image: url('"+a.imageDominantColors+"');":null!=a.imageDominantColor?j="background-color:"+a.imageDominantColor+";":k="";var l="opacity:1;";1==Kb.O.thumbnailWaitImageLoaded&&(l="opacity:0;"),e[f++]=R(j)+'<div class="nGY2GThumbnail" style="display:none;opacity:0;'+g+'"><div class="nGY2GThumbnailSub '+(Kb.O.thumbnailSelectable&&a.selected?"nGY2GThumbnailSubSelected":"")+'">';var m=Kb.tn.settings.getW(),n=Kb.tn.settings.getH();null!==Kb.tn.settings.getMosaic()&&(m=Kb.GOM.items[c].width,n=Kb.GOM.items[c].height);var o="contain";Kb.tn.opt.Get("crop")&&(o="cover");var p="position: absolute; top: 0px; left: 0px; width:"+m+"px; height:"+n+"px;"+j+k+" background-position: center center;  background-repeat: no-repeat; background-size:"+o+"; overflow: hidden;";e[f++]='<div class="nGY2GThumbnailImage nGY2TnImgBack" style="'+p+'"></div>';var q=l+"position: absolute; top: 0px; left: 0px; width:"+m+"px; height:"+n+"px; background-image: url('"+h+"'); background-position: center center; background-repeat: no-repeat; background-size:"+o+"; overflow: hidden;";e[f++]='<div class="nGY2GThumbnailImage nGY2TnImg" style="'+q+'">',e[f++]='  <img class="nGY2GThumbnailImg nGY2TnImg2" src="'+h+'" alt="'+i+'" style="opacity:0;" data-idx="'+b+'" data-albumidx="'+Kb.GOM.albumIdx+'" >',e[f++]="</div>",e[f++]='<div class="nGY2GThumbnailCustomLayer"></div>',1==Kb.O.thumbnailLabel.get("display")&&(e[f++]='  <div class="nGY2GThumbnailLabel" '+Kb.tn.style.getLabel(a)+">","album"==a.kind?e[f++]='    <div class="nGY2GThumbnailTitle nGY2GThumbnailAlbumTitle" '+Kb.tn.style.getTitle()+">"+Kb.O.icons.thumbnailAlbum+i+"</div>":e[f++]='    <div class="nGY2GThumbnailTitle nGY2GThumbnailImageTitle" '+Kb.tn.style.getTitle()+">"+Kb.O.icons.thumbnailImage+i+"</div>",e[f++]='    <div class="nGY2GThumbnailDescription" '+Kb.tn.style.getDesc()+">"+X(a)+"</div>",e[f++]="  </div>"),e[f++]=U(a,d),e[f++]="</div></div>";var r=jQuery(e.join("")).appendTo(Kb.$E.conTn);a.$elt=r,r.data("index",c),a.$getElt(".nGY2GThumbnailImg").data("index",c);var s=Kb.O.fnThumbnailInit
;null!==s&&("function"==typeof s?s(r,a,c):window[s](r,a,c)),"image gallery by nanogallery2 [build]"!=a.title&&ca(c)}function U(a,b){var c=V(a,"topLeft")+V(a,"topRight")+V(a,"bottomLeft")+V(a,"bottomRight");return c+='<div class="nGY2GThumbnailIconsFullThumbnail"></div>'}function V(a,b){var c="",d=Kb.tn.toolbar.get(a),e={xs:0,sm:1,me:2,la:3,xl:4},f=0;if(""!=d[b]){var g="top: 0; right: 0; text-align: right;";switch(b){case"topLeft":g="top: 0; left: 0; text-align: left;";break;case"bottomRight":g="bottom: 0; right: 0; text-align: right;";break;case"bottomLeft":g="bottom: 0; left: 0; text-align: left;"}c+='  <ul class="nGY2GThumbnailIcons" style="'+g+'">';for(var h=d[b].split(","),i=h.length,j=0;j<i;j++){var k=h[j].replace(/^\s*|\s*$/,""),l=k.substring(0,2).toLowerCase(),m=k,n=!0;if(/xs|sm|me|la|xl/i.test(l)&&(e[l]>e[Kb.GOM.curWidth]&&(n=!1),m=k.substring(2)),n){var o=j+1<i?"&nbsp;":"";switch(m){case"COUNTER":"album"==a.kind&&(c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',c+='      <div class="nGY2GThumbnailIconImageCounter"></div>',c+='      <div class="nGY2GThumbnailIconText">'+Kb.O.icons.thumbnailCounter+Math.max(a.getContentLength(!1),a.numberItems)+o+"</div>",c+="    </li>",f++);break;case"COUNTER2":"album"==a.kind&&(c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',c+='      <div class="nGY2GThumbnailIconTextBadge">'+Kb.O.icons.thumbnailCounter+Math.max(a.getContentLength(!1),a.numberItems)+o+"</div>",c+="    </li>",f++);break;case"SHARE":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',c+="      <div>"+Kb.O.icons.thumbnailShare+"</div>",c+="    </li>",f++;break;case"DOWNLOAD":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',c+="      <div>"+Kb.O.icons.thumbnailDownload+"</div>",c+="    </li>",f++;break;case"INFO":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',c+="      <div>"+Kb.O.icons.thumbnailInfo+"</div>",c+="    </li>",f++;break;case"CART":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',c+="      <div>"+Kb.O.icons.thumbnailCart+"</div>",c+="    </li>",f++;break;case"DISPLAY":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="DISPLAY">',c+='      <div class="nGY2GThumbnailIconImageShare">'+Kb.O.icons.thumbnailDisplay+"</div>",c+="    </li>",f++;break;case"CUSTOM1":case"CUSTOM2":case"CUSTOM3":case"CUSTOM4":case"CUSTOM5":case"CUSTOM6":case"CUSTOM7":case"CUSTOM8":case"CUSTOM9":case"CUSTOM10":var p=m.replace("CUSTOM","");c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m.toLowerCase()+'">',c+='      <div class="nGY2GThumbnailIconImageShare">'+Kb.O.icons["thumbnailCustomTool"+p]+"</div>",c+="    </li>",f++;break;case"FEATURED":!0===a.featured&&(c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',c+='      <div class="nGY2GThumbnailIconImageFeatured">'+Kb.O.icons.thumbnailFeatured+"</div>",c+="    </li>",f++);break;case"SELECT":1==Kb.O.thumbnailSelectable&&(c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="TOGGLESELECT">',!0===a.selected?c+='      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailSelected">'+Kb.O.icons.thumbnailSelected+"</div>":c+='      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailUnselected">'+Kb.O.icons.thumbnailUnselected+"</div>",c+="    </li>",f++)}}}c+="  </ul>"}return f>0?c:""}function W(a){var b=a.title;if(1==Kb.O.thumbnailLabel.get("display")){void 0!==b&&0!=b.length||(b="&nbsp;"),""!=Kb.i18nTranslations.thumbnailImageTitle&&(b=Kb.i18nTranslations.thumbnailImageTitle);var c=Kb.O.thumbnailLabel.get("titleMaxLength");c>3&&b.length>c&&(b=b.substring(0,c)+"...")}return b}function X(a){var b="";if(1==Kb.O.thumbnailLabel.get("displayDescription")){b="album"==a.kind?""!=Kb.i18nTranslations.thumbnailImageDescription?Kb.i18nTranslations.thumbnailAlbumDescription:a.description:""!=Kb.i18nTranslations.thumbnailImageDescription?Kb.i18nTranslations.thumbnailImageDescription:a.description;var c=Kb.O.thumbnailLabel.get("descriptionMaxLength");c>3&&b.length>c&&(b=b.substring(0,c)+"..."),0==b.length&&(b="&nbsp;")}return b}function Y(a){var b=Kb.tn.defaultSize.getOuterWidth(),c=0;return c="justified"==Kb.O.thumbnailAlignment?Math.floor(a/b):Math.floor((a+Kb.tn.opt.Get("gutterWidth"))/(b+Kb.tn.opt.Get("gutterWidth"))),Kb.O.maxItemsPerLine>0&&c>Kb.O.maxItemsPerLine&&(c=Kb.O.maxItemsPerLine),c<1&&(c=1),c}function Z(a,b){var c=Kb.GOM.items[a],d=Kb.I[c.thumbnailIdx];if("NONE"==Kb.tn.opt.Get("displayTransition"))d.$elt.css({opacity:1}),$(d);else{if(null==d.$elt)return;var e=Kb.GOM.cache.containerOffset.top+(c.top-Kb.GOM.clipArea.top),f=Kb.GOM.cache.viewport;if(e+(c.top-Kb.GOM.clipArea.top)>=f.t-50&&e<=f.t+f.h+50){var g=b*Kb.tn.opt.Get("displayInterval");return void("CUSTOM"==Kb.tn.opt.Get("displayTransition")?"lN"==Kb.GOM.curNavLevel?Kb.O.fnThumbnailDisplayEffect(d.$elt,d,a,g):Kb.O.fnThumbnailL1DisplayEffect(d.$elt,d,a,g):Kb.GOM.thumbnails2Display.push({itm:d,d:g}))}d.$elt.css({opacity:1}),$(d)}}function $(a){var b=Kb.tn.opt.Get("stacks");if(b>0){a.$elt.css({display:"block"});for(var c=.9,d=b-1;d>=0;d--)a.$elt.eq(d).css("opacity",c),c-=.2}}function _(a,b){function c(a,b){return Math.floor(Math.random()*(b-a+1)+a)}var d={},e={};switch(Kb.tn.opt.Get("displayTransition")){case"RANDOMSCALE":for(var f=[.95,1,1.05,1.1],g=[1,2,3,4],h=c(0,3);h==Kb.GOM.lastRandomValue;)h=c(0,3);Kb.GOM.lastRandomValue=h;var i=f[h];a.$elt.css({"z-index":Kb.GOM.lastZIndex+g[h],"box-shadow":"0px 0px 5px 3px rgba(0,0,0,0.74)"}),d={scale:.5,opacity:0},e={scale:i,opacity:1};break;case"SCALEUP":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=.6),d={scale:i,opacity:0},e={scale:1,opacity:1};break;case"SCALEDOWN":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=1.3),d={scale:i,opacity:0},e={scale:1,opacity:1};break;case"SLIDEUP":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=50),d={opacity:0,translateY:i},e={opacity:1,translateY:0};break;case"SLIDEDOWN":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-50),d={opacity:0,translateY:i},e={opacity:1,translateY:0};break;case"FLIPUP":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=100),d={opacity:0,translateY:i,rotateX:45},e={opacity:1,translateY:0,rotateX:0};break;case"FLIPDOWN":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-100),d={opacity:0,translateY:i,rotateX:-45},e={opacity:1,translateY:0,rotateX:0};break;case"SLIDEUP2":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=100),d={opacity:0,translateY:i,rotateY:40},e={opacity:1,translateY:0,rotateY:0};break;case"SLIDEDOWN2":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-100),d={opacity:0,translateY:i,rotateY:40},e={opacity:1,translateY:0,rotateY:0};break;case"SLIDERIGHT":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-150),d={opacity:0,translateX:i},e={opacity:1,translateX:0};break;case"SLIDELEFT":var i=Kb.tn.opt.Get("displayTransitionStartVal");0==i&&(i=150),d={opacity:0,translateX:i},e={opacity:1,translateX:0};break;case"FADEIN":d={opacity:0},e={opacity:1}}var j=new NGTweenable;j.tween({from:d,to:e,attachment:{$e:a.$elt,item:a,tw:j},delay:b,duration:Kb.tn.opt.Get("displayTransitionDuration"),easing:Kb.tn.opt.Get("displayTransitionEasing"),step:function(a,b){window.requestAnimationFrame(function(){if(null===b.item.$elt)return void b.tw.stop(!1);switch(Kb.tn.opt.Get("displayTransition")){case"RANDOMSCALE":case"SCALEUP":b.$e.css(Kb.CSStransformName,"scale("+a.scale+")").css("opacity",a.opacity);break;case"SCALEDOWN":b.item.$elt.last().css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEUP":b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translate","0px, "+a.translateY+"px"),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEDOWN":b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+a.translateY+"px"),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"FLIPUP":b.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+a.translateY+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateX",a.rotateX+"deg"),b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"FLIPDOWN":b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+a.translateY+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateX",a.rotateX+"deg"),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEUP2":b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+a.translateY+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateY",a.rotateY+"deg"),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEDOWN2":b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translate","0px, "+a.translateY+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateY",a.rotateY+"deg"),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDERIGHT":b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translate",a.translateX+"px, 0px"),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDELEFT":b.item.CSSTransformSet(".nGY2GThumbnail","translate",a.translateX+"px, 0px"),b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"FADEIN":b.$e.css(a)}})},finish:function(a,b){window.requestAnimationFrame(function(){if(null!==b.item.$elt){switch(Kb.tn.opt.Get("displayTransition")){case"RANDOMSCALE":b.$e.css(Kb.CSStransformName,"scale("+a.scale+")").css("opacity","");break;case"SCALEUP":b.$e.css(Kb.CSStransformName,"").css("opacity","");break;case"SCALEDOWN":b.item.$elt.last().css("opacity",""),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDEUP":case"SLIDEDOWN":case"FLIPUP":case"FLIPDOWN":case"SLIDEUP2":b.item.$elt.css("opacity","");break;case"SLIDEDOWN2":b.item.$elt.css("opacity",""),b.item.CSSTransformApply(".nGY2GThumbnail");break;case"SLIDERIGHT":case"SLIDELEFT":b.item.$elt.css("opacity","");break;case"FADEIN":b.$e.css("opacity","")}$(b.item)}})}})}function aa(){Kb.GOM.thumbnails2Display.forEach(function(a){_(a.itm,a.d)}),Kb.GOM.thumbnails2Display=[]}function ba(){var a=Kb.galleryDisplayTransitionDuration.Get();switch(Kb.galleryDisplayTransition.Get()){case"ROTATEX":Kb.$E.base.css({perspective:"1000px","perspective-origin":"50% 0%"});var b=new NGTweenable;b.tween({from:{r:50},to:{r:0},attachment:{orgIdx:Kb.GOM.albumIdx},duration:a,easing:"easeOutCirc",step:function(a,b){b.orgIdx==Kb.GOM.albumIdx&&Kb.$E.conTnParent.css(Kb.CSStransformName,"rotateX("+a.r+"deg)")}});break;case"SLIDEUP":Kb.$E.conTnParent.css({opacity:0});var b=new NGTweenable;b.tween({from:{y:200,o:0},to:{y:0,o:1},attachment:{orgIdx:Kb.GOM.albumIdx},duration:a,easing:"easeOutCirc",step:function(a,b){b.orgIdx==Kb.GOM.albumIdx&&Kb.$E.conTnParent.css(Kb.CSStransformName,"translate( 0px, "+a.y+"px)").css("opacity",a.o)}})}}function ca(a){var b=Kb.GOM.items[a],c=Kb.I[b.thumbnailIdx];if(null!=c.$elt){var d=Kb.O.fnThumbnailHoverInit;null!==d&&("function"==typeof d?d($e,c,a):window[d]($e,c,a));for(var e=Kb.tn.buildInit.get(),f=0;f<e.length;f++)switch(e[f].property){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":c.CSSTransformSet(e[f].element,e[f].property,e[f].value),c.CSSTransformApply(e[f].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":c.CSSFilterSet(e[f].element,e[f].property,e[f].value),c.CSSFilterApply(e[f].element);break;default:var g=c.$getElt(e[f].element);g.css(e[f].property,e[f].value)}for(var h=Kb.tn.hoverEffects.get(),f=0;f<h.length;f++)if(!0===h[f].firstKeyframe)switch(h[f].type){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":c.CSSTransformSet(h[f].element,h[f].type,h[f].from),c.CSSTransformApply(h[f].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":c.CSSFilterSet(h[f].element,h[f].type,h[f].from),c.CSSFilterApply(h[f].element);break;default:var g=c.$getElt(h[f].element);g.css(h[f].type,h[f].from)}c.hoverInitDone=!0}}function da(){if(-1!=Kb.GOM.albumIdx)for(var a=Kb.GOM.items.length,b=0;b<a;b++)ca(b),Kb.I[Kb.GOM.items[b].thumbnailIdx].hovered=!1}function ea(a){if(-1!=Kb.GOM.albumIdx&&Kb.galleryResizeEventEnabled&&Kb.GOM.slider.hostIdx!=a){var b=Kb.GOM.items[a],c=Kb.I[b.thumbnailIdx];if("albumUp"!=c.kind&&null!=c.$elt){c.hovered=!0;var d=Kb.O.fnThumbnailHover;null!==d&&("function"==typeof d?d(c.$elt,c,a):window[d](c.$elt,c,a));var e=Kb.tn.hoverEffects.get();try{for(var f=0;f<e.length;f++)!0===e[f].hoverin&&c.animate(e[f],0,!0)}catch(g){Lb(Kb,"error on hover: "+g.message)}}}}function fa(){if(-1!=Kb.GOM.albumIdx)for(var a=Kb.GOM.items.length,b=0;b<a;b++)Kb.GOM.items[b].inDisplayArea?ga(b):Kb.I[Kb.GOM.items[b].thumbnailIdx].hovered=!1}function ga(a){if(-1!=Kb.GOM.albumIdx&&Kb.galleryResizeEventEnabled&&Kb.GOM.slider.hostIdx!=a){var b=Kb.GOM.items[a],c=Kb.I[b.thumbnailIdx];if("albumUp"!=c.kind&&c.hovered&&(c.hovered=!1,null!=c.$elt)){var d=Kb.O.fnThumbnailHoverOut;null!==d&&("function"==typeof d?d(c.$elt,c,a):window[d](c.$elt,c,a));var e=Kb.tn.hoverEffects.get();try{for(var f=0;f<e.length;f++)!0===e[f].hoverout&&c.animate(e[f],0,!1)}catch(g){Lb(Kb,"error on hoverOut: "+g.message)}}}}function ha(a,b){Kb.O.debugMode&&console.log("#DisplayPhoto : "+b+"-"+a);var c=NGY2Item.GetIdx(Kb,b);Kb.GOM.curNavLevel=0==c?"l1":"lN",-1==c&&""!=Kb.O.kind&&(NGY2Item.New(Kb,"","",b,"0","album"),c=Kb.I.length-1);var d=NGY2Item.GetIdx(Kb,a);if(-1==d)return void ia(b,ha,a,b);Kb.O.debugMode&&console.log("#DisplayPhoto : "+d),Pa(d)}function ia(a,b,c,d){switch(Kb.O.kind){case"":ja(b,c,d);break;default:jQuery.nanogallery2["data_"+Kb.O.kind](Kb,"AlbumGetContent",a,b,c,d)}}function ja(a,b,c){if(!0===Kb.markupOrApiProcessed)return void m("-1",0);if(void 0!==Kb.O.items&&null!==Kb.O.items)la();else{if(!(Kb.O.$markup.length>0))return void Mb(Kb,"error: no media to process.");ma(Kb.O.$markup),Kb.O.$markup=[]}Kb.markupOrApiProcessed=!0,null!==a&&void 0!==a&&a(b,c,null)}function ka(a){return null!=a&&void 0!=a&&!!/^((http|https|ftp|ftps|file):\/\/)/.test(a)}function la(){var a=!1,b=0,c=NGY2Tools.AlbumPostProcess.bind(Kb);Kb.I[0].contentIsLoaded=!0,jQuery.each(Kb.O.items,function(e,f){var g="";void 0===(g=Eb(f,"title"))&&(g="");var h="";h=void 0!==f["src"+Fb().toUpperCase()]?f["src"+Fb().toUpperCase()]:f.src,ka(h)||(h=Kb.O.itemsBaseURL+h);var i="";void 0!==f.srct&&f.srct.length>0?(i=f.srct,ka(i)||(i=Kb.O.itemsBaseURL+i)):i=h;var j="";void 0!==f.srct2x&&f.srct2x.length>0?(j=f.srct2x,ka(j)||(j=Kb.O.itemsBaseURL+j)):j=""!=i?i:h,""!=Kb.O.thumbnailLabel.get("title")&&(g=GetImageTitle(h));var k="";void 0===(k=Eb(f,"description"))&&(k="");var l=Eb(f,"tags");void 0===l&&(l="");var m=0;void 0!==f.albumID&&(m=f.albumID,a=!0);var n=null;void 0!==f.ID&&(n=f.ID);var o="image";void 0!==f.kind&&f.kind.length>0&&(o=f.kind);var p=NGY2Item.New(Kb,g,k,n,m,o,l);""!=g&&b++,p.setMediaURL(h,"img"),jQuery.each(Nb,function(a,b){var c=b.getID(h);if(null!=c)return"function"==typeof b.url&&(h=b.url(c)),"function"==typeof b.thumbUrl&&(i=b.thumbUrl(c)),p.mediaKind=b.kind,p.mediaMarkup=b.selfhosted?b.markup(h):b.markup(c),!1}),void 0!==f.imageWidth&&(p.imageWidth=f.width),void 0!==f.imageHeight&&(p.imageHeight=f.height);var q=void 0!==f.imgtWidth?f.imgtWidth:0,r=void 0!==f.imgtHeight?f.imgtHeight:0;if(p.thumbs={url:{l1:{xs:i,sm:i,me:i,la:i,xl:i},lN:{xs:i,sm:i,me:i,la:i,xl:i}},width:{l1:{xs:q,sm:q,me:q,la:q,xl:q},lN:{xs:q,sm:q,me:q,la:q,xl:q}},height:{l1:{xs:r,sm:r,me:r,la:r,xl:r},lN:{xs:r,sm:r,me:r,la:r,xl:r}}},"img"==p.mediaKind)for(var s=["xs","sm","me","la","xl"],e=0;e<s.length;e++){var t=f["srct"+s[e].toUpperCase()];void 0!==t&&(ka(t)||(t=Kb.O.itemsBaseURL+t),p.url.l1[s[e]]=t,p.url.lN[s[e]]=t);var q=f["imgt"+s[e].toUpperCase()+"Width"];void 0!=q&&(p.width.l1[s[e]]=parseInt(q),p.width.lN[s[e]]=parseInt(q));var r=f["imgt"+s[e].toUpperCase()+"Height"];void 0!=r&&(p.height.l1[s[e]]=parseInt(r),p.height.lN[s[e]]=parseInt(r))}void 0!==f.imageDominantColors&&(p.imageDominantColors=f.imageDominantColors),void 0!==f.imageDominantColor&&(p.imageDominantColor=f.imageDominantColor),void 0!==f.destURL&&f.destURL.length>0&&(p.destinationURL=f.destURL),void 0!==f.downloadURL&&f.downloadURL.length>0&&(p.downloadURL=f.downloadURL),void 0!==f.exifModel&&(p.exif.model=f.exifModel),void 0!==f.exifFlash&&(p.exif.flash=f.exifFlash),void 0!==f.exifFocalLength&&(p.exif.focallength=f.exifFocalLength),void 0!==f.exifFStop&&(p.exif.fstop=f.exifFStop),void 0!==f.exifExposure&&(p.exif.exposure=f.exifExposure),void 0!==f.exifIso&&(p.exif.iso=f.exifIso),void 0!==f.exifTime&&(p.exif.time=f.exifTime),void 0!==f.exifLocation&&(p.exif.location=f.exifLocation),null!==f.customData&&(p.customData=d(f.customData)),p.contentIsLoaded=!0;var u=Kb.O.fnProcessData;null!==u&&("function"==typeof u?u(p,"api",f):window[u](p,"api",f)),c(m)}),0==b&&(Kb.O.thumbnailLabel.display=!1)}function ma(a){var b=!1,c=0,e=NGY2Tools.AlbumPostProcess.bind(Kb);Kb.I[0].contentIsLoaded=!0,jQuery.each(a,function(a,f){var g={"data-ngdesc":"","data-ngid":null,"data-ngkind":"image","data-ngtags":null,"data-ngdest":"","data-ngthumbimgwidth":0,"data-ngthumbimgheight":0,"data-ngimagewidth":0,"data-ngimageheight":0,"data-ngimagedominantcolors":null,"data-ngimagedominantcolor":null,"data-ngexifmodel":"","data-ngexifflash":"","data-ngexiffocallength":"","data-ngexiffstop":"","data-ngexifexposure":"","data-ngexifiso":"","data-ngexiftime":"","data-ngexiflocation":""};[].forEach.call(f.attributes,function(a){g[a.name.toLowerCase()]=a.value});var h="",i=Fb().toUpperCase();g.hasOwnProperty("data-ngsrc"+i)&&(h=g["data-ngsrc"+i]),""==h&&(h=g.href),ka(h)||(h=Kb.O.itemsBaseURL+h);var j="";g.hasOwnProperty("data-ngthumb")?(j=g["data-ngthumb"],ka(j)||(j=Kb.O.itemsBaseURL+j)):j=h;var k="";g.hasOwnProperty("data-ngthumb2x")&&(k=g["data-ngthumb2x"],ka(k)||(k=Kb.O.itemsBaseURL+k));var l=g["data-ngdesc"],m=g.id;void 0==m&&(m=g["data-ngid"]);var n=g["data-ngkind"],o=g["data-ngtags"],p="0";g.hasOwnProperty("data-ngalbumid")&&(p=g["data-ngalbumid"],b=!0);var q=jQuery(f).text();""!=Kb.O.thumbnailLabel.get("title")&&void 0!=Kb.O.thumbnailLabel.get("title")&&(q=GetImageTitle(h));var r=NGY2Item.New(Kb,q,l,m,p,n,o);""!=q&&c++,r.setMediaURL(h,"img"),r.mediaKind="img",jQuery.each(Nb,function(a,b){var c=b.getID(h);if(null!=c)return"function"==typeof b.url&&(h=b.url(c)),"function"==typeof b.thumbUrl&&(j=b.thumbUrl(c)),r.mediaKind=b.kind,r.mediaMarkup=b.selfhosted?b.markup(h):b.markup(c),!1}),r.imageWidth=parseInt(g["data-ngimagewidth"]),r.imageHeight=parseInt(g["data-ngimageheight"]);var s=parseInt(g["data-ngthumbimgwidth"]),t=parseInt(g["data-ngthumbimgheight"]);if(r.thumbs={url:{l1:{xs:j,sm:j,me:j,la:j,xl:j},lN:{xs:j,sm:j,me:j,la:j,xl:j}},width:{l1:{xs:s,sm:s,me:s,la:s,xl:s},lN:{xs:s,sm:s,me:s,la:s,xl:s}},height:{l1:{xs:t,sm:t,me:t,la:t,xl:t},lN:{xs:t,sm:t,me:t,la:t,xl:t}}},"img"==r.mediaKind)for(var u=["xs","sm","me","la","xl"],a=0;a<u.length;a++){if(g.hasOwnProperty("data-ngthumb"+u[a])){var v=g["data-ngthumb"+u[a]];ka(v)||(v=Kb.O.itemsBaseURL+v),r.url.l1[u[a]]=v,r.url.lN[u[a]]=v}if(g.hasOwnProperty("data-ngthumb"+u[a]+"width")){var s=parseInt(g["data-ngthumb"+u[a]+"width"]);r.width.l1[u[a]]=s,r.width.lN[u[a]]=s}if(g.hasOwnProperty("data-ngthumb"+u[a]+"height")){var t=parseInt("data-ngthumb"+u[a]+"height");r.height.l1[u[a]]=t,r.height.lN[u[a]]=t}}r.imageDominantColors=g["data-ngimagedominantcolors"],r.imageDominantColor=g["data-ngimagedominantcolors"],r.destinationURL=g["data-ngdest"],r.downloadURL=g["data-ngdownloadurl"],r.exif.model=g["data-ngexifmodel"],r.exif.flash=g["data-ngexifflash"],r.exif.focallength=g["data-ngexiffocallength"],r.exif.fstop=g["data-ngexiffstop"],r.exif.exposure=g["data-ngexifexposure"],r.exif.iso=g["data-ngexifiso"],r.exif.time=g["data-ngexiftime"],r.exif.location=g["data-ngexiflocation"],r.contentIsLoaded=!0,void 0!==jQuery(f).data("customdata")&&(r.customData=d(jQuery(f).data("customdata"))),void 0!==jQuery(f).data("ngcustomdata")&&(r.customData=d(jQuery(f).data("ngcustomdata")));var w=Kb.O.fnProcessData;null!==w&&("function"==typeof w?w(r,"markup",f):window[w](r,"markup",f)),e(p)}),0==c&&(Kb.O.thumbnailLabel.display=!1)}function na(){function a(a,b,c){Kb.tn.opt.lN[c]=Kb.O[a],Kb.tn.opt.l1[c]=Kb.O[a],"number"==i(Kb.O[b])&&(Kb.tn.opt.l1[c]=Kb.O[b])}function b(a,b){if("string"==typeof a){var c=a.split("_");1==c.length&&(Kb.tn.opt[b].displayTransition=a.toUpperCase()),2==c.length&&(Kb.tn.opt[b].displayTransition=c[0].toUpperCase(),Kb.tn.opt[b].displayTransitionStartVal=Number(c[1])),3==c.length&&(Kb.tn.opt[b].displayTransition=c[0].toUpperCase(),Kb.tn.opt[b].displayTransitionStartVal=Number(c[1]),Kb.tn.opt[b].displayTransitionEasing=c[2])}}function c(a,b,c){if(null!=Kb.O[a])if("number"==i(Kb.O[a]))va(c,"l1",Kb.O[a],"u"),b||va(c,"lN",Kb.O[a],"u");else{var d=Kb.O[a].split(" "),e="auto";"auto"!=d[0].substring(0,4)&&(e=parseInt(d[0]));var f="u";"C"==d[0].charAt(d[0].length-1)&&(f="c"),va(c,"l1",e,f),b||va(c,"lN",e,f);for(var g=1;g<d.length;g++){var h=d[g].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(h)){var j=d[g].substring(2),e="auto";"auto"!=j.substring(0,4)&&(e=parseInt(j));var f="u";"C"==j.charAt(j.length-1)&&(f="c"),Kb.tn.settings[c].l1[h]=e,Kb.tn.settings[c].l1[h+"c"]=f,b||(Kb.tn.settings[c].lN[h]=e,Kb.tn.settings[c].lN[h+"c"]=f)}}}}"PICASA"!=Kb.O.kind.toUpperCase()&&"GOOGLE"!=Kb.O.kind.toUpperCase()||(Kb.O.kind="google2"),Kb.GOM.cache.viewport=e(),Kb.GOM.curWidth=Fb(),jQuery.extend(!0,Kb.tn.toolbar.image,Kb.O.thumbnailToolbarImage),jQuery.extend(!0,Kb.tn.toolbar.album,Kb.O.thumbnailToolbarAlbum);for(var d=["image","album"],f=["topLeft","topRight","bottomLeft","bottomRight"],g=0;g<d.length;g++)for(var h=0;h<f.length;h++)Kb.tn.toolbar[d[g]][f[h]]=Kb.tn.toolbar[d[g]][f[h]].toUpperCase();if(Kb.O.thumbnailLabel.get=function(a){return"l1"==Kb.GOM.curNavLevel&&void 0!==Kb.O.thumbnailL1Label&&void 0!==Kb.O.thumbnailL1Label[a]?Kb.O.thumbnailL1Label[a]:Kb.O.thumbnailLabel[a]},Kb.O.thumbnailLabel.set=function(a,b){"l1"==Kb.GOM.curNavLevel&&void 0!==Kb.O.thumbnailL1Label&&void 0!==Kb.O.thumbnailL1Label[a]?Kb.O.thumbnailL1Label[a]=b:Kb.O.thumbnailLabel[a]=b},""!=Kb.O.blackList&&(Kb.blackList=Kb.O.blackList.toUpperCase().split("|")),""!=Kb.O.whiteList&&(Kb.whiteList=Kb.O.whiteList.toUpperCase().split("|")),void 0!==Kb.O.albumList2&&null!==Kb.O.albumList2&&Kb.O.albumList2.constructor===Array)for(var j=Kb.O.albumList2.length,g=0;g<j;g++)Kb.albumList.push(Kb.O.albumList2[g]);if(void 0!==Kb.O.albumList2&&"string"==typeof Kb.O.albumList2&&Kb.albumList.push(Kb.O.albumList2),Kb.tn.opt.lN.crop=Kb.O.thumbnailCrop,Kb.tn.opt.l1.crop=null!=Kb.O.thumbnailL1Crop?Kb.O.thumbnailL1Crop:Kb.O.thumbnailCrop,a("thumbnailStacks","thumbnailL1Stacks","stacks"),a("thumbnailStacksTranslateX","thumbnailL1StacksTranslateX","stacksTranslateX"),a("thumbnailStacksTranslateY","thumbnailL1StacksTranslateY","stacksTranslateY"),a("thumbnailStacksTranslateZ","thumbnailL1StacksTranslateZ","stacksTranslateZ"),a("thumbnailStacksRotateX","thumbnailL1StacksRotateX","stacksRotateX"),a("thumbnailStacksRotateY","thumbnailL1StacksRotateY","stacksRotateY"),a("thumbnailStacksRotateZ","thumbnailL1StacksRotateZ","stacksRotateZ"),a("thumbnailStacksScale","thumbnailL1StacksScale","stacksScale"),a("thumbnailGutterWidth","thumbnailL1GutterWidth","gutterWidth"),a("thumbnailGutterHeight","thumbnailL1GutterHeight","gutterHeight"),a("thumbnailBaseGridHeight","thumbnailL1BaseGridHeight","baseGridHeight"),Kb.galleryDisplayMode.lN=Kb.O.galleryDisplayMode.toUpperCase(),Kb.galleryDisplayMode.l1=null!=Kb.O.galleryL1DisplayMode?Kb.O.galleryL1DisplayMode.toUpperCase():Kb.O.galleryDisplayMode.toUpperCase(),Kb.galleryMaxRows.lN=Kb.O.galleryMaxRows,Kb.galleryMaxRows.l1="number"==i(Kb.O.galleryL1MaxRows)?Kb.O.galleryL1MaxRows:Kb.O.galleryMaxRows,Kb.galleryLastRowFull.lN=Kb.O.galleryLastRowFull,Kb.galleryLastRowFull.l1=null!=Kb.O.galleryL1LastRowFull?Kb.O.galleryL1LastRowFull:Kb.O.galleryLastRowFull,Kb.gallerySorting.lN=Kb.O.gallerySorting.toUpperCase(),Kb.gallerySorting.l1=null!=Kb.O.galleryL1Sorting?Kb.O.galleryL1Sorting.toUpperCase():Kb.gallerySorting.lN,Kb.galleryDisplayTransition.lN=Kb.O.galleryDisplayTransition.toUpperCase(),Kb.galleryDisplayTransition.l1=null!=Kb.O.galleryL1DisplayTransition?Kb.O.galleryL1DisplayTransition.toUpperCase():Kb.galleryDisplayTransition.lN,Kb.galleryDisplayTransitionDuration.lN=Kb.O.galleryDisplayTransitionDuration,Kb.galleryDisplayTransitionDuration.l1=null!=Kb.O.galleryL1DisplayTransitionDuration?Kb.O.galleryL1DisplayTransitionDuration:Kb.galleryDisplayTransitionDuration.lN,Kb.galleryMaxItems.lN=Kb.O.galleryMaxItems,Kb.galleryMaxItems.l1="number"==i(Kb.O.galleryL1MaxItems)?Kb.O.galleryL1MaxItems:Kb.O.galleryMaxItems,Kb.galleryFilterTags.lN=Kb.O.galleryFilterTags,Kb.galleryFilterTags.l1=null!=Kb.O.galleryL1FilterTags?Kb.O.galleryL1FilterTags:Kb.O.galleryFilterTags,Kb.O.galleryPaginationMode=Kb.O.galleryPaginationMode.toUpperCase(),"number"==i(Kb.O.slideshowDelay)&&Kb.O.slideshowDelay>=2e3?Kb.VOM.slideshowDelay=Kb.O.slideshowDelay:Mb(Kb,'Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"boolean"==typeof Kb.O.thumbnailDisplayTransition&&(!0===Kb.O.thumbnailDisplayTransition?(Kb.tn.opt.lN.displayTransition="FADEIN",Kb.tn.opt.l1.displayTransition="FADEIN"):(Kb.tn.opt.lN.displayTransition="NONE",Kb.tn.opt.l1.displayTransition="NONE")),""!==Kb.O.fnThumbnailDisplayEffect&&(Kb.tn.opt.lN.displayTransition="CUSTOM",Kb.tn.opt.l1.displayTransition="CUSTOM"),""!==Kb.O.fnThumbnailL1DisplayEffect&&(Kb.tn.opt.l1.displayTransition="CUSTOM"),b(Kb.O.thumbnailDisplayTransition,"lN"),b(Kb.O.thumbnailDisplayTransition,"l1"),b(Kb.O.thumbnailL1DisplayTransition,"l1"),a("thumbnailDisplayTransitionDuration","thumbnailL1DisplayTransitionDuration","displayTransitionDuration"),a("thumbnailDisplayInterval","thumbnailL1DisplayInterval","displayInterval"),void 0!==Kb.O.thumbnailSizeSM&&(Kb.O.breakpointSizeSM=Kb.O.thumbnailSizeSM),void 0!==Kb.O.thumbnailSizeME&&(Kb.O.breakpointSizeME=Kb.O.thumbnailSizeME),void 0!==Kb.O.thumbnailSizeLA&&(Kb.O.breakpointSizeLA=Kb.O.thumbnailSizeLA),void 0!==Kb.O.thumbnailSizeXL&&(Kb.O.breakpointSizeXL=Kb.O.thumbnailSizeXL),void 0!==Kb.O.thumbnailL1BuildInit2)for(var k=Kb.O.thumbnailL1BuildInit2.split("|"),g=0;g<k.length;g++){var l=k[g].trim().split("_");if(3==l.length){var m=sa();m.element=pa(l[0],""),m.property=l[1],m.value=l[2],Kb.tn.buildInit.level1.push(m)}}if(void 0!==Kb.O.thumbnailBuildInit2)for(var k=Kb.O.thumbnailBuildInit2.split("|"),g=0;g<k.length;g++){var l=k[g].trim().split("_");if(3==l.length){var m=sa();m.element=pa(l[0],""),m.property=l[1],m.value=l[2],Kb.tn.buildInit.std.push(m)}}var n=Kb.O.thumbnailL1HoverEffect2;if(void 0!==n)switch(i(n)){case"string":for(var o=n.split("|"),g=0;g<o.length;g++){var p=ra();p=oa(o[g].trim(),p),null!=p&&Kb.tn.hoverEffects.level1.push(p)}break;case"object":var p=ra();p=jQuery.extend(p,n),p=oa(p.name,p),null!=p&&Kb.tn.hoverEffects.level1.push(p);break;case"array":for(var g=0;g<n.length;g++){var p=ra();p=jQuery.extend(p,n[g]),p=oa(p.name,p),null!=p&&Kb.tn.hoverEffects.level1.push(p)}break;case"null":break;default:Lb(Kb,'incorrect parameter for "thumbnailL1HoverEffect2".')}Kb.tn.hoverEffects.level1=qa(Kb.tn.hoverEffects.level1);var q=Kb.O.thumbnailHoverEffect2;switch(i(q)){case"string":for(var o=q.split("|"),g=0;g<o.length;g++){var p=ra();p=oa(o[g].trim(),p),null!=p&&Kb.tn.hoverEffects.std.push(p)}break;case"object":var p=ra();p=jQuery.extend(p,q),p=oa(p.name,p),null!=p&&Kb.tn.hoverEffects.std.push(p);break;case"array":for(var g=0;g<q.length;g++){var p=ra();p=jQuery.extend(p,q[g]),p=oa(p.name,p),null!=p&&Kb.tn.hoverEffects.std.push(p)}break;case"null":break;default:Lb(Kb,'incorrect parameter for "thumbnailHoverEffect2".')}Kb.tn.hoverEffects.std=qa(Kb.tn.hoverEffects.std),void 0==Kb.O.touchAnimationL1&&(Kb.O.touchAnimationL1=Kb.O.touchAnimation),0==Kb.tn.hoverEffects.std.length&&(0==Kb.tn.hoverEffects.level1.length&&(Kb.O.touchAnimationL1=!1),Kb.O.touchAnimation=!1),0!=Kb.O.thumbnailHeight&&""!=Kb.O.thumbnailHeight||(Kb.O.thumbnailHeight="auto"),0!=Kb.O.thumbnailWidth&&""!=Kb.O.thumbnailWidth||(Kb.O.thumbnailWidth="auto"),0!=Kb.O.thumbnailL1Height&&""!=Kb.O.thumbnailL1Height||(Kb.O.thumbnailL1Height="auto"),0!=Kb.O.thumbnailL1Width&&""!=Kb.O.thumbnailL1Width||(Kb.O.thumbnailL1Width="auto"),c("thumbnailWidth",!1,"width"),c("thumbnailL1Width",!0,"width"),c("thumbnailHeight",!1,"height"),c("thumbnailL1Height",!0,"height"),Kb.O.thumbnailBorderHorizontal=parseInt(Kb.O.thumbnailBorderHorizontal),Kb.O.thumbnailBorderVertical=parseInt(Kb.O.thumbnailBorderVertical),Kb.O.thumbnailLabelHeight=parseInt(Kb.O.thumbnailLabelHeight),void 0!=Kb.O.galleryMosaic&&(Kb.tn.settings.mosaic.l1.xs=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.l1.sm=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.l1.me=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.l1.la=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.l1.xl=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.lN.xs=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.lN.sm=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.lN.me=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.lN.la=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaic.lN.xl=JSON.parse(JSON.stringify(Kb.O.galleryMosaic)),Kb.tn.settings.mosaicCalcFactor("l1","xs"),Kb.tn.settings.mosaicCalcFactor("l1","sm"),Kb.tn.settings.mosaicCalcFactor("l1","me"),Kb.tn.settings.mosaicCalcFactor("l1","la"),Kb.tn.settings.mosaicCalcFactor("l1","xl"),Kb.tn.settings.mosaicCalcFactor("lN","xs"),Kb.tn.settings.mosaicCalcFactor("lN","sm"),Kb.tn.settings.mosaicCalcFactor("lN","me"),Kb.tn.settings.mosaicCalcFactor("lN","la"),Kb.tn.settings.mosaicCalcFactor("lN","xl")),void 0!=Kb.O.galleryL1Mosaic&&(Kb.tn.settings.mosaic.l1.xs=JSON.parse(JSON.stringify(Kb.O.galleryL1Mosaic)),Kb.tn.settings.mosaic.l1.sm=JSON.parse(JSON.stringify(Kb.O.galleryL1Mosaic)),Kb.tn.settings.mosaic.l1.me=JSON.parse(JSON.stringify(Kb.O.galleryL1Mosaic)),Kb.tn.settings.mosaic.l1.la=JSON.parse(JSON.stringify(Kb.O.galleryL1Mosaic)),Kb.tn.settings.mosaic.l1.xl=JSON.parse(JSON.stringify(Kb.O.galleryL1Mosaic)),Kb.tn.settings.mosaicCalcFactor("l1","xs"),Kb.tn.settings.mosaicCalcFactor("l1","sm"),Kb.tn.settings.mosaicCalcFactor("l1","me"),Kb.tn.settings.mosaicCalcFactor("l1","la"),Kb.tn.settings.mosaicCalcFactor("l1","xl"));for(var r=0;r<Kb.tn.settings.mosaic.l1;r++)void 0!=Kb.O["galleryMosaic"+Kb.tn.settings.mosaic.l1[r].toUpperCase()]&&(Kb.tn.settings.mosaic.lN[tn.settings.mosaic.l1[r]]=JSON.parse(JSON.stringify(Kb.O["galleryMosaic"+Kb.tn.settings.mosaic.l1[r].toUpperCase()])),Kb.tn.settings.mosaic.l1[tn.settings.mosaic.l1[r]]=JSON.parse(JSON.stringify(Kb.O["galleryMosaic"+Kb.tn.settings.mosaic.l1[r].toUpperCase()])),Kb.tn.settings.mosaicCalcFactor("l1",Kb.tn.settings.mosaic.l1[r]),Kb.tn.settings.mosaicCalcFactor("lN",Kb.tn.settings.mosaic.l1[r]));for(var r=0;r<Kb.tn.settings.mosaic.l1;r++)void 0!=Kb.O["galleryL1Mosaic"+Kb.tn.settings.mosaic.l1[r].toUpperCase()]&&(Kb.tn.settings.mosaic.l1[tn.settings.mosaic.l1[r]]=JSON.parse(JSON.stringify(Kb.O["galleryL1Mosaic"+Kb.tn.settings.mosaic.l1[r].toUpperCase()])),Kb.tn.settings.mosaicCalcFactor("l1",Kb.tn.settings.mosaic.l1[r]));switch(Kb.O.imageTransition=Kb.O.imageTransition.toUpperCase(),Kb.layout.SetEngine(),Kb.O.kind){case"":break;default:jQuery.nanogallery2["data_"+Kb.O.kind](Kb,"Init")}}function oa(a,b){
var c=["easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","bounce"],d=a.split("_");if(d.length>=4){if(b.name="",b.type=d[1],b.from=d[2],b.to=d[3],d.length>=5)for(var e=4;e<d.length;e++){for(var f=d[e],g=!1,h=0;h<c.length;h++)if(f==c[h]){g=!0,b.easing=f;break}if(!0!==g)if("HOVERIN"!=(f=f.toUpperCase()))if("HOVEROUT"!=f)if("KEYFRAME"!=f){var i=parseInt(f.replace(/[^0-9\.]/g,""),10);if(i>0){if(f.indexOf("DURATION")>=0){b.duration=i;continue}if(f.indexOf("DURATIONBACK")>=0){b.durationBack=i;continue}if(f.indexOf("DELAY")>=0){b.delay=i;continue}if(f.indexOf("DELAYBACK")>=0){b.delayBack=i;continue}b.duration=i}}else b.firstKeyframe=!1;else b.hoverin=!1;else b.hoverout=!1}b.element=pa(d[0],b.type)}else b.name=a;return b}function pa(a,b){var c=a;switch(a){case"image":c=".nGY2GThumbnailImage";break;case"thumbnail":c=".nGY2GThumbnail";break;case"label":c=".nGY2GThumbnailLabel";break;case"title":c=".nGY2GThumbnailTitle";break;case"description":c=".nGY2GThumbnailDescription";break;case"tools":c=".nGY2GThumbnailIcons";break;case"customlayer":c=".nGY2GThumbnailCustomLayer"}return c}function qa(a){for(var e=[],f=0;f<a.length;f++)switch(a[f].name.toUpperCase()){case"BORDERLIGHTER":var g=b(wa().thumbnail.borderColor);name="thumbnail_borderColor_"+g+"_"+c(.5,g),e.push(oa(name,a[f]));break;case"BORDERDARKER":var g=b(wa().thumbnail.borderColor);name="thumbnail_borderColor_"+g+"_"+c(-.5,g),e.push(oa(name,a[f]));break;case"SCALE120":e.push(oa("thumbnail_scale_1.00_1.20",a[f]));break;case"LABELAPPEAR":case"LABELAPPEAR75":e.push(oa("label_opacity_0.00_1.00",a[f]));break;case"TOOLSAPPEAR":e.push(oa("tools_opacity_0_1",a[f]));break;case"TOOLSSLIDEDOWN":e.push(oa("tools_translateY_-100%_0%",a[f]));break;case"TOOLSSLIDEUP":e.push(oa("tools_translateY_100%_0%",a[f]));break;case"LABELOPACITY50":e.push(oa("label_opacity_1.00_0.50",a[f]));break;case"LABELSLIDEUPTOP":case"LABELSLIDEUP":e.push(oa("label_translateY_100%_0%",a[f]));break;case"LABELSLIDEDOWN":e.push(oa("label_translateY_-100%_0%",a[f]));break;case"SCALELABELOVERIMAGE":e.push(oa("label_scale_0.00_1.00",a[f]));var h=d(a[f]);e.push(oa("image_scale_1.00_0.00",h));break;case"OVERSCALE":case"OVERSCALEOUTSIDE":name="label_scale_0_100",e.push(oa("label_scale_2.00_1.00",a[f]));var h=d(a[f]);e.push(oa("label_opacity_0.00_1.00",h)),h=d(a[f]),e.push(oa("image_scale_1.00_0.00",h)),h=d(a[f]),e.push(oa("image_opacity_1.00_0.00",h));break;case"DESCRIPTIONAPPEAR":e.push(oa("description_opacity_0_1",a[f]));break;case"SLIDERIGHT":e.push(oa("image_translateX_0%_100%",a[f])),e.push(oa("label_translateX_-100%_0%",d(a[f])));break;case"SLIDELEFT":e.push(oa("image_translateX_0%_-100%",a[f])),e.push(oa("label_translateX_100%_0%",d(a[f])));break;case"SLIDEUP":e.push(oa("image_translateY_0%_-100%",a[f])),e.push(oa("label_translateY_100%_0%",d(a[f])));break;case"SLIDEDOWN":e.push(oa("image_translateY_0%_100%",a[f])),e.push(oa("label_translateY_-100%_0%",d(a[f])));break;case"IMAGESCALE150":case"IMAGESCALE150OUTSIDE":e.push(oa("image_scale_1.00_1.50",a[f]));break;case"IMAGESCALEIN80":e.push(oa("image_scale_1.20_1.00",a[f]));break;case"IMAGESLIDERIGHT":e.push(oa("image_translateX_0%_100%",a[f]));break;case"IMAGESLIDELEFT":e.push(oa("image_translateX_0%_-100%",a[f]));break;case"IMAGESLIDEUP":e.push(oa("image_translateY_0%_-100%",a[f]));break;case"IMAGESLIDEDOWN":e.push(oa("image_translateY_0%_100%",a[f]));break;case"LABELSLIDEUP":case"LABELSLIDEUPTOP":e.push(oa("label_translateY_100%_0%",a[f]));break;case"LABELSLIDEUPDOWN":e.push(oa("label_translateY_0%_100%",a[f]));break;case"DESCRIPTIONSLIDEUP":e.push(oa("description_translateY_110%_0%",a[f]));break;case"IMAGEBLURON":e.push(oa("image_blur_2.00px_0.00px",a[f]));break;case"IMAGEBLUROFF":e.push(oa("image_blur_0.00px_2.00px",a[f]));break;case"IMAGEGRAYON":e.push(oa("image_grayscale_0%_100%",a[f]));break;case"IMAGEGRAYOFF":e.push(oa("image_grayscale_100%_0%",a[f]));break;case"IMAGESEPIAON":e.push(oa("image_sepia_100%_1%",a[f]));break;case"IMAGESEPIAOFF":e.push(oa("image_sepia_1%_100%",a[f]));break;default:e.push(a[f])}return e}function ra(){return{name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null}}function sa(){return{element:"",property:"",value:""}}function ta(a,b){switch(a.position){case"onBottom":Kb.tn.style[b].label="bottom:0; ";break;case"overImageOnTop":Kb.tn.style[b].label="top:0; position:absolute;";break;case"overImageOnMiddle":Kb.tn.style[b].label="top:0; bottom:0;",Kb.tn.style[b].title="position:absolute; bottom:50%;",Kb.tn.style[b].desc="position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:Kb.O.thumbnailLabel.position="overImageOnBottom",Kb.tn.style[b].label="bottom:0; position:absolute;"}switch("onBottom"!=a.position&&(a.titleMultiLine&&(Kb.tn.style[b].title="white-space:normal;"),a.descriptionMultiLine&&(Kb.tn.style[b].desc="white-space:normal;")),a.align){case"right":Kb.tn.style[b].label+="text-align:right;";break;case"left":Kb.tn.style[b].label+="text-align:left;";break;default:Kb.tn.style[b].label+="text-align:center;"}void 0!=a.titleFontSize&&""!=a.titleFontSize&&(Kb.tn.style[b].title+="font-size:"+a.titleFontSize+";"),void 0!=a.descriptionFontSize&&""!=a.descriptionFontSize&&(Kb.tn.style[b].desc+="font-size:"+a.descriptionFontSize+";"),0==a.displayDescription&&(Kb.tn.style[b].desc+="display:none;")}function ua(){ta(Kb.O.thumbnailLabel,"lN"),ta(Kb.O.thumbnailLabel,"l1"),Kb.O.thumbnailL1Label&&Kb.O.thumbnailL1Label.display&&ta(Kb.O.thumbnailL1Label,"l1"),Kb.tn.borderWidth=Kb.O.thumbnailBorderHorizontal,Kb.tn.borderHeight=Kb.O.thumbnailBorderVertical;for(var a=["xs","sm","me","la","xl"],b=0;b<a.length;b++){var c=Kb.tn.settings.width.lN[a[b]];if("auto"!=c)Kb.tn.defaultSize.width.lN[a[b]]=c,Kb.tn.defaultSize.width.l1[a[b]]=c;else{var d=Kb.tn.settings.height.lN[a[b]];Kb.tn.defaultSize.width.lN[a[b]]=d,Kb.tn.defaultSize.width.l1[a[b]]=d}}for(var b=0;b<a.length;b++){var d=Kb.tn.settings.height.lN[a[b]];if("auto"!=d)Kb.tn.defaultSize.height.lN[a[b]]=d,Kb.tn.defaultSize.height.l1[a[b]]=d;else{var c=Kb.tn.settings.width.lN[a[b]];Kb.tn.defaultSize.height.lN[a[b]]=c,Kb.tn.defaultSize.height.l1[a[b]]=c}}for(var b=0;b<a.length;b++){var c=Kb.tn.settings.width.l1[a[b]];if("auto"!=c)Kb.tn.defaultSize.width.l1[a[b]]=c;else{var d=Kb.tn.settings.height.l1[a[b]];Kb.tn.defaultSize.width.l1[a[b]]=d}}for(var b=0;b<a.length;b++){var d=Kb.tn.settings.height.l1[a[b]];if("auto"!=d)Kb.tn.defaultSize.height.l1[a[b]]=d;else{var c=Kb.tn.settings.width.l1[a[b]];Kb.tn.defaultSize.height.l1[a[b]]=c}}}function va(a,b,c,d){Kb.tn.settings[a][b].xs=c,Kb.tn.settings[a][b].sm=c,Kb.tn.settings[a][b].me=c,Kb.tn.settings[a][b].la=c,Kb.tn.settings[a][b].xl=c,Kb.tn.settings[a][b].xsc=d,Kb.tn.settings[a][b].smc=d,Kb.tn.settings[a][b].mec=d,Kb.tn.settings[a][b].lac=d,Kb.tn.settings[a][b].xlc=d}function wa(){var a=null;switch(i(Kb.O.galleryTheme)){case"object":a=Kb.galleryTheme_dark,jQuery.extend(!0,a,Kb.O.galleryTheme);break;case"string":switch(Kb.O.galleryTheme){case"light":a=Kb.galleryTheme_light;break;case"default":case"dark":case"none":default:a=Kb.galleryTheme_dark}break;default:a=Kb.galleryTheme_dark}return a}function xa(){void 0!==Kb.O.colorScheme&&(Kb.O.galleryTheme=Kb.O.colorScheme);var a=null,b="";switch(i(Kb.O.galleryTheme)){case"object":a=Kb.galleryTheme_dark,jQuery.extend(!0,a,Kb.O.galleryTheme),b="nanogallery_gallerytheme_custom_"+Kb.baseEltID;break;case"string":switch(Kb.O.galleryTheme){case"light":a=Kb.galleryTheme_light,b="nanogallery_gallerytheme_light_"+Kb.baseEltID;break;case"default":case"dark":case"none":default:a=Kb.galleryTheme_dark,b="nanogallery_gallerytheme_dark_"+Kb.baseEltID}break;default:return void Lb(Kb,"Error in galleryTheme parameter.")}var c="."+b+" ",d=c+".nGY2Navigationbar { background:"+a.navigationBar.background+"; }\n";void 0!==a.navigationBar.border&&""!==a.navigationBar.border&&(d+=c+".nGY2Navigationbar { border:"+a.navigationBar.border+"; }\n"),void 0!==a.navigationBar.borderTop&&""!==a.navigationBar.borderTop&&(d+=c+".nGY2Navigationbar { border-top:"+a.navigationBar.borderTop+"; }\n"),void 0!==a.navigationBar.borderBottom&&""!==a.navigationBar.borderBottom&&(d+=c+".nGY2Navigationbar { border-bottom:"+a.navigationBar.borderBottom+"; }\n"),void 0!==a.navigationBar.borderRight&&""!==a.navigationBar.borderRight&&(d+=c+".nGY2Navigationbar { border-right:"+a.navigationBar.borderRight+"; }\n"),void 0!==a.navigationBar.borderLeft&&""!==a.navigationBar.borderLeft&&(d+=c+".nGY2Navigationbar { border-left:"+a.navigationBar.borderLeft+"; }\n"),d+=c+".nGY2Breadcrumb { background:"+a.navigationBreadcrumb.background+"; border-radius:"+a.navigationBreadcrumb.borderRadius+"; }\n",d+=c+".nGY2Breadcrumb .oneItem  { color:"+a.navigationBreadcrumb.color+"; }\n",d+=c+".nGY2Breadcrumb .oneItem:hover { color:"+a.navigationBreadcrumb.colorHover+"; }\n",d+=c+".nGY2NavFilterUnselected { color:"+a.navigationFilter.color+"; background:"+a.navigationFilter.background+"; border-radius:"+a.navigationFilter.borderRadius+"; }\n",d+=c+".nGY2NavFilterSelected { color:"+a.navigationFilter.colorSelected+"; background:"+a.navigationFilter.backgroundSelected+"; border-radius:"+a.navigationFilter.borderRadius+"; }\n",d+=c+".nGY2NavFilterSelectAll { color:"+a.navigationFilter.colorSelected+"; background:"+a.navigationFilter.background+"; border-radius:"+a.navigationFilter.borderRadius+"; }\n",d+=c+".nGY2GThumbnail { background:"+a.thumbnail.background+"; border-color:"+a.thumbnail.borderColor+"; border-top-width:"+Kb.O.thumbnailBorderVertical+"px; border-right-width:"+Kb.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+Kb.O.thumbnailBorderVertical+"px; border-left-width:"+Kb.O.thumbnailBorderHorizontal+"px;}\n",d+=c+".nGY2GThumbnailStack { background:"+a.thumbnail.stackBackground+"; }\n",d+=c+".nGY2TnImgBack { background:"+a.thumbnail.background+"; background-image:"+a.thumbnail.backgroundImage+"; }\n",d+=c+".nGY2GThumbnailAlbumUp { background:"+a.thumbnail.background+"; background-image:"+a.thumbnail.backgroundImage+"; color:"+a.thumbnail.titleColor+"; }\n",d+=c+".nGY2GThumbnailIconsFullThumbnail { color:"+a.thumbnail.titleColor+"; }\n",d+=c+".nGY2GThumbnailLabel { background:"+a.thumbnail.labelBackground+"; opacity:"+a.thumbnail.labelOpacity+"; }\n",d+=c+".nGY2GThumbnailImageTitle  { color:"+a.thumbnail.titleColor+"; background-color:"+a.thumbnail.titleBgColor+"; "+(""==a.thumbnail.titleShadow?"":"Text-Shadow:"+a.thumbnail.titleShadow+";")+" }\n",d+=c+".nGY2GThumbnailAlbumTitle { color:"+a.thumbnail.titleColor+"; background-color:"+a.thumbnail.titleBgColor+"; "+(""==a.thumbnail.titleShadow?"":"Text-Shadow:"+a.thumbnail.titleShadow+";")+" }\n",d+=c+".nGY2GThumbnailDescription { color:"+a.thumbnail.descriptionColor+"; background-color:"+a.thumbnail.descriptionBgColor+"; "+(""==a.thumbnail.descriptionShadow?"":"Text-Shadow:"+a.thumbnail.descriptionShadow+";")+" }\n",d+=c+".nGY2GThumbnailIcons { padding:"+a.thumbnailIcon.padding+"; }\n",d+=c+".nGY2GThumbnailIcon { color:"+a.thumbnailIcon.color+"; }\n",d+=c+".nGY2GThumbnailIconTextBadge { background-color:"+a.thumbnailIcon.color+"; }\n","NUMBERS"!=Kb.O.galleryPaginationMode?(d+=c+".nGY2paginationDot { border:"+a.pagination.shapeBorder+"; background:"+a.pagination.shapeColor+";}\n",d+=c+".nGY2paginationDotCurrentPage { border:"+a.pagination.shapeBorder+"; background:"+a.pagination.shapeSelectedColor+";}\n",d+=c+".nGY2paginationRectangle { border:"+a.pagination.shapeBorder+"; background:"+a.pagination.shapeColor+";}\n",d+=c+".nGY2paginationRectangleCurrentPage { border:"+a.pagination.shapeBorder+"; background:"+a.pagination.shapeSelectedColor+";}\n"):(d+=c+".nGY2paginationItem { background:"+a.pagination.background+"; color:"+a.pagination.color+"; border-radius:"+a.pagination.borderRadius+"; }\n",d+=c+".nGY2paginationItemCurrentPage { background:"+a.pagination.background+"; color:"+a.pagination.color+"; border-radius:"+a.pagination.borderRadius+"; }\n",d+=c+".nGY2PaginationPrev { background:"+a.pagination.background+"; color:"+a.pagination.color+"; border-radius:"+a.pagination.borderRadius+"; }\n",d+=c+".nGY2PaginationNext { background:"+a.pagination.background+"; color:"+a.pagination.color+"; border-radius:"+a.pagination.borderRadius+"; }\n",d+=c+".nGY2paginationItemCurrentPage { background:"+a.pagination.backgroundSelected+"; }\n"),d+=c+".nGY2GalleryMoreButtonAnnotation { background:"+a.thumbnail.background+"; border-color:"+a.thumbnail.borderColor+"; border-top-width:"+Kb.O.thumbnailBorderVertical+"px; border-right-width:"+Kb.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+Kb.O.thumbnailBorderVertical+"px; border-left-width:"+Kb.O.thumbnailBorderHorizontal+"px;}\n",d+=c+".nGY2GalleryMoreButtonAnnotation  { color:"+a.thumbnail.titleColor+"; "+(""==a.thumbnail.titleShadow?"":"Text-Shadow:"+a.thumbnail.titleShadow)+"; }\n",jQuery("head").append('<style id="ngycs_'+Kb.baseEltID+'">'+d+"</style>"),Kb.$E.base.addClass(b)}function ya(){if(""!=Kb.VOM.viewerTheme)return void Kb.VOM.$cont.addClass(Kb.VOM.viewerTheme);void 0!==Kb.O.colorSchemeViewer&&(Kb.O.viewerTheme=Kb.O.colorSchemeViewer);var a=null;switch(i(Kb.O.viewerTheme)){case"object":a=Kb.viewerTheme_dark,jQuery.extend(!0,a,Kb.O.viewerTheme),Kb.VOM.viewerTheme="nanogallery_viewertheme_custom_"+Kb.baseEltID;break;case"string":switch(Kb.O.viewerTheme){case"none":return;case"light":a=Kb.viewerTheme_light,Kb.VOM.viewerTheme="nanogallery_viewertheme_light_"+Kb.baseEltID;break;case"border":a=Kb.viewerTheme_border,Kb.VOM.viewerTheme="nanogallery_viewertheme_border_"+Kb.baseEltID;break;case"dark":case"default":a=Kb.viewerTheme_dark,Kb.VOM.viewerTheme="nanogallery_viewertheme_dark_"+Kb.baseEltID}break;default:return void Lb(Kb,"Error in viewerTheme parameter.")}var b="."+Kb.VOM.viewerTheme+" ",c=b+".nGY2Viewer { background:"+a.background+"; }\n";c+=b+".nGY2ViewerMedia { border:"+a.imageBorder+"; box-shadow:"+a.imageBoxShadow+"; }\n",c+=b+".nGY2Viewer .toolbarBackground { background:"+a.barBackground+"; }\n",c+=b+".nGY2Viewer .nGY2ViewerToolsTopLeft { background:"+a.barBackground+"; }\n",c+=b+".nGY2Viewer .nGY2ViewerToolsTopRight { background:"+a.barBackground+"; }\n",c+=b+".nGY2Viewer .nGY2ViewerAreaNext { background:"+a.barBackground+"; }\n",c+=b+".nGY2Viewer .nGY2ViewerAreaPrevious { background:"+a.barBackground+"; }\n",c+=b+".nGY2Viewer .toolbar { border:"+a.barBorder+"; color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .previousButton:after { color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .nextButton:after { color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .closeButton:after { color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .label .title { color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .label .description { color:"+a.barDescriptionColor+"; }\n",jQuery("head").append("<style>"+c+"</style>"),Kb.VOM.$cont.addClass(Kb.VOM.viewerTheme)}function za(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),Array.prototype.removeIf=function(a){for(var b=this.length;b--;)a(this[b],b)&&this.splice(b,1)},String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return b=b||0,this.indexOf(a,b)===b})}function Aa(a){var b=La(a,!1);if(-1==b.GOMidx)return"exit";var c=Kb.GOM.items[b.GOMidx].thumbnailIdx;switch(Kb.GOM.slider.hostIdx==b.GOMidx&&(c=Kb.GOM.items[Kb.GOM.slider.currentIdx].thumbnailIdx),b.action){case"OPEN":return Ma(c,!1),"exit";case"DISPLAY":return Ma(c,!0),"exit";case"TOGGLESELECT":return Ea(c),"exit";case"SHARE":return Ha(c),"exit";case"DOWNLOAD":return Ba(c),"exit";case"INFO":return gb(Kb.I[c]),"exit";case"CART":return Ca(c),"exit";default:var d=Kb.O.fnThumbnailToolCustAction;null!==d&&("function"==typeof d?d(b.action,Kb.I[c]):window[d](b.action,Kb.I[c]))}}function Ba(a){if("img"==Kb.I[a].mediaKind){var b=Kb.I[a].src;void 0!=Kb.I[a].downloadURL&&""!=Kb.I[a].downloadURL&&(b=Kb.I[a].downloadURL);var c=document.createElement("a");c.href=b,c.download=b.split("/").pop(),c.target="_blank",c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}}function Ca(a){for(var b=!1,c=0;c<Kb.shoppingCart.length;c++)if(Kb.shoppingCart[c].idx==a){Kb.shoppingCart[c].cnt++;var d=Kb.O.fnShoppingCartUpdated;return null!==d&&("function"==typeof d?d(Kb.shoppingCart,Kb.I[a]):window[d](Kb.shoppingCart,Kb.I[a])),void wb("shoppingCartUpdated")}if(!b){Kb.shoppingCart.push({idx:a,ID:Kb.I[a].GetID(),cnt:1});var d=Kb.O.fnShoppingCartUpdated;null!==d&&("function"==typeof d?d(Kb.shoppingCart,Kb.I[a]):window[d](Kb.shoppingCart,Kb.I[a])),wb("shoppingCartUpdated")}}function Da(){Kb.GOM.nbSelected=0;for(var a=0,b=Kb.GOM.items.length;a<b;a++){var c=Kb.I[Kb.GOM.items[a].thumbnailIdx];if(c.selected){c.selected=!1;var d=Kb.O.fnThumbnailSelection;null!==d&&("function"==typeof d?d(c.$elt,c,Kb.I):window[d](c.$elt,c,Kb.I))}c.selected=!1}}function Ea(a){var b=Kb.I[a];!0===b.selected?(Fa(b,!1),Kb.GOM.nbSelected--,wb("itemUnSelected")):(Fa(b,!0),Kb.GOM.nbSelected++,wb("itemSelected"))}function Fa(a,b){a.selected=b,Ga(a);var c=Kb.O.fnThumbnailSelection;null!==c&&("function"==typeof c?c(a.$elt,a,Kb.I):window[c](a.$elt,a,Kb.I))}function Ga(a){if(null!=a.$elt){var b=a.$getElt(".nGY2GThumbnail"),c=a.$getElt(".nGY2GThumbnailIconImageSelect");!0===a.selected?(b.addClass("nGY2GThumbnailSubSelected"),c.addClass("nGY2ThumbnailSelected"),c.removeClass("nGY2ThumbnailUnselected"),c.html(Kb.O.icons.thumbnailSelected)):(b.removeClass("nGY2GThumbnailSubSelected"),c.removeClass("nGY2ThumbnailSelected"),c.addClass("nGY2ThumbnailUnselected"),c.html(Kb.O.icons.thumbnailUnselected))}}function Ha(a){var b=Kb.I[a],c=document.location.protocol+"//"+document.location.hostname+document.location.pathname,d="#nanogallery/"+Kb.baseEltID+"/";"image"==b.kind?d+=b.albumID+"/"+b.GetID():d+=b.GetID();var e="";e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="facebook">'+Kb.O.icons.shareFacebook+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="pinterest">'+Kb.O.icons.sharePinterest+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="tumblr">'+Kb.O.icons.shareTumblr+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="twitter">'+Kb.O.icons.shareTwitter+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="vk">'+Kb.O.icons.shareVK+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="mail">'+Kb.O.icons.shareMail+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;"></div>',e+='<input class="nGY2PopupOneItemText" readonly type="text" value="'+c+d+'" style="width:100%;text-align:center;">',e+="<br>",c=encodeURIComponent(document.location.protocol+"//"+document.location.hostname+document.location.pathname+d);var f=b.title,g=b.thumbImg().src;Ia("Share to:",e,"Center"),Kb.popup.$elt.find(".nGY2PopupOneItem").on("click",function(a){a.stopPropagation();var b="",d=!0;switch(jQuery(this).attr("data-share").toUpperCase()){case"FACEBOOK":b="https://www.facebook.com/sharer.php?u="+c;break;case"VK":b="http://vk.com/share.php?url="+c;break;case"GOOGLEPLUS":b="https://plus.google.com/share?url="+c;break;case"TWITTER":b="https://twitter.com/intent/tweet?text="+f+"url="+c;break;case"PINTEREST":b="https://pinterest.com/pin/create/button/?media="+g+"&url="+c+"&description="+f;break;case"TUMBLR":b="http://www.tumblr.com/share/link?url="+c+"&name="+f;break;case"MAIL":b="mailto:?subject="+f+"&body="+c;break;default:d=!1}d&&(window.open(b,"","height=550,width=500,left=100,top=100,menubar=0"),Kb.popup.close())})}function Ia(a,b,c){var d='<div class="nGY2Popup" style="opacity:0;"><div class="nGY2PopupContent'+c+'">';d+='<div class="nGY2PopupCloseButton">'+Kb.O.icons.buttonClose+"</div>",d+='<div class="nGY2PopupTitle">'+a+"</div>",d+=b,d+="</div></div>",Kb.popup.$elt=jQuery(d).appendTo("body"),g(Kb.VOM.$viewer,Kb.popup.$elt),Kb.popup.isDisplayed=!0,(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},easing:"easeInOutSine",duration:250,step:function(a,b){Kb.popup.$elt.css(a)}}),Kb.popup.$elt.find(".nGY2PopupCloseButton").on("click",function(a){a.stopPropagation(),Kb.popup.close()})}function Ja(a){if(!Kb.VOM.viewerDisplayed&&-1!=Kb.GOM.albumIdx){var b=La(a,!0);if(-1!=b.GOMidx){a.target||a.srcElement;ea(b.GOMidx)}}}function Ka(a){if(!Kb.VOM.viewerDisplayed&&-1!=Kb.GOM.albumIdx){var b=La(a,!0);if(-1!=b.GOMidx){a.target||a.srcElement;ga(b.GOMidx)}}}function La(a,b){var c={action:"NONE",GOMidx:-1};if(void 0==a)return c;for(var d=a.target||a.srcElement;d!=Kb.$E.conTnParent[0];){if(jQuery(d).hasClass("nGY2GThumbnail"))return"NONE"==c.action&&(c.action="OPEN"),c.GOMidx=jQuery(d).data("index"),c;if(!b){var e=jQuery(d).data("ngy2action");""!=e&&void 0!=e&&(c.action=e)}if(null==d.parentNode)return c;d=d.parentNode}return c}function Ma(a,b){var c=Kb.I[a],d=Kb.O.fnThumbnailClicked;if(null!==d&&("function"==typeof d?d(c.$elt,c):window[d](c.$elt,c)),void 0!==c.destinationURL&&c.destinationURL.length>0)return void(window.location=c.destinationURL);switch(c.kind){case"image":!1===b&&Kb.GOM.nbSelected>0?Ea(a):Pa(a);break;case"album":if(!1===b&&Kb.GOM.nbSelected>0)Ea(a);else{if(Kb.O.thumbnailAlbumDisplayImage&&0!=a)return void Na(a);m("-1",c.GetID())}break;case"albumUp":m("-1",NGY2Item.Get(Kb,c.albumID).albumID)}}function Na(a){Kb.O.debugMode&&console.log("#DisplayFirstPhotoInAlbum : "+a);for(var b=Kb.I[a],c=Kb.I.length,d=0;d<c;d++)if(Kb.I[d].albumID==b.GetID())return void Pa(d);ia(b.GetID(),Na,a,null)}function Oa(a){switch(Kb.O.kind){case"flickr":var b="https://www.flickr.com/photos/"+Kb.O.userID+"/"+a.GetID();"0"!=a.albumID&&(b+="/in/album-"+a.albumID+"/"),window.open(b,"_blank");break;case"picasa":case"google":case"google2":default:var b=a.responsiveURL();window.open(b,"_blank")}}function Pa(a){if(Kb.O.thumbnailOpenImage){if(Kb.O.thumbnailOpenOriginal)return void Oa(Kb.I[a]);var b=[];Kb.VOM.currItemIdx=0,Kb.VOM.items=[],Kb.VOM.albumID=Kb.I[a].albumID;var c=new h(a);Kb.VOM.items.push(c),b.push(Kb.I[a]);for(var d=Kb.I.length,e=a+1;e<d;e++){var f=Kb.I[e];if("image"==f.kind&&f.isToDisplay(Kb.VOM.albumID)&&""==f.destinationURL){var c=new h(e);Kb.VOM.items.push(c),b.push(f)}}for(var g=Kb.VOM.items.length,i=1,e=0;e<a;e++){var f=Kb.I[e];if("image"==f.kind&&f.isToDisplay(Kb.VOM.albumID)&&""==f.destinationURL){var c=new h(e);c.mediaNumber=i,Kb.VOM.items.push(c),b.push(f),i++}}for(var j=0;j<g;j++)Kb.VOM.items[j].mediaNumber=i,i++;var k=Kb.O.fnThumbnailOpen;if(null!==k)return void("function"==typeof k?k(b):window[k](b));if(Kb.VOM.viewerDisplayed){Kb.VOM.$mediaCurrent.empty();var f=Kb.VOM.NGY2Item(0),l='<div class="nGY2ViewerMediaLoaderDisplayed"></div>';"img"==f.mediaKind&&0!=f.imageWidth&&0!=f.imageHeight&&(l='<div class="nGY2ViewerMediaLoaderHidden"></div>'),Kb.VOM.$mediaCurrent.append(l+f.mediaMarkup),sb(Kb.VOM.NGY2Item(1),Kb.VOM.$mediaNext,0),sb(Kb.VOM.NGY2Item(-1),Kb.VOM.$mediaPrevious,0),"img"==f.mediaKind&&Kb.VOM.ImageLoader.loadImage(rb,f),pb(0,"")}else Ya()}}function Qa(){if(Kb.O.viewerZoom&&!Kb.VOM.viewerMediaIsChanged){var a=Kb.VOM.NGY2Item(0);if(a.imageHeight>0&&a.imageWidth>0)return!1===Kb.VOM.zoom.isZooming&&(Kb.VOM.zoom.userFactor=1,Kb.VOM.zoom.isZooming=!0),!0}}function Ra(a){a?(Kb.VOM.zoom.userFactor+=.1,Sa()):(Kb.VOM.zoom.userFactor-=.1,Ta()),Ua()}function Sa(){Kb.VOM.zoom.userFactor>3&&(Kb.VOM.zoom.userFactor=3)}function Ta(){Kb.VOM.zoom.userFactor<.2&&(Kb.VOM.zoom.userFactor=.2)}function Ua(){Kb.VOM.zoom.isZooming||(Kb.VOM.zoom.userFactor=1),Wa(Kb.VOM.NGY2Item(0),Kb.VOM.$mediaCurrent,!0),Wa(Kb.VOM.NGY2Item(-1),Kb.VOM.$mediaPrevious,!1),Wa(Kb.VOM.NGY2Item(1),Kb.VOM.$mediaNext,!1)}function Va(a){var b=a.children().eq(1);b.css({height:"80%"}),b.css({width:"90%"}),b[0].style[Kb.CSStransformName]='translate(0px, "50%") '}function Wa(a,b,c){if("img"!=a.mediaKind)return void Va(b);if(0==a.imageHeight||0==a.imageWidth)return void sb(a,b,0);var d=1==c?Kb.VOM.zoom.userFactor:1,e=1;"bestImageQuality"==Kb.O.viewerImageDisplay&&(e=window.devicePixelRatio);var f=(Kb.VOM.window.lastWidth-Kb.VOM.padding.V)/(a.imageWidth/e),g=(Kb.VOM.window.lastHeight-Kb.VOM.padding.H)/(a.imageHeight/e),h=Math.min(f,g);h>1&&"upscale"!=Kb.O.viewerImageDisplay&&(h=1);var i=a.imageHeight/e*d*h,j=a.imageWidth/e*d*h;b.children().eq(1).css({height:i}),b.children().eq(1).css({width:j});var k=0;j>Kb.VOM.window.lastWidth&&(k=-(j-Kb.VOM.window.lastWidth)/2);var l=0;i>Kb.VOM.window.lastHeight&&(l=(i-Kb.VOM.window.lastHeight)/2),l=0,c?(Kb.VOM.zoom.isZooming||(Kb.VOM.panPosX=0,Kb.VOM.panPosY=0),Kb.VOM.zoom.posX=k,Kb.VOM.zoom.posY=l,Xa(Kb.VOM.panPosX,Kb.VOM.panPosY,b,!1)):(mb(Kb.VOM.swipePosX),b.children().eq(1)[0].style[Kb.CSStransformName]="translate(0px, 0px) rotate("+a.rotationAngle+"deg)")}function Xa(a,b,c,d){d&&(Kb.VOM.panPosX=a,Kb.VOM.panPosY=b),a+=Kb.VOM.zoom.posX,b+=Kb.VOM.zoom.posY,c.children().eq(1)[0].style[Kb.CSStransformName]="translate("+a+"px, "+b+"px) rotate("+Kb.VOM.NGY2Item(0).rotationAngle+"deg)"}function Ya(){Kb.VOM.viewerDisplayed=!0,Kb.GOM.firstDisplay=!1,Kb.VOM.saveOverflowX=window.getComputedStyle(document.body)["overflow-x"],Kb.VOM.saveOverflowY=window.getComputedStyle(document.body)["overflow-y"],jQuery("body").css({overflow:"hidden"}),Kb.VOM.$cont=jQuery('<div  class="nGY2 nGY2ViewerContainer" style="opacity:1"></div>').appendTo("body"),ya(),Kb.VOM.$viewer=jQuery('<div class="nGY2Viewer" style="opacity:0" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(Kb.VOM.$cont),Kb.VOM.$viewer.css({msTouchAction:"none",touchAction:"none"}),Kb.VOM.currItemIdx=0;var a='<div class="nGY2ViewerMediaPan"><div class="nGY2ViewerMediaLoaderDisplayed"></div>'+Kb.VOM.NGY2Item(-1).mediaMarkup+"</div>";a+='<div class="nGY2ViewerMediaPan"><div class="nGY2ViewerMediaLoaderDisplayed"></div>'+Kb.VOM.NGY2Item(0).mediaMarkup+"</div>",a+='<div class="nGY2ViewerMediaPan"><div class="nGY2ViewerMediaLoaderDisplayed"></div>'+Kb.VOM.NGY2Item(1).mediaMarkup+"</div>";var b="",c=Kb.O.icons.viewerImgPrevious;void 0!=c&&""!=c&&(b+='<div class="nGY2ViewerAreaPrevious ngy2viewerToolAction" data-ngy2action="previous">'+c+"</div>");var d=Kb.O.icons.viewerImgNext;void 0!=d&&""!=d&&(b+='<div class="nGY2ViewerAreaNext ngy2viewerToolAction" data-ngy2action="next">'+d+"</div>"),Kb.VOM.$content=jQuery('<div class="nGY2ViewerContent">'+a+b+"</div>").appendTo(Kb.VOM.$viewer);var e=Kb.VOM.$content.find(".nGY2ViewerMediaPan");Kb.VOM.$mediaPrevious=e.eq(0),Kb.VOM.$mediaCurrent=e.eq(1),Kb.VOM.$mediaNext=e.eq(2),Kb.VOM.ImageLoader.loadImage(rb,Kb.VOM.NGY2Item(0)),Kb.VOM.ImageLoader.loadImage(rb,Kb.VOM.NGY2Item(-1)),Kb.VOM.ImageLoader.loadImage(rb,Kb.VOM.NGY2Item(1)),Kb.VOM.padding.H=parseInt(Kb.VOM.$content.css("padding-left"))+parseInt(Kb.VOM.$content.css("padding-right")),Kb.VOM.padding.V=parseInt(Kb.VOM.$content.css("padding-top"))+parseInt(Kb.VOM.$content.css("padding-bottom"));var f="",h=" toolbarBackground";Kb.O.viewerToolbar.fullWidth&&(f=" toolbarBackground",h="");var i="text-align:center;";switch(Kb.O.viewerToolbar.align){case"left":i="text-align:left;";break;case"right":i="text-align:right;"}var j='<div class="toolbarContainer nGEvent'+f+'" style="visibility:'+(Kb.O.viewerToolbar.display?"visible":"hidden")+";"+i+'"><div class="toolbar nGEvent'+h+'"></div></div>';if(Kb.VOM.$toolbar=jQuery(j).appendTo(Kb.VOM.$viewer),"min"==Kb.VOM.toolbarMode||Kb.O.viewerToolbar.autoMinimize>0&&Kb.O.viewerToolbar.autoMinimize>=Kb.GOM.cache.viewport.w?kb():jb(),""!=Kb.O.viewerTools.topLeft){for(var k='<div class="nGY2ViewerToolsTopLeft nGEvent"><div class="toolbar nGEvent">',l=Kb.O.viewerTools.topLeft.split(","),m=0,n=l.length;m<n;m++)k+=hb(l[m]);k+="</div></div>",Kb.VOM.$toolbarTL=jQuery(k).appendTo(Kb.VOM.$viewer)}if(""!=Kb.O.viewerTools.topRight){for(var o='<div class="nGY2ViewerToolsTopRight nGEvent"><div class="toolbar nGEvent">',p=Kb.O.viewerTools.topRight.split(","),m=0,q=p.length;m<q;m++)o+=hb(p[m]);o+="</div></div>",Kb.VOM.$toolbarTR=jQuery(o).appendTo(Kb.VOM.$viewer)}db(),Kb.O.viewerDisplayLogo&&(Kb.$E.vwLogo=jQuery('<div class="nGY2 nGY2ViewerLogo"></div>').appendTo(Kb.VOM.$viewer)),ngscreenfull.enabled&&Kb.O.viewerFullscreen&&ngscreenfull.request(),g("",Kb.VOM.$viewer),ub(!0),Kb.VOM.timeImgChanged=(new Date).getTime(),(new NGTweenable).tween({from:{opacity:0,posY:.5*Kb.VOM.window.lastHeight},to:{opacity:1,posY:0},delay:30,duration:500,easing:"easeOutQuart",step:function(a){Kb.VOM.$viewer.css("opacity",a.opacity),Kb.VOM.$viewer[0].style[Kb.CSStransformName]="translateY("+a.posY+"px) "}}),mb(0),$a(),pb(0,""),Kb.O.slideshowAutoStart&&(Kb.VOM.playSlideshow=!1,ib())}function Za(){return!(!Kb.VOM.viewerDisplayed||Kb.VOM.viewerMediaIsChanged||"img"!=Kb.VOM.NGY2Item(0).mediaKind)}function $a(){null==Kb.VOM.hammertime&&(Kb.VOM.hammertime=new NGHammer.Manager(Kb.VOM.$cont[0],{recognizers:[[NGHammer.Pinch,{enable:!0}],[NGHammer.Pan,{direction:NGHammer.DIRECTION_ALL}]]}),Kb.VOM.hammertime.on("pan",function(a){if(Za())if(Kb.VOM.zoom.isZooming)Xa(Kb.VOM.panPosX+a.deltaX,Kb.VOM.panPosY+a.deltaY,Kb.VOM.$mediaCurrent,!1),1==Kb.VOM.toolbarsDisplayed&&Kb.VOM.toolsHide();else if(a.deltaY>Kb.VOM.panThreshold&&Math.abs(a.deltaX)<Kb.VOM.panThreshold&&!Kb.VOM.panXOnly){mb(0);var b=Math.min(a.deltaY,200);Kb.VOM.$viewer[0].style[Kb.CSStransformName]="translateY("+b+"px) ",Kb.VOM.$viewer.css("opacity",1-b/200/2)}else Math.abs(a.deltaX)>Kb.VOM.panThreshold&&(Kb.VOM.panXOnly=!0),mb(a.deltaX),Kb.VOM.$viewer[0].style[Kb.CSStransformName]="translateY(0px)",Kb.VOM.$viewer.css("opacity",1)}),Kb.VOM.hammertime.on("panend",function(a){if(Za()){if(Kb.VOM.zoom.isZooming)Kb.VOM.timeImgChanged=(new Date).getTime(),Xa(Kb.VOM.panPosX+a.deltaX,Kb.VOM.panPosY+a.deltaY,Kb.VOM.$mediaCurrent,!0);else{var b=!1;Kb.VOM.panXOnly||a.deltaY>50&&Math.abs(a.deltaX)<50&&(tb(Kb.VOM.currItemIdx),b=!0),b||(Math.abs(a.deltaX)<50?mb(0):a.deltaX>50?ob():nb())}Kb.VOM.panXOnly=!1}}),Kb.O.viewerZoom?(Kb.VOM.hammertime.add(new NGHammer.Tap({event:"doubletap",taps:2})),Kb.VOM.hammertime.add(new NGHammer.Tap({event:"singletap"})),Kb.VOM.hammertime.get("doubletap").recognizeWith("singletap"),Kb.VOM.hammertime.get("singletap").requireFailure("doubletap"),Kb.VOM.hammertime.on("singletap",function(a){Za()&&(_a(a.srcEvent),0==Kb.VOM.toolbarsDisplayed?Jb(bb,100,!1)():-1!==a.target.className.indexOf("nGY2ViewerMedia")&&(a.srcEvent.pageX<Kb.GOM.cache.viewport.w/2?ob():nb()))}),Kb.VOM.hammertime.on("doubletap",function(a){Za()&&(_a(a.srcEvent),-1!==a.target.className.indexOf("nGY2ViewerMedia")&&(Kb.VOM.zoom.isZooming?(Kb.VOM.zoom.isZooming=!1,ub(!0)):Qa()&&(Kb.VOM.zoom.userFactor=1.5,Ua())))}),Kb.VOM.hammertime.on("pinchend",function(a){a.srcEvent.stopPropagation(),a.srcEvent.preventDefault(),Kb.VOM.timeImgChanged=(new Date).getTime()}),
Kb.VOM.hammertime.on("pinch",function(a){a.srcEvent.stopPropagation(),a.srcEvent.preventDefault(),Qa()&&(Kb.VOM.zoom.userFactor=a.scale,Sa(),Ta(),Ua())})):Kb.VOM.hammertime.on("tap",function(a){Za()&&(_a(a.srcEvent),0==Kb.VOM.toolbarsDisplayed?Jb(bb,100,!1)():-1!==a.target.className.indexOf("nGY2ViewerMedia")&&(a.srcEvent.pageX<Kb.GOM.cache.viewport.w/2?ob():nb()))}))}function _a(a){a.stopPropagation(),a.preventDefault()}function ab(){Kb.VOM.viewerDisplayed&&(Kb.VOM.toolbarsDisplayed=!1,cb(0))}function bb(){Kb.VOM.viewerDisplayed&&(Kb.VOM.toolbarsDisplayed=!0,cb(1),Kb.VOM.toolsHide())}function cb(a){null!=Kb.VOM.$toolbar&&Kb.VOM.$toolbar.css("opacity",a),null!=Kb.VOM.$toolbarTL&&Kb.VOM.$toolbarTL.css("opacity",a),null!=Kb.VOM.$toolbarTR&&Kb.VOM.$toolbarTR.css("opacity",a),Kb.VOM.$content.find(".nGY2ViewerAreaNext").css("opacity",a),Kb.VOM.$content.find(".nGY2ViewerAreaPrevious").css("opacity",a)}function db(){Kb.VOM.$viewer.off("touchstart click",".ngy2viewerToolAction",eb),Kb.VOM.$viewer.on("touchstart click",".ngy2viewerToolAction",eb)}function eb(b){if(!((new Date).getTime()-Kb.timeLastTouchStart<300)){Kb.timeLastTouchStart=(new Date).getTime();var c=a(this),d=c.data("ngy2action");if(void 0!=d){switch(d){case"next":_a(b),nb();break;case"previous":_a(b),ob();break;case"playPause":b.stopPropagation(),ib();break;case"zoomIn":_a(b),Qa()&&Ra(!0);break;case"zoomOut":_a(b),Qa()&&Ra(!1);break;case"minimize":_a(b),"std"==Kb.VOM.toolbarMode?kb():jb();break;case"fullScreen":b.stopPropagation(),ngscreenfull.enabled&&ngscreenfull.toggle();break;case"info":b.stopPropagation(),gb(Kb.VOM.NGY2Item(0));break;case"close":if(_a(b),(new Date).getTime()-Kb.VOM.timeImgChanged<400)return;tb(Kb.VOM.currItemIdx);break;case"download":_a(b),Ba(Kb.VOM.items[Kb.VOM.currItemIdx].ngy2ItemIdx);break;case"share":_a(b),Ha(Kb.VOM.items[Kb.VOM.currItemIdx].ngy2ItemIdx);break;case"linkOriginal":_a(b),Oa(Kb.VOM.NGY2Item(0));break;case"rotateLeft":_a(b),fb(-90);break;case"rotateRight":_a(b),fb(90)}var e=Kb.O.fnImgToolbarCustClick;0==d.indexOf("custom")&&null!==e&&("function"==typeof e?e(d,c,Kb.VOM.NGY2Item(0)):window[e](d,c,Kb.VOM.NGY2Item(0)))}}}function fb(a){var b=Kb.VOM.NGY2Item(0);"img"==b.mediaKind&&(b.rotationAngle+=a,b.rotationAngle=b.rotationAngle%360,b.rotationAngle<0&&(b.rotationAngle+=360),mb(0),Wa(Kb.VOM.NGY2Item(0),Kb.VOM.$mediaCurrent,!0))}function gb(a){var b='<div class="nGY2PopupOneItemText">'+a.title+"</div>";b+='<div class="nGY2PopupOneItemText">'+a.description+"</div>",""!=a.author&&(b+='<div class="nGY2PopupOneItemText">'+Kb.O.icons.user+" "+a.author+"</div>"),""!=a.exif.model&&(b+='<div class="nGY2PopupOneItemText">'+Kb.O.icons.config+" "+a.exif.model+"</div>");var c="";c+=""==a.exif.flash?"":" &nbsp; "+a.exif.flash,c+=""==a.exif.focallength?"":" &nbsp; "+a.exif.focallength+"mm",c+=""==a.exif.fstop?"":" &nbsp; f"+a.exif.fstop,c+=""==a.exif.exposure?"":" &nbsp; "+a.exif.exposure+"s",c+=""==a.exif.iso?"":" &nbsp; "+a.exif.iso+" ISO",""!=a.exif.time&&(c+=" &nbsp; "+a.exif.time),b+='<div class="nGY2PopupOneItemText">'+c+"</div>",""!=a.exif.location&&(b+='<div class="nGY2PopupOneItemText">'+Kb.O.icons.location+' <a href="http://maps.google.com/maps?z=12&t=m&q='+encodeURIComponent(a.exif.location)+'" target="_blank">'+a.exif.location+"</a></div>",b+='<iframe width="300" height="150" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?&amp;t=m&amp;q='+encodeURIComponent(a.exif.location)+'&amp;output=embed"></iframe>'),Ia(Kb.O.icons.viewerInfo,b,"Left")}function hb(a){var b='<div class="ngbt ngy2viewerToolAction ',c=a.replace(/^\s+|\s+$/g,"");switch(c){case"minimizeButton":var d=Kb.O.icons.viewerToolbarMin;"min"==Kb.VOM.toolbarMode&&(d=Kb.O.icons.viewerToolbarStd),b+='minimizeButton nGEvent" data-ngy2action="minimize">'+d+"</div>";break;case"previousButton":b+='previousButton nGEvent" data-ngy2action="previous">'+Kb.O.icons.viewerPrevious+"</div>";break;case"pageCounter":b+='pageCounter nGEvent"></div>';break;case"nextButton":b+='nextButton nGEvent" data-ngy2action="next">'+Kb.O.icons.viewerNext+"</div>";break;case"playPauseButton":b+='playButton playPauseButton nGEvent" data-ngy2action="playPause">'+Kb.O.icons.viewerPlay+"</div>";break;case"rotateLeft":b+='rotateLeftButton nGEvent" data-ngy2action="rotateLeft">'+Kb.O.icons.viewerRotateLeft+"</div>";break;case"rotateRight":b+='rotateRightButton nGEvent" data-ngy2action="rotateRight">'+Kb.O.icons.viewerRotateRight+"</div>";break;case"downloadButton":b+='downloadButton nGEvent" data-ngy2action="download">'+Kb.O.icons.viewerDownload+"</div>";break;case"zoomButton":b+='nGEvent" data-ngy2action="zoomIn">'+Kb.O.icons.viewerZoomIn+'</div><div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="zoomOut">'+Kb.O.icons.viewerZoomOut+"</div>";break;case"fullscreenButton":var e=Kb.O.icons.viewerFullscreenOn;ngscreenfull.enabled&&Kb.VOM.viewerIsFullscreen&&(e=Kb.O.icons.viewerFullscreenOff),b+='setFullscreenButton fullscreenButton nGEvent" data-ngy2action="fullScreen">'+e+"</div>";break;case"infoButton":b+='infoButton nGEvent" data-ngy2action="info">'+Kb.O.icons.viewerInfo+"</div>";break;case"linkOriginalButton":b+='linkOriginalButton nGEvent" data-ngy2action="linkOriginal">'+Kb.O.icons.viewerLinkOriginal+"</div>";break;case"closeButton":b+='closeButton nGEvent" data-ngy2action="close">'+Kb.O.icons.buttonClose+"</div>";break;case"shareButton":b+='nGEvent" data-ngy2action="share">'+Kb.O.icons.viewerShare+"</div>";break;case"label":b+='"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:if(0==c.indexOf("custom")){var f="",g=Kb.O.fnImgToolbarCustInit;if(null!==g&&("function"==typeof g?g(c):window[g](c)),void 0==f||""==f){var h=c.substring(6);f=Kb.O.icons["viewerCustomTool"+h]}b+="ngy2CustomBtn "+c+' nGEvent" data-ngy2action="'+c+'">'+f+"</div>"}else b=""}return b}function ib(){Kb.VOM.playSlideshow?(window.clearTimeout(Kb.VOM.playSlideshowTimerID),Kb.VOM.playSlideshow=!1,Kb.VOM.$viewer.find(".playPauseButton").html(Kb.O.icons.viewerPlay)):(Kb.VOM.playSlideshow=!0,nb(),Kb.VOM.$viewer.find(".playPauseButton").html(Kb.O.icons.viewerPause))}function jb(){Kb.VOM.toolbarMode="std";for(var a="",b=Kb.O.viewerToolbar.standard.split(","),c=0,d=b.length;c<d;c++)a+=hb(b[c]);Kb.VOM.$toolbar.find(".toolbar").html(a),lb()}function kb(){if(void 0==Kb.O.viewerToolbar.minimized||""==Kb.O.viewerToolbar.minimized)jb();else{Kb.VOM.toolbarMode="min";for(var a="",b=Kb.O.viewerToolbar.minimized.split(","),c=0,d=b.length;c<d;c++)a+=hb(b[c]);Kb.VOM.$toolbar.find(".toolbar").html(a),lb()}}function lb(){var a=Kb.VOM.currItemIdx;if(null!=a){var b=Kb.VOM.NGY2Item(0),c=!1;void 0!==b.title&&""!=b.title?(Kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(b.title),c=!0):Kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(""),void 0!==b.description&&""!=b.description?(Kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(b.description),c=!0):Kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(""),c?Kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").show():Kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").hide();var d=Kb.VOM.items.length;d>0&&Kb.VOM.$viewer.find(".pageCounter").html(Kb.VOM.items[a].mediaNumber+"/"+d);var e=Kb.VOM.$viewer.find(".ngy2CustomBtn"),f=Kb.O.fnImgToolbarCustDisplay;e.length>0&&null!==f&&("function"==typeof f?f(e,b):window[f](e,b)),db()}}function mb(a){if(Kb.VOM.swipePosX=a,null==Kb.CSStransformName);else{Kb.VOM.$mediaCurrent[0].style[Kb.CSStransformName]="translate("+a+"px, 0px)";var b=Kb.VOM.NGY2Item(-1),c=Kb.VOM.NGY2Item(1);if(Kb.O.imageTransition.startsWith("SWIPE")){b.mediaTransition()&&sb(Kb.VOM.NGY2Item(-1),Kb.VOM.$mediaPrevious,1),c.mediaTransition()&&sb(Kb.VOM.NGY2Item(1),Kb.VOM.$mediaNext,1);var d=Math.min(Math.max(Math.abs(a)/Kb.VOM.window.lastWidth,.8),1);if("SWIPE"==Kb.O.imageTransition&&(d=1),a>0){var e=Kb.VOM.window.lastWidth;b.mediaTransition()&&(Kb.VOM.$mediaPrevious[0].style[Kb.CSStransformName]="translate("+(-e+a)+"px, 0px) scale("+d+")"),c.mediaTransition()&&(Kb.VOM.$mediaNext[0].style[Kb.CSStransformName]="translate("+e+"px, 0px) scale("+d+")")}else{var e=-Kb.VOM.window.lastWidth;c.mediaTransition()&&(Kb.VOM.$mediaNext[0].style[Kb.CSStransformName]="translate("+(-e+a)+"px, 0px) scale("+d+")"),b.mediaTransition()&&(Kb.VOM.$mediaPrevious[0].style[Kb.CSStransformName]="translate("+e+"px, 0px) scale("+d+")")}}if("SLIDEAPPEAR"==Kb.O.imageTransition)if(Kb.VOM.$mediaPrevious[0].style[Kb.CSStransformName]="",Kb.VOM.$mediaNext[0].style[Kb.CSStransformName]="",a<0){var f=-a/Kb.VOM.window.lastWidth;c.mediaTransition()&&sb(c,Kb.VOM.$mediaNext,f),b.mediaTransition()&&sb(b,Kb.VOM.$mediaPrevious,0)}else{var f=a/Kb.VOM.window.lastWidth;b.mediaTransition()&&sb(b,Kb.VOM.$mediaPrevious,f),c.mediaTransition()&&sb(c,Kb.VOM.$mediaNext,0)}}}function nb(){Kb.VOM.viewerMediaIsChanged||(new Date).getTime()-Kb.VOM.timeImgChanged<300||(wb("lightboxNextImage"),pb(Kb.VOM.IdxNext(),"nextImage"))}function ob(){Kb.VOM.viewerMediaIsChanged||(new Date).getTime()-Kb.VOM.timeImgChanged<300||(Kb.VOM.playSlideshow&&ib(),wb("lightboxPreviousImage"),pb(Kb.VOM.IdxPrevious(),"previousImage"))}function pb(a,b){Kb.VOM.playSlideshow&&window.clearTimeout(Kb.VOM.playSlideshowTimerID);var c=Kb.VOM.NGY2Item(0),d=Kb.I[Kb.VOM.items[a].ngy2ItemIdx],e="nextImage"==b?Kb.VOM.$mediaNext:Kb.VOM.$mediaPrevious;"nextImage"==b?sb(Kb.VOM.NGY2Item(-1),Kb.VOM.$mediaPrevious,0):sb(Kb.VOM.NGY2Item(1),Kb.VOM.$mediaNext,0),Kb.VOM.timeImgChanged=(new Date).getTime(),Kb.VOM.viewerMediaIsChanged=!0,Kb.VOM.zoom.isZooming=!1,ub(!0),Kb.O.debugMode&&console.timeline&&console.timeline("nanogallery2_viewer"),zb(d.albumID,d.GetID());var f=Kb.GOM.cache.viewport,g=400*(f.w-Math.abs(Kb.VOM.swipePosX))/f.w;if(""==b)sb(Kb.VOM.NGY2Item(0),Kb.VOM.$mediaCurrent,1),null==Kb.CSStransformName?(sb(d,e,1),qb(b,a)):(sb(d,e,0),(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},attachment:{dT:b,item:c},easing:"easeInOutSine",delay:30,duration:400,step:function(a,b){Kb.VOM.$content.css("opacity",a.opacity)},finish:function(b,c){bb(),qb(c.dT,a)}}));else if(null==Kb.CSStransformName)sb(d,e,1),sb(Kb.VOM.NGY2Item(0),Kb.VOM.$mediaCurrent,1),qb(b,a);else switch(Kb.O.imageTransition){case"SWIPE":case"SWIPE2":var h="nextImage"==b?-f.w:f.w;e[0].style[Kb.CSStransformName]="translate("+-h+"px, 0px) ",(new NGTweenable).tween({from:{t:Kb.VOM.swipePosX},to:{t:"nextImage"==b?-f.w:f.w},attachment:{dT:b,$e:e,itemNew:d,itemOld:c,dir:h},delay:30,duration:g,easing:"swipe"==Kb.O.imageTransition?"easeInOutSine":"easeInOutCubic",step:function(a,b){if(sb(Kb.VOM.NGY2Item(0),Kb.VOM.$mediaCurrent,1),Kb.VOM.$mediaCurrent[0].style[Kb.CSStransformName]="translate("+a.t+"px, 0px)",b.itemNew.mediaTransition()){sb(b.itemNew,b.$e,1);var c=Math.min(Math.max(Math.abs(a.t)/Kb.VOM.window.lastWidth,.8),1);"SWIPE"==Kb.O.imageTransition&&(c=1),b.$e[0].style[Kb.CSStransformName]="translate("+(-b.dir+a.t)+"px, 0px) scale("+c+")"}},finish:function(b,c){Kb.VOM.$mediaCurrent[0].style[Kb.CSStransformName]="",c.$e[0].style[Kb.CSStransformName]="",qb(c.dT,a)}});break;case"SLIDEAPPEAR":default:var h="nextImage"==b?-f.w:f.w,i=Math.abs(Kb.VOM.swipePosX)/Kb.VOM.window.lastWidth;e[0].style[Kb.CSStransformName]="",(new NGTweenable).tween({from:{o:i,t:Kb.VOM.swipePosX},to:{o:1,t:"nextImage"==b?-f.w:f.w},attachment:{dT:b,$e:e,itemNew:d,itemOld:c,dir:h},delay:30,duration:g,easing:"easeInOutSine",step:function(a,b){Kb.VOM.$mediaCurrent[0].style[Kb.CSStransformName]="translate("+a.t+"px, 0px)",b.itemNew.mediaTransition()&&sb(b.itemNew,b.$e,a.o)},finish:function(b,c){Kb.VOM.$mediaCurrent[0].style[Kb.CSStransformName]="",qb(c.dT,a)}})}}function qb(a,b){Kb.VOM.currItemIdx=b;var c=Kb.VOM.NGY2Item(0);lb(),Kb.O.debugMode&&console.timeline&&console.timelineEnd("nanogallery2_viewer");var d=Kb.O.fnImgDisplayed;if(null!==d&&("function"==typeof d?d(c):window[d](c)),Kb.VOM.swipePosX=0,""!=a){Kb.VOM.$mediaCurrent.removeClass("imgCurrent");var e=Kb.VOM.$mediaCurrent;switch(a){case"nextImage":Kb.VOM.$mediaCurrent=Kb.VOM.$mediaNext,Kb.VOM.$mediaNext=e;break;case"previousImage":Kb.VOM.$mediaCurrent=Kb.VOM.$mediaPrevious,Kb.VOM.$mediaPrevious=e}}Kb.VOM.$mediaCurrent.addClass("imgCurrent");var f=Kb.VOM.$content.find(".nGY2ViewerMediaPan");Kb.VOM.$mediaCurrent.insertAfter(f.last()),"img"==c.mediaKind&&0==c.imageWidth?sb(Kb.VOM.NGY2Item(0),Kb.VOM.$mediaCurrent,0):(Kb.VOM.$mediaCurrent.children().eq(0).attr("class","nGY2ViewerMediaLoaderHidden"),sb(Kb.VOM.NGY2Item(0),Kb.VOM.$mediaCurrent,1)),Kb.VOM.$mediaNext.empty();var g=Kb.VOM.NGY2Item(1),h='<div class="nGY2ViewerMediaLoaderDisplayed"></div>';"img"==g.mediaKind&&0!=g.imageWidth&&0!=g.imageHeight&&(h='<div class="nGY2ViewerMediaLoaderHidden"></div>'),Kb.VOM.$mediaNext.append(h+g.mediaMarkup),sb(g,Kb.VOM.$mediaNext,0),"img"==g.mediaKind?Kb.VOM.ImageLoader.loadImage(rb,g):Va(Kb.VOM.$mediaNext),Kb.VOM.$mediaPrevious.empty();var i=Kb.VOM.NGY2Item(-1);h='<div class="nGY2ViewerMediaLoaderDisplayed"></div>',"img"==i.mediaKind&&0!=i.imageWidth&&0!=i.imageHeight&&(h='<div class="nGY2ViewerMediaLoaderHidden"></div>'),Kb.VOM.$mediaPrevious.append(h+i.mediaMarkup),sb(i,Kb.VOM.$mediaPrevious,0),"img"==i.mediaKind?Kb.VOM.ImageLoader.loadImage(rb,i):Va(Kb.VOM.$mediaPrevious),Kb.VOM.playSlideshow&&Kb.VOM.$mediaCurrent.children().eq(1).ngimagesLoaded().always(function(a){Kb.VOM.playSlideshow&&(Kb.VOM.playSlideshowTimerID=window.setTimeout(function(){nb()},Kb.VOM.slideshowDelay))}),ub(),Kb.VOM.viewerMediaIsChanged=!1,wb("lightboxImageDisplayed")}function rb(a,b,c,d){c.imageWidth=a,c.imageHeight=b,Kb.VOM.NGY2Item(0)==c&&(Kb.VOM.$mediaCurrent.children().eq(0).attr("class","nGY2ViewerMediaLoaderHidden"),sb(Kb.VOM.NGY2Item(0),Kb.VOM.$mediaCurrent,1),Kb.VOM.zoom.userFactor=1),Kb.VOM.NGY2Item(1)==c&&Kb.VOM.$mediaNext.children().eq(0).attr("class","nGY2ViewerMediaLoaderHidden"),Kb.VOM.NGY2Item(-1)==c&&Kb.VOM.$mediaPrevious.children().eq(0).attr("class","nGY2ViewerMediaLoaderHidden"),Ua()}function sb(a,b,c){if("img"==a.mediaKind&&0==a.imageWidth)return void b.children().eq(1).css({opacity:0,visibility:"hidden"});0==c?b.children().css({opacity:0,visibility:"hidden"}):b.children().css({opacity:c,visibility:"visible"})}function tb(a){if(Kb.VOM.viewerMediaIsChanged=!1,Kb.VOM.viewerDisplayed){if(jQuery("body").css({overflowX:Kb.VOM.saveOverflowX,overflowY:Kb.VOM.saveOverflowY}),Kb.VOM.playSlideshow&&(window.clearTimeout(Kb.VOM.playSlideshowTimerID),Kb.VOM.playSlideshow=!1),Kb.VOM.hammertime.destroy(),Kb.VOM.hammertime=null,ngscreenfull.enabled&&Kb.VOM.viewerIsFullscreen&&(Kb.VOM.viewerIsFullscreen=!1,ngscreenfull.exit()),Kb.VOM.$cont.hide(0).off().show(0).html("").remove(),Kb.VOM.viewerDisplayed=!1,Kb.O.thumbnailAlbumDisplayImage)if(null==a);else{var b=Kb.I[Kb.VOM.items[a].ngy2ItemIdx],c=NGY2Item.Get(Kb,b.albumID);Kb.GOM.albumIdx!=c.albumID?m("-1",c.albumID):(B(),zb("",""),da())}else null!=a&&(-1==Kb.GOM.albumIdx?m("",Kb.I[Kb.VOM.items[a].ngy2ItemIdx].albumID):(B(),zb(Kb.I[Kb.VOM.items[a].ngy2ItemIdx].albumID,""),da()));Kb.VOM.timeImgChanged=(new Date).getTime()}}function ub(a){if(a=void 0!==a&&a,null!==Kb.VOM.$toolbar){var b=Kb.VOM.$viewer.width(),c=Kb.VOM.$viewer.height();if(null!=Kb.VOM.$mediaCurrent.children().eq(1)&&-1!=Kb.VOM.currItemIdx&&(a||Kb.VOM.window.lastWidth!=b||Kb.VOM.window.lastHeight!=c)){Kb.VOM.window.lastWidth=b,Kb.VOM.window.lastHeight=c;var d=Kb.VOM.$toolbar.find(".toolbar"),e=d.outerHeight(!0);switch(Kb.O.viewerToolbar.position){case"topOverImage":Kb.VOM.$content.css({height:c,width:b,top:0}),Kb.VOM.$toolbar.css({top:0,bottom:""});break;case"top":c-=e,Kb.VOM.$content.css({height:c,width:b,top:e}),Kb.VOM.$toolbar.css({top:0});break;case"bottomOverImage":Kb.VOM.$content.css({height:c,width:b,bottom:0,top:0}),Kb.VOM.$toolbar.css({bottom:0});break;case"bottom":default:c-=e,Kb.VOM.$content.css({width:b,top:0,bottom:e}),Kb.VOM.$toolbar.css({bottom:0})}!Kb.VOM.viewerMediaIsChanged&&Kb.VOM.zoom.isZooming?Ua():Kb.VOM.zoom.isZooming||0==Kb.VOM.zoom.userFactor&&0==Kb.VOM.panPosX&&0==Kb.VOM.panPosY&&0==Kb.VOM.zoom.posX&&0==Kb.VOM.zoom.posY?(Kb.VOM.zoom.userFactor=1,Kb.VOM.zoom.isZooming=!1,Kb.VOM.panPosX=0,Kb.VOM.panPosY=0,Kb.VOM.zoom.posX=0,Kb.VOM.zoom.posY=0,Ua()):(Kb.VOM.zoom.isZooming=!0,(new NGTweenable).tween({from:{userFactor:Kb.VOM.zoom.userFactor,panPosX:Kb.VOM.panPosX,panPosY:Kb.VOM.panPosY,zoomPosX:Kb.VOM.zoom.posX,zoomPosY:Kb.VOM.zoom.posY},to:{userFactor:1,panPosX:0,panPosY:0,zoomPosX:0,zoomPosY:0},easing:"easeInOutSine",delay:0,duration:150,step:function(a){Kb.VOM.zoom.userFactor=a.userFactor,Kb.VOM.panPosX=a.panPosX,Kb.VOM.panPosY=a.panPosY,Kb.VOM.zoom.posX=a.zoomPosX,Kb.VOM.zoom.posY=a.zoomPosY,Ua()},finish:function(a){Kb.VOM.zoom.isZooming=!1}}))}}}function vb(){var a=Kb.$E.base.children("a");a.length>0&&(Kb.O.$markup=a),Kb.$E.base.text(""),Kb.$E.base.addClass("ngy2_container");Kb.O.RTL,Kb.$E.base.addClass(Kb.O.theme),xa(),Kb.O.thumbnailLabel.get("hideIcons")&&(Kb.O.icons.thumbnailAlbum="",Kb.O.icons.thumbnailImage="");var b="";switch(void 0!=Kb.O.navigationFontSize&&""!=Kb.O.navigationFontSize&&(b=' style="font-size:'+Kb.O.navigationFontSize+';"'),Kb.$E.conNavigationBar=jQuery('<div class="nGY2Navigationbar" '+b+"></div>").appendTo(Kb.$E.base),Kb.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(Kb.$E.base),Kb.$E.conTnParent=jQuery('<div class="nGY2Gallery"></div>').appendTo(Kb.$E.base),Kb.$E.conTn=jQuery('<div class="nGY2GallerySub"></div>').appendTo(Kb.$E.conTnParent),Kb.O.thumbnailAlignment){case"left":Kb.$E.conTnParent.css({"text-align":"left"});break;case"right":Kb.$E.conTnParent.css({"text-align":"right"})}if(void 0!==Kb.O.galleryBuildInit2)for(var c=Kb.O.galleryBuildInit2.split("|"),d=0;d<c.length;d++){var e=c[d].split("_");2==e.length&&Kb.$E.conTn.css(e[0],e[1])}for(var f=Kb.tn.hoverEffects.std.concat(Kb.tn.hoverEffects.level1),g=0;g<f.length;g++)switch(f[g].type){case"scale":case"rotateZ":case"rotateX":case"rotateY":case"translateX":case"translateY":".nGY2GThumbnail"==f[g].element&&(Kb.$E.base.css("overflow","visible"),Kb.$E.base.find(".nGY2GallerySub").css("overflow","visible"),Kb.$E.conTnParent.css("overflow","visible"))}if(Kb.$E.conTnBottom=jQuery('<div class="nGY2GalleryBottom" '+b+"></div>").appendTo(Kb.$E.conTnParent),Kb.O.portable){var h="font-weight:bold !important;color: #FF0075 !important;font-size: 14px !important;text-transform: lowercase !important;cursor:pointer !important;text-align: center !important;Text-Shadow: #000000 1px 0px 0px, #000000 1px 1px 0px, #000000 1px -1px 0px, #000000 -1px 1px 0px, #000000 -1px 0px 0px, #000000 -1px -1px 0px, #000000 0px 1px 0px, #000000 0px -1px 0px !important;";Kb.$E.ngy2i=jQuery('<div class="nGY2PortInfo"><a href="http://nano.gallery" target="_blank" title="nanogallery2 | easy photo gallery for your website" style="'+h+'"><img src="'+"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAYCAYAAACbU/80AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4QgDBCAWVVC/hwAABRxJREFUSMetll9oVFcexz/nnDvJRBmSzWTrmD9uNGZsHta0/qFIFQTxRcnCBgTFNlX0YR8W+1AK9lGwCBJYgn0KKr5136S4gpUQTR4caJRslcxYWV3iaphQapJJppO5957z60Mmk4mN1q75wg/OPefc+/v9vt/fueenKEFEqICqsNWAVNiCA7XwaS0iZeejo6OIiCltdIBdJXMLOYp5/PjxsoTVS5nr0mYDJIE/lObeBhaYAn4oJbboAwBvBedHJicnPx8YGGh/8eJF1dvKoJSShoYGf//+/Zl4PP4l8M2yIEoSLErx6c2bN6W1tXVRglWzLVu2SCqVEhE5LiI457SIoEREW2udMaZtcnLy+2QyWZ3L5XRHR4f+4MNdoBUahUJhcWilmZ/NE4ZhOQHn3LIi1lqjtS6vjY6O8uTJE9vc3MyDBw+mYrHYn0Uk63me8gCtlHLA7uHh4bW5XC7oePddPTQ8xHffDjM/PYe3thqMws35iAcHPj5ENBp9Yxmy2Sw7d+40z549C+7du9ewb9++D6y13wDaK+kE0DAzMyNKKbXtvfd5EfzM+Ef/4C+8x23+wzPm+IhtfMf3/Ksuyl+7u9FaY63l+vXrpFIpCoUCmzdvpquri9bWVoIgQClFIpFg48aNPH/+XE9NTQkQLTGmvEXKRERprZWIEIYhQRjQbN6hmUb+tCaPNnM055v40f3If7XBGMPT8af0fNLD0NDQsozPnDlDb28vx44dIwxDRARrLSKCKmUbiUQQkWWnoLJ20UpjFYAjVA6rBJTFV5ZIJIIfBBw4eICxsTHq6uo4dOgQ8XicgYEB7t69y/Hjx4nH43R1dVHB8q+w4hlXSmGd5edwmjCco5DLkZ+aJvTnyIdTrFmzhn9+/TVjY2M0NTVx+/Zt+vv7OXfuHKlUip6eHgBOnz6N7/vlYl0JKzIw78/T+sdGbn6yjf5ZS2HtJgIP+mcC5kySI1uSXPjqAlprTp06RWdnJ8ViEaUUVVVVnD9/nqtXr5LJZHj48CFbt279fQEEYUisZi2fXel9bWU750gmkwRBgNYaz/Ow1lJfX088Hmd2dpZcLvdaBl4pgQChH4B1iHU4a8E6Qj9ARGhpaUFrzeDgIJFIBGMM1lqMMWQyGSYmJohEIqxfv/7314CIoADtGTAaZTTaLI2VUhw+fBjnHBcvXuTy5cs45/A8j3Q6zcmTJ/F9n71799LW1rbgSOs3D+B1lBljcM7R3d3N0aNHKRQKnDhxgs7OTnbt2sX27dsZGRkhHo/T19e3+Kt/fQ1YawFwzolSCs/zUEqVtX1VcJcuXSKRSNDf3086nS6v79mzh76+Pjo6OigWi1RXV2OMWZC29PL8/PxSAL7vE41Gf4rFYkpEePToEb7vU1VVxW+ht7eXs2fPcv/+fQqFAps2baKlpaW8Xl1dTS6XY3x8HBFxtbW1BiiW4hAlInp8fNxt2LChPZvN/ru9vT2Sz+e93bt3qx07diwrzJWYcM5RU1NDNBots5bP53HOlS+kO3fuMDIy4hKJhKTT6ena2tqtxWJxoqamRr98HX9x7do1qaurExYaiXCVzK5bt04GBwdFRP728nVcWZAO+Hsmk/nsxo0bTTMzM5FXHZ83hYhQX1/vHzx48H9tbW1ngSsVvpYCmJ2dJRaLKRbapjpgOxB7K+9LmAbuAnOAnpiYcI2NjUsRLlo2myUMQ1M5t5rmnDO3bt1aNlfmd4W2XL/0/H8pUDF2rNCW/wLRuCkxx8V6wgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wOC0wM1QwNDozMjoyMi0wNDowMO7mdkwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDgtMDNUMDQ6MzI6MjItMDQ6MDCfu87wAAAAAElFTkSuQmCC"+'" style="height:32px !important;width:initial !important;box-shadow: none !important;vertical-align: middle !important;"/> &nbsp; nanogallery2</a></div>').appendTo(Kb.$E.base),Kb.$E.ngy2i.find("a").on({mouseenter:function(){jQuery(this).attr("style",h)},mouseleave:function(){jQuery(this).attr("style",h)}})}switch(Kb.$E.conConsole=jQuery('<div class="nGY2ConsoleParent"></div>').appendTo(Kb.$E.base),Db(),ua(),Kb.tn.opt.Get("displayTransition")){case"SCALEDOWN":case"RANDOMSCALE":default:Kb.$E.base.css("overflow","visible"),Kb.$E.conTnParent.css("overflow","visible"),Kb.$E.conTn.css("overflow","visible")}}function wb(a){var b=a+".nanogallery2",c=null;try{c=new Event(b)}catch(d){c=document.createEvent("Event"),c.initEvent(b,!1,!1)}Kb.$E.base.trigger(b,c)}function xb(){Kb.$E.conTnParent.on({mouseenter:Ja,mouseleave:Ka},".nGY2GThumbnail"),Kb.GOM.hammertime=new NGHammer(Kb.$E.conTn[0]),Kb.GOM.hammertime.on("pan",function(a){Kb.VOM.viewerDisplayed||Kb.O.paginationSwipe&&Kb.layout.support.rows&&"PAGINATION"==Kb.galleryDisplayMode.Get()&&(Math.abs(a.deltaY)>Kb.GOM.panThreshold&&(Kb.GOM.panYOnly=!0),Kb.GOM.panYOnly||Kb.$E.conTn.css(Kb.CSStransformName,"translate("+a.deltaX+"px,0px)"))}),Kb.GOM.hammertime.on("panend",function(a){if(!Kb.VOM.viewerDisplayed&&Kb.O.paginationSwipe&&Kb.layout.support.rows&&"PAGINATION"==Kb.galleryDisplayMode.Get()){if(!Kb.GOM.panYOnly){if(a.deltaX>50)return void v();if(a.deltaX<-50)return void u()}Kb.GOM.panYOnly=!1,Kb.$E.conTn.css(Kb.CSStransformName,"translate(0px,0px)")}}),Kb.GOM.hammertime.on("tap",function(a){if(!Kb.VOM.viewerDisplayed)if(a.srcEvent.stopPropagation(),a.srcEvent.preventDefault(),"mouse"==a.pointerType){if("exit"==Aa(a.srcEvent))return}else{var b=La(a.srcEvent,!1);if(-1==b.GOMidx)return;if("NONE"!=b.action&&"OPEN"!=b.action)return void Aa(a.srcEvent);if(Kb.GOM.slider.hostIdx==b.GOMidx)return fa(),void Ma(Kb.GOM.items[Kb.GOM.slider.currentIdx].thumbnailIdx,!0);if("l1"==Kb.GOM.curNavLevel&&0==Kb.O.touchAnimationL1||"lN"==Kb.GOM.curNavLevel&&0==Kb.O.touchAnimation)return void Ma(Kb.GOM.items[b.GOMidx].thumbnailIdx,!0);Kb.O.touchAutoOpenDelay>0?(fa(),ea(b.GOMidx),window.clearInterval(Kb.touchAutoOpenDelayTimerID),Kb.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(Kb.touchAutoOpenDelayTimerID),Ma(Kb.GOM.items[b.GOMidx].thumbnailIdx,!0)},Kb.O.touchAutoOpenDelay)):Kb.I[Kb.GOM.items[b.GOMidx].thumbnailIdx].hovered?Ma(Kb.GOM.items[b.GOMidx].thumbnailIdx,!0):(fa(),ea(b.GOMidx))}}),Kb.O.locationHash&&jQuery(window).on("hashchange.nanogallery2."+Kb.baseEltID,function(){yb()}),jQuery(window).on("resize.nanogallery2."+Kb.baseEltID+" orientationChange.nanogallery2."+Kb.baseEltID,Jb(Ab,Kb.O.eventsDebounceDelay,!1)),jQuery(window).on("scroll.nanogallery2."+Kb.baseEltID,Jb(Bb,Kb.O.eventsDebounceDelay,!1)),Kb.VOM.toolsHide=Jb(ab,Kb.O.viewerHideToolsDelay,!1),jQuery(document).keyup(function(a){if(Kb.popup.isDisplayed)switch(a.keyCode){case 27:Kb.popup.close()}else if(Kb.VOM.viewerDisplayed)switch(bb(),a.keyCode){case 27:case 40:tb(Kb.VOM.currItemIdx);break;case 32:case 13:ib();break;case 38:case 39:case 33:nb();break;case 37:case 34:ob()}}),jQuery(window).bind("mousewheel wheel",function(a){if(Kb.VOM.viewerDisplayed){var b=0;a.preventDefault(),Qa()&&(a.originalEvent.deltaY?b=a.originalEvent.deltaY:a.originalEvent.wheelDelta&&(b=-a.originalEvent.wheelDelta),Ra(b<=0))}}),jQuery(window).bind("mousemove",function(a){Kb.VOM.viewerDisplayed&&Jb(bb,100,!1)()}),ngscreenfull.enabled&&ngscreenfull.onchange(function(){Kb.VOM.viewerDisplayed&&(ngscreenfull.isFullscreen?(Kb.VOM.viewerIsFullscreen=!0,Kb.VOM.$viewer.find(".fullscreenButton").html(Kb.O.icons.viewerFullscreenOff)):(Kb.VOM.viewerIsFullscreen=!1,Kb.VOM.$viewer.find(".fullscreenButton").html(Kb.O.icons.viewerFullscreenOn)))})}function yb(){if(!Kb.O.locationHash)return!1;var a="#nanogallery/"+Kb.baseEltID+"/",b=location.hash;if(Kb.O.debugMode&&(console.log("------------------------ PROCESS LOCATION HASH"),console.log("newLocationHash1: "+b),console.log("G.locationHashLastUsed: "+Kb.locationHashLastUsed)),""==b&&""!==Kb.locationHashLastUsed)return Kb.O.debugMode&&console.log("display root album"),Kb.locationHashLastUsed="",Kb.O.debugMode&&console.log("new3 G.locationHashLastUsed: "+Kb.locationHashLastUsed),m("","0"),!0;if(b!=Kb.locationHashLastUsed){if(0==b.indexOf(a)){var c=l(b.substring(a.length));return"0"!=c.imageID?(Kb.O.debugMode&&console.log("display image: "+c.albumID+"-"+c.imageID),ha(c.imageID,c.albumID),!0):(Kb.O.debugMode&&console.log("display album: "+c.albumID),m("-1",c.albumID),!0)}return!1}}function zb(a,b){if(!Kb.O.locationHash)return!1;if(Kb.O.debugMode&&console.log("------------------------ SET LOCATION HASH"),""==b&&("-1"==a||"0"==a||Kb.O.album==a))return""!=location.hash&&("pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):location.hash=""),Kb.locationHashLastUsed="",void(Kb.O.debugMode&&console.log("new2 G.locationHashLastUsed: "+Kb.locationHashLastUsed));var c="#nanogallery/"+Kb.baseEltID+"/"+a;""!=b&&(c+="/"+b);var d=location.hash;if(Kb.O.debugMode&&(console.log("newLocationHash2: "+c),console.log("location.hash: "+d)),Kb.locationHashLastUsed=c,Kb.O.debugMode&&console.log("new G.locationHashLastUsed: "+Kb.locationHashLastUsed),""==d||d!=c)try{top.location.hash=c}catch(e){Kb.O.locationHash=!1}}function Ab(){if(J(),Kb.VOM.viewerDisplayed)ub();else if(Kb.galleryResizeEventEnabled){var a=Fb();-1==Kb.GOM.albumIdx||Kb.tn.settings.height[Kb.GOM.curNavLevel][Kb.GOM.curWidth]==Kb.tn.settings.height[Kb.GOM.curNavLevel][a]&&Kb.tn.settings.width[Kb.GOM.curNavLevel][Kb.GOM.curWidth]==Kb.tn.settings.width[Kb.GOM.curNavLevel][a]?B():(Kb.GOM.curWidth=a,Kb.GOM.pagination.currentPage=0,x(Kb.GOM.albumIdx))}}function Bb(){Kb.VOM.viewerDisplayed||Cb()}function Cb(){0==Kb.galleryResizeEventEnabled?window.setTimeout(Cb,10):B()}function Db(){Kb.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===Kb.i18nLang&&(Kb.i18nLang="");var a=-("_"+Kb.i18nLang).length;if("object"==i(Kb.O.i18n))for(var b in Kb.O.i18n){var c=b.substr(a);c=="_"+Kb.i18nLang?Kb.i18nTranslations[b.substr(0,b.length-c.length)]=Kb.O.i18n[b]:Kb.i18nTranslations[b]=Kb.O.i18n[b]}}function Eb(a,b){return""!=Kb.i18nLang&&void 0!==a[b+"_"+Kb.i18nLang]&&a[b+"_"+Kb.i18nLang].length>0?a[b+"_"+Kb.i18nLang]:a[b]}function Fb(){var a=Kb.GOM.cache.viewport.w;return Kb.O.breakpointSizeSM>0&&a<Kb.O.breakpointSizeSM?"xs":Kb.O.breakpointSizeME>0&&a<Kb.O.breakpointSizeME?"sm":Kb.O.breakpointSizeLA>0&&a<Kb.O.breakpointSizeLA?"me":Kb.O.breakpointSizeXL>0&&a<Kb.O.breakpointSizeXL?"la":"xl"}function Gb(a){for(var b=document.createElement("div"),c=0;c<a.length;++c)if(void 0!==b.style[a[c]])return a[c];return null}this.ReloadAlbum=function(){if(""===Kb.O.kind)throw"Not supported for this content source:"+Kb.O.kind;var a=Kb.GOM.albumIdx;if(-1==a)throw"Current album not found.";for(var b=Kb.I[a].GetID(),c=Kb.I.length,d=0;d<c;d++){var e=Kb.I[d];e.albumID==b&&(e.selected=!1)}Kb.I[a].contentIsLoaded=!1,m("-1",b)},this.ItemsSetSelectedValue=function(a,b){for(var c=a.length,d=0;d<c;d++)Fa(a[d],b)},this.ItemsSelectedGet=function(){for(var a=[],b=Kb.I.length,c=0;c<b;c++)1==Kb.I[c].selected&&a.push(Kb.I[c]);return a},this.Get=function(a){return Kb.O[a]},this.Set=function(a,b){switch(Kb.O[a]=b,a){case"thumbnailSelectable":Da(),x(Kb.GOM.albumIdx)}},this.Refresh=function(){x(Kb.GOM.albumIdx)},this.Resize=function(){B()},this.DisplayItem=function(a){var b=l(a);"0"!=b.imageID?ha(b.imageID,b.albumID):m("-1",b.albumID)};var Hb=function(a){if(void 0==Kb.I[a])return 0;for(var b=Kb.I[a].GetID(),c=Kb.I.length,d=0,e=0;e<c;e++){Kb.I[e].isToDisplay(b)&&d++}return d};this.Search=function(a){Kb.GOM.albumSearch=a.toUpperCase();var b=Kb.GOM.albumIdx;return x(Kb.GOM.albumIdx),Hb(b)},this.Search2=function(a,b){return Kb.GOM.albumSearch=null!=a&&void 0!=a?a.toUpperCase():"",Kb.GOM.albumSearchTags=null!=b&&void 0!=b?b.toUpperCase():"",Hb(Kb.GOM.albumIdx)},this.Search2Execute=function(){var a=Kb.GOM.albumIdx;return x(Kb.GOM.albumIdx),Hb(a)},this.Destroy=function(){null!=Kb.GOM.hammertime&&(Kb.GOM.hammertime.destroy(),Kb.GOM.hammertime=null),null!=Kb.VOM.hammertime&&(Kb.VOM.hammertime.destroy(),Kb.VOM.hammertime=null),a("#ngycs_"+Kb.baseEltID).remove(),Kb.GOM.items=[],NGY2Item.New(Kb,Kb.i18nTranslations.breadcrumbHome,"","0","-1","album"),Kb.GOM.navigationBar.$newContent=null,Kb.$E.base.empty(),Kb.$E.base.removeData(),Kb.O.locationHash&&jQuery(window).off("hashchange.nanogallery2."+Kb.baseEltID),jQuery(window).off("resize.nanogallery2."+Kb.baseEltID),jQuery(window).off("orientationChange.nanogallery2."+Kb.baseEltID),jQuery(window).off("scroll.nanogallery2."+Kb.baseEltID),Kb.GOM.firstDisplay=!1},this.CloseViewer=function(){return tb(null),!1},this.MinimizeToolbar=function(){return kb(),!1},this.MaximizeToolbar=function(){return jb(),!1},this.PaginationPreviousPage=function(){return v(),!1},this.PaginationNextPage=function(){return u(),!1},this.PaginationGotoPage=function(b){Kb.$E.conPagin.data("galleryIdx");return b>1&&b--,Kb.GOM.pagination.currentPage=b,f(Kb.$E.base,0)||a("html, body").animate({scrollTop:Kb.$E.base.offset().top},200),I(!0),K(!0),!1},this.PaginationCountPages=function(){return 0==Kb.GOM.items.length?0:Math.ceil((Kb.GOM.items[Kb.GOM.items.length-1].row+1)/Kb.galleryMaxRows.Get())};var Ib=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=!1===c.leading?0:(new Date).getTime(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=(new Date).getTime();h||!1!==c.leading||(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(i,k)),f}},Jb=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};window.ng_draf=function(a){return requestAnimationFrame(function(){window.requestAnimationFrame(a)})},window.requestTimeout=function(a,b){return window.setTimeout(a,b)},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1e3/60)}}(),window.clearRequestTimeout=function(a){window.cancelAnimationFrame?window.cancelAnimationFrame(a.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(a.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(a.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(a.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(a.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(a.value):clearTimeout(a)};var Kb=this;Kb.I=[],Kb.Id=[],Kb.O=null,Kb.baseEltID=null,Kb.$E={base:null,conTnParent:null,
conLoadingB:null,conConsole:null,conNavigationBar:null,conTnBottom:null},Kb.shoppingCart=[],Kb.layout={internal:!0,engine:"",support:{rows:!1},prerequisite:{imageSize:!1},SetEngine:function(){if(Kb.layout.internal){if("auto"==Kb.tn.settings.width[Kb.GOM.curNavLevel][Kb.GOM.curWidth]||""==Kb.tn.settings.width[Kb.GOM.curNavLevel][Kb.GOM.curWidth])return Kb.layout.engine="JUSTIFIED",Kb.layout.support.rows=!0,void(Kb.layout.prerequisite.imageSize=!0);if("auto"==Kb.tn.settings.height[Kb.GOM.curNavLevel][Kb.GOM.curWidth]||""==Kb.tn.settings.height[Kb.GOM.curNavLevel][Kb.GOM.curWidth])return Kb.layout.engine="CASCADING",Kb.layout.support.rows=!1,void(Kb.layout.prerequisite.imageSize=!0);if(null!=Kb.tn.settings.getMosaic())return Kb.layout.engine="MOSAIC",Kb.layout.support.rows=!0,void(Kb.layout.prerequisite.imageSize=!1);Kb.layout.engine="GRID",Kb.layout.support.rows=!0,Kb.layout.prerequisite.imageSize=!1}}},Kb.galleryResizeEventEnabled=!1,Kb.galleryMaxRows={l1:0,lN:0,Get:function(){return Kb.galleryMaxRows[Kb.GOM.curNavLevel]}},Kb.galleryMaxItems={l1:0,lN:0,Get:function(){return Kb.galleryMaxItems[Kb.GOM.curNavLevel]}},Kb.galleryFilterTags={l1:0,lN:0,Get:function(){return Kb.galleryFilterTags[Kb.GOM.curNavLevel]}},Kb.galleryDisplayMode={l1:"FULLCONTENT",lN:"FULLCONTENT",Get:function(){return Kb.galleryDisplayMode[Kb.GOM.curNavLevel]}},Kb.galleryLastRowFull={l1:!1,lN:!1,Get:function(){return Kb.galleryLastRowFull[Kb.GOM.curNavLevel]}},Kb.gallerySorting={l1:"",lN:"",Get:function(){return Kb.gallerySorting[Kb.GOM.curNavLevel]}},Kb.galleryDisplayTransition={l1:"none",lN:"none",Get:function(){return Kb.galleryDisplayTransition[Kb.GOM.curNavLevel]}},Kb.galleryDisplayTransitionDuration={l1:500,lN:500,Get:function(){return Kb.galleryDisplayTransitionDuration[Kb.GOM.curNavLevel]}},Kb.$currentTouchedThumbnail=null,Kb.tn={opt:{l1:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,baseGridHeight:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},lN:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,baseGridHeight:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},Get:function(a){return Kb.tn.opt[Kb.GOM.curNavLevel][a]}},scale:1,borderWidth:0,borderHeight:0,labelHeight:{l1:0,lN:0,get:function(){return Kb.tn.labelHeight[Kb.GOM.curNavLevel]}},defaultSize:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},getWidth:function(){return Kb.tn.defaultSize.width[Kb.GOM.curNavLevel][Kb.GOM.curWidth]},getOuterWidth:function(){return Kb.tn.defaultSize.width[Kb.GOM.curNavLevel][Kb.GOM.curWidth]+2*Kb.tn.borderWidth},getHeight:function(){return Kb.tn.defaultSize.height[Kb.GOM.curNavLevel][Kb.GOM.curWidth]},getOuterHeight:function(){return Kb.tn.defaultSize.height[Kb.GOM.curNavLevel][Kb.GOM.curWidth]+2*Kb.tn.borderHeight}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(a,b){var c=void 0==a?Kb.GOM.curNavLevel:a,d=void 0==b?Kb.GOM.curWidth:b;return"MOSAIC"==Kb.layout.engine?Kb.tn.settings.height[c][d]*Kb.tn.settings.mosaic[c+"Factor"].h[d]:Kb.tn.settings.height[c][d]},getW:function(a,b){var c=void 0==a?Kb.GOM.curNavLevel:a,d=void 0==b?Kb.GOM.curWidth:b;return"MOSAIC"==Kb.layout.engine?Kb.tn.settings.width[c][d]*Kb.tn.settings.mosaic[c+"Factor"].w[d]:Kb.tn.settings.width[c][d]},mosaic:{l1:{xs:null,sm:null,me:null,la:null,xl:null},lN:{xs:null,sm:null,me:null,la:null,xl:null},l1Factor:{h:{xs:1,sm:1,me:1,la:1,xl:1},w:{xs:1,sm:1,me:1,la:1,xl:1}},lNFactor:{h:{xs:1,sm:1,me:1,la:1,xl:1},w:{xs:1,sm:1,me:1,la:1,xl:1}}},getMosaic:function(){return Kb.tn.settings.mosaic[Kb.GOM.curNavLevel][Kb.GOM.curWidth]},mosaicCalcFactor:function(a,b){for(var c=1,d=1,e=0;e<Kb.tn.settings.mosaic[a][b].length;e++)c=Math.max(c,Kb.tn.settings.mosaic[a][b][e].w),d=Math.max(d,Kb.tn.settings.mosaic[a][b][e].h);Kb.tn.settings.mosaic[a+"Factor"].h[b]=d,Kb.tn.settings.mosaic[a+"Factor"].w[b]=c}},hoverEffects:{std:[],level1:[],get:function(){return"l1"==Kb.GOM.curNavLevel&&0!==Kb.tn.hoverEffects.level1.length?Kb.tn.hoverEffects.level1:Kb.tn.hoverEffects.std}},buildInit:{std:[],level1:[],get:function(){return"l1"==Kb.GOM.curNavLevel&&0!==Kb.tn.buildInit.level1.length?Kb.tn.buildInit.level1:Kb.tn.buildInit.std}},toolbar:{album:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},image:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},albumUp:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},get:function(a){return Kb.tn.toolbar[a.kind]}},style:{l1:{label:"",title:"",desc:""},lN:{label:"",title:"",desc:""},getTitle:function(){return'style="'+Kb.tn.style[Kb.GOM.curNavLevel].title+'"'},getDesc:function(){return'style="'+Kb.tn.style[Kb.GOM.curNavLevel].desc+'"'},getLabel:function(){var a='style="'+Kb.tn.style[Kb.GOM.curNavLevel].label;return a+=Kb.O.RTL?'"direction:RTL;"':"",a+='"'}}},Kb.scrollTimeOut=0,Kb.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},Kb.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",Kb.CSStransformName=Gb(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),Kb.CSStransformStyle=Gb(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),Kb.CSSperspective=Gb(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),Kb.CSSbackfaceVisibilityName=Gb(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),Kb.CSStransitionName=Gb(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),Kb.CSSanimationName=Gb(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),Kb.GalleryResizeThrottled=Ib(B,30,{leading:!1}),Kb.blackList=null,Kb.whiteList=null,Kb.albumList=[],Kb.locationHashLastUsed="",Kb.custGlobals={},Kb.touchAutoOpenDelayTimerID=0,Kb.i18nLang="",Kb.timeLastTouchStart=0,Kb.custGlobals={},Kb.markupOrApiProcessed=!1,Kb.GOM={albumIdx:-1,clipArea:{top:0,height:0},displayArea:{width:0,height:0},displayAreaLast:{width:0,height:0},displayedMoreSteps:0,items:[],$imgPreloader:[],thumbnails2Display:[],itemsDisplayed:0,firstDisplay:!0,firstDisplayTime:0,navigationBar:{displayed:!1,$newContent:""},cache:{viewport:null,containerOffset:null,areaWidth:100},nbSelected:0,pagination:{currentPage:0},panThreshold:60,panYOnly:!1,lastFullRow:-1,lastDisplayedIdx:-1,displayInterval:{from:0,len:0},userEvents:null,hammertime:null,curNavLevel:"l1",curWidth:"me",albumSearch:"",albumSearchTags:"",lastZIndex:0,lastRandomValue:0,slider:{hostIdx:-1,hostItem:null,currentIdx:0,nextIdx:0,timerID:0,tween:null},NGY2Item:function(a){if(void 0==Kb.GOM.items[a]||null==Kb.GOM.items[a])return null;var b=Kb.GOM.items[a].thumbnailIdx;return Kb.I[b]},GTn:function(a,b,c){this.thumbnailIdx=a,this.width=0,this.height=0,this.top=0,this.left=0,this.row=0,this.imageWidth=b,this.imageHeight=c,this.resizedContentWidth=0,this.resizedContentHeight=0,this.displayed=!1,this.neverDisplayed=!0,this.inDisplayArea=!1}},Kb.VOM={viewerDisplayed:!1,viewerIsFullscreen:!1,infoDisplayed:!1,toolbarsDisplayed:!0,toolsHide:null,saveOverflowX:"visible",saveOverflowY:"visible",zoom:{posX:0,posY:0,userFactor:1,isZooming:!1},padding:{H:0,V:0},window:{lastWidth:0,lastHeight:0},$cont:null,$viewer:null,$toolbar:null,$toolbarTL:null,$toolbarTR:null,$content:null,$mediaPrevious:null,$mediaCurrent:null,$mediaNext:null,toolbarMode:"std",playSlideshow:!1,playSlideshowTimerID:0,slideshowDelay:3e3,albumID:-1,currItemIdx:-1,viewerMediaIsChanged:!1,items:[],NGY2Item:function(a){switch(a){case-1:var b=this.IdxPrevious();return Kb.I[this.items[b].ngy2ItemIdx];case 1:var b=this.IdxNext();return Kb.I[this.items[b].ngy2ItemIdx];case 0:default:return Kb.I[this.items[Kb.VOM.currItemIdx].ngy2ItemIdx]}},IdxNext:function(){var a=0;return Kb.VOM.currItemIdx!=Kb.VOM.items.length-1&&(a=Kb.VOM.currItemIdx+1),a},IdxPrevious:function(){var a=Kb.VOM.currItemIdx-1;return 0==Kb.VOM.currItemIdx&&(a=Kb.VOM.items.length-1),a},userEvents:null,hammertime:null,swipePosX:0,panPosX:0,panPosY:0,panThreshold:60,panXOnly:!1,viewerTheme:"",timeImgChanged:0,ImageLoader:{maxChecks:1e3,list:[],intervalHandle:null,loadImage:function(a,b){if("img"==b.mediaKind){var c=new Image;if(c.src=b.responsiveURL(),c.width&&c.height)a(c.width,c.height,b,0);else{var d,e={image:c,url:b.responsiveURL(),ngitem:b,callback:a,checks:1};for(d=0;d<this.list.length&&null!=this.list[d];d++);this.list[d]=e,this.intervalHandle||(this.intervalHandle=setInterval(this.interval,50))}}},interval:function(){for(var a,b=0,c=Kb.VOM.ImageLoader.list,d=0;d<c.length;d++)null!=(a=c[d])&&(a.image.width&&a.image.height?(Kb.VOM.ImageLoader.list[d]=null,a.callback(a.image.width,a.image.height,a.ngitem,a.checks)):a.checks>Kb.VOM.ImageLoader.maxChecks?(Kb.VOM.ImageLoader.list[d]=null,a.callback(0,0,a.ngitem,a.checks)):(b++,a.checks++));0==b&&(Kb.VOM.ImageLoader.list=[],clearInterval(Kb.VOM.ImageLoader.intervalHandle),delete Kb.VOM.ImageLoader.intervalHandle)}}},Kb.popup={isDisplayed:!1,$elt:null,close:function(){if(null!=this.$elt){(new NGTweenable).tween({from:{opacity:1},to:{opacity:0},attachment:{t:this},easing:"easeInOutSine",duration:100,step:function(a,b){null!=b.t.$elt&&b.t.$elt.css("opacity",a.opacity)},finish:function(a,b){null!=b.t.$elt&&(b.t.$elt.remove(),b.t.$elt=null),b.t.isDisplayed=!1}})}}},Kb.galleryTheme_dark={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#111",color:"#fff",colorHover:"#ccc",borderRadius:"4px"},navigationFilter:{color:"#ddd",background:"#111",colorSelected:"#fff",backgroundSelected:"#111",borderRadius:"4px"},thumbnail:{background:"#444",backgroundImage:"linear-gradient(315deg, #111 0%, #445 90%)",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#aaa"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#181818",backgroundSelected:"#666",color:"#fff",borderRadius:"2px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}},Kb.galleryTheme_light={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#eee",color:"#000",colorHover:"#333",borderRadius:"4px"},navigationFilter:{background:"#eee",color:"#222",colorSelected:"#000",backgroundSelected:"#eee",borderRadius:"4px"},thumbnail:{background:"#444",backgroundImage:"linear-gradient(315deg, #111 0%, #445 90%)",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#888"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#eee",backgroundSelected:"#aaa",color:"#000",borderRadius:"2px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}},Kb.viewerTheme_dark={background:"#000",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.2)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Kb.viewerTheme_border={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.2)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Kb.viewerTheme_light={background:"#f8f8f8",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var Lb=NGY2Tools.NanoAlert,Mb=NGY2Tools.NanoConsoleLog;this.initiateGallery2=function(a,b){Kb.O=b,Kb.$E.base=jQuery(a),Kb.baseEltID=Kb.$E.base.attr("id"),void 0==Kb.baseEltID&&(Kb.baseEltID="my_nanogallery",Kb.$E.base.attr("id",Kb.baseEltID)),Kb.O.$markup=[],na(),za(),vb(),Kb.GOM.firstDisplayTime=Date.now(),xb();var c=Kb.O.album;if(""==c&&""!=Kb.O.photoset&&(c=Kb.O.photoset,Kb.O.album=Kb.O.photoset),""==c||(Kb.O.displayBreadcrumb=!1,"NONE"==c.toUpperCase()))NGY2Item.New(Kb,Kb.i18nTranslations.breadcrumbHome,"","0","-1","album"),j();else{var d=c.indexOf("&authkey=");if(-1==d&&(d=c.indexOf("?authkey=")),d>0){Kb.O.locationHash=!1;var e=c.substring(0,d),f=c.substring(d);-1==f.indexOf("Gv1sRg")&&(f="&authkey=Gv1sRg"+f.substring(9));NGY2Item.New(Kb,"","",e,"-1","album").authkey=f,m("-1",e)}else"nano_photos_provider2"==Kb.O.kind&&c==decodeURIComponent(c)&&(c=encodeURIComponent(c),Kb.O.album=c),NGY2Item.New(Kb,"","",c,"-1","album"),yb()||m("-1",c)}};var Nb={youtube:{getID:function(a){var b=a.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=b?b[1]:null},thumbUrl:function(a){return"https://img.youtube.com/vi/"+a+"/hqdefault.jpg"},url:function(a){return"https://www.youtube.com/embed/"+a},markup:function(a){return'<iframe class="nGY2ViewerMedia" src="https://www.youtube.com/embed/'+a+'?rel=0" frameborder="0" allow="autoplay" allowfullscreen></iframe>'},kind:"iframe"},vimeo:{getID:function(a){var b=a.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/);return null!=b?b[5]:null},url:function(a){return"https://player.vimeo.com/video/"+a},markup:function(a){return'<iframe class="nGY2ViewerMedia" src="https://player.vimeo.com/video/'+a+'?rel=0" frameborder="0" allow="autoplay" allowfullscreen></iframe>'},kind:"iframe"},dailymotion:{getID:function(a){var b=a.match(/^.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/);return null!==b?void 0!==b[4]?b[4]:b[2]:null},thumbUrl:function(a){return"https://www.dailymotion.com/thumbnail/video/"+a},url:function(a){return"https://www.dailymotion.com/embed/video/"+a},markup:function(a){return'<iframe class="nGY2ViewerMedia" src="https://www.dailymotion.com/embed/video/'+a+'?rel=0" frameborder="0" allow="autoplay" allowfullscreen></iframe>'},kind:"iframe"},selfhosted:{getID:function(a){var b=a.split(".").pop();return"mp4"===b||"webm"===b||"ogv"===b||"3gp"===b?b:null},markup:function(a){return'<video controls class="nGY2ViewerMedia"><source src="'+a+'" type="video/'+a.split(".").pop()+'" preload="auto">Your browser does not support the video tag (HTML 5).</video>'},kind:"video",selfhosted:!0}}}var i=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};a.nanogallery2=function(a,b){var d=this;d.$e=jQuery(a),d.e=a,d.$e.data("nanogallery2data",d),d.init=function(){void 0===window.NGY2Item&&(window.NGY2Tools=function(){function a(){}return a.FilterAlbumName=function(a,b){var c=a.toUpperCase();if(!(this.albumList.length>0)){var d=!1;if(null!==this.whiteList){for(var e=0;e<this.whiteList.length;e++)-1!==c.indexOf(this.whiteList[e])&&(d=!0);if(!d)return!1}if(null!==this.blackList)for(var e=0;e<this.blackList.length;e++)if(-1!==c.indexOf(this.blackList[e]))return!1;return!0}for(var e=0;e<this.albumList.length;e++)if(c===this.albumList[e].toUpperCase()||b===this.albumList[e])return!0},a.NanoAlert=function(b,c,d){a.NanoConsoleLog.call(b,c),null!=b.$E.conConsole&&(b.$E.conConsole.css({visibility:"visible",minHeight:"100px"}),0==d?b.$E.conConsole.append("<p>"+c+"</p>"):b.$E.conConsole.append("<p>nanogallery2: "+c+" ["+b.baseEltID+"]</p>"))},a.NanoConsoleLog=function(a,b){window.console&&console.log("nanogallery2: "+b+" ["+a.baseEltID+"]")},a.PreloaderDisplay=function(a){!0===a?this.$E.conLoadingB.removeClass("nanoGalleryLBarOff").addClass("nanoGalleryLBar"):this.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")},a.AreaShuffle=function(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},a.GetImageTitleFromURL=function(a){if("%filename"==this.O.thumbnailLabel.get("title"))return a.split("/").pop().replace("_"," ");if("%filenameNoExt"==this.O.thumbnailLabel.get("title")){return a.split("/").pop().split(".").shift().replace("_"," ")}return""},a.AlbumPostProcess=function(b){var c=this.gallerySorting[this.GOM.curNavLevel],d=this.galleryMaxItems[this.GOM.curNavLevel];if(""!=c||d>0){var e=this.I.filter(function(a){return a.albumID==b&&"albumUp"!=a.kind});switch(c){case"RANDOM":e=a.AreaShuffle(e);break;case"REVERSED":e=e.reverse();break;case"TITLEASC":e.sort(function(a,b){return a.title.toUpperCase()<b.title.toUpperCase()?-1:a.title.toUpperCase()>b.title.toUpperCase()?1:0});break;case"TITLEDESC":e.sort(function(a,b){return a.title.toUpperCase()>b.title.toUpperCase()?-1:a.title.toUpperCase()<b.title.toUpperCase()?1:0})}d>0&&e.length>d&&e.splice(d-1,e.length-d),this.I.removeIf(function(a){return a.albumID==b&&"albumUp"!=a.kind}),this.I.push.apply(this.I,e)}},a}(),window.NGY2Item=function(){function a(a){var b=0;b=void 0===a||null===a?e++:a,this.GetID=function(){return b},this.kind="",this.mediaKind="img",this.mediaMarkup="",this.G=null,this.title="",this.description="",this.albumID=0,this.src="",this.width=0,this.height=0,this.destinationURL="",this.downloadURL="",this.author="",this.left=0,this.top=0,this.width=0,this.height=0,this.resizedContentWidth=0,this.resizedContentHeight=0,this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.thumbnailImgRevealed=!1,this.imageDominantColors=null,this.imageDominantColor=null,this.featured=!1,this.flickrThumbSizes={},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.numberItems=0,this.mediaNumber=0,this.imageCounter=0,this.eltTransform=[],this.eltFilter=[],this.eltEffect=[],this.authkey="",this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.imageWidth=0,this.imageHeight=0,this.$elt=null,this.$Elts=[],this.tags=[],this.albumTagList=[],this.albumTagListSel=[],this.exif={exposure:"",flash:"",focallength:"",fstop:"",iso:"",model:"",time:"",location:""},this.deleted=!1,this.rotationAngle=0}function b(a,b){return 1==a.O.allowHTMLinData?b:String(b).replace(/[&<>"'`=\/]/g,function(a){return f[a]})}function d(a,b){if("0"===(a=String(a))||1==b)return a;var c=Number(a.replace(/[a-zA-Z]/g,"")),d=a.match(/([^\-0-9\.]+)/g),e="";return null!=d&&d.length>0&&(e=d.join()),isNaN(c)||0==c?a:(c*=b)+e}var e=1;a.Get=function(a,b){for(var c=a.I.length,d=0;d<c;d++)if(a.I[d].GetID()==b)return a.I[d];return null},a.GetIdx=function(a,b){for(var c=a.I.length,d=0;d<c;d++)if(a.I[d].GetID()==b)return d;return-1},a.New=function(c,d,e,f,g,h,i){var j=a.Get(c,g);if(-1!=g&&0!=g&&"image gallery by nanogallery2 [build]"!=d&&c.O.thumbnailLevelUp&&0==j.getContentLength(!1)&&""==c.O.album){var k=new a("0");c.I.push(k),j.contentLength+=1,k.title="UP",k.albumID=g,k.kind="albumUp",k.G=c,jQuery.extend(!0,k.thumbs.width,c.tn.defaultSize.width),jQuery.extend(!0,k.thumbs.height,c.tn.defaultSize.height)}var k=a.Get(c,f);null===k&&(k=new a(f),c.I.push(k),-1!=g&&"image gallery by nanogallery2 [build]"!=d&&(j.contentLength+=1)),k.G=c,k.albumID=g,k.kind=h,"image"==h&&(j.imageCounter+=1,k.mediaNumber=j.imageCounter);var l=c.O.thumbnailFeaturedKeyword;if(""!=l){l=l.toUpperCase();var m=d.toUpperCase().indexOf(l);m>-1&&(k.featured=!0,d=d.substring(0,m)+d.substring(m+l.length,d.length)),m=e.toUpperCase().indexOf(l),m>-1&&(k.featured=!0,e=e.substring(0,m)+e.substring(m+l.length,e.length))}if("string"==typeof c.galleryFilterTags.Get())switch(c.galleryFilterTags.Get().toUpperCase()){case"TITLE":for(var n,o=/(?:^|\W)#(\w+)(?!\w)/g,p=[],i="";n=o.exec(d);)p.push(n[1].replace(/^\s*|\s*$/,""));k.setTags(p),d=d.split("#").join("");break;case"DESCRIPTION":for(var n,o=/(?:^|\W)#(\w+)(?!\w)/g,p=[],i="";n=o.exec(e);)p.push(n[1].replace(/^\s*|\s*$/,""));k.setTags(p),e=e.split("#").join("")}else""!=i&&void 0!=i&&k.setTags(i.split(" "));return k.title=b(c,d),k.description=b(c,e),k},a.prototype.delete=function(){this.deleted=!0,this.G.I[a.GetIdx(this.G,this.albumID)].contentLength--,this.G.I[a.GetIdx(this.G,this.albumID)].numberItems--;for(var b=this.G.GOM.items.length,c=this.GetID(),d=-1,e=-1,f=0;f<b;f++){var g=this.G.GOM.items[f],h=this.G.I[g.thumbnailIdx];h.GetID()==c?g.neverDisplayed||(d=g.thumbnailIdx,e=f):-1!=d&&(g.neverDisplayed||(h.$getElt(".nGY2GThumbnail").data("index",f-1),h.$getElt(".nGY2GThumbnailImg").data("index",f-1)))}if(-1!=d){var i=this.G;1==this.selected&&(this.selected=!1,i.GOM.nbSelected--),null!==i.I[d].$elt&&i.I[d].$elt.remove(),i.GOM.items.splice(e,1),-1!=i.GOM.lastDisplayedIdx&&(i.GOM.lastDisplayedIdx-=1)}},a.prototype.addToGOM=function(){for(var a=this.GetID(),b=this.G.I.length,c=0;c<b;c++){var d=this.G.I[c];if(d.GetID()==a){var e=d.thumbImg().width,f=d.thumbImg().height;0==f&&(f=this.G.tn.defaultSize.getHeight()),0==e&&(e=this.G.tn.defaultSize.getWidth());var g=new this.G.GOM.GTn(c,e,f);this.G.GOM.items.push(g);break}}};var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return a.get_nextId=function(){return e},a.prototype.$getElt=function(a,b){return null==this.$elt?null:void 0!==this.$Elts[a]&&1==!b?this.$Elts[a]:(this.$Elts[a]=".nGY2GThumbnail"==a?this.$elt:this.$elt.find(a),this.$Elts[a])},a.prototype.removeElt=function(a){if(null!=this.$elt&&void 0!=this.$Elts[a]){this.$Elts[a].remove();var b=this.$Elts.indexOf(a);this.$Elts.splice(b,1)}},a.prototype.album=function(){return this.G.I[a.GetIdx(this.G,this.albumID)]},a.prototype.mediaTransition=function(){return this.G.O.viewerTransitionMediaKind.indexOf(this.mediaKind)>-1},a.prototype.imageSet=function(a,b,c){this.src=a,this.width=b,this.height=c},a.prototype.thumbSet=function(a,b,c,d,e){var f=["xs","sm","me","la","xl"];if(void 0===d||""==d||null==d)for(var g=0;g<f.length;g++)void 0===e||""==e?(this.thumbs.url.l1[f[g]]=a,this.thumbs.height.l1[f[g]]=c,this.thumbs.width.l1[f[g]]=b,this.thumbs.url.lN[f[g]]=a,this.thumbs.height.lN[f[g]]=c,this.thumbs.width.lN[f[g]]=b):(this.thumbs.url[e][f[g]]=a,this.thumbs.height[e][f[g]]=c,this.thumbs.width[e][f[g]]=b);else void 0===e||""==e||null==e?(this.thumbs.url.l1[d]=a,this.thumbs.height.l1[d]=c,this.thumbs.width.l1[d]=b,this.thumbs.url.lN[d]=a,this.thumbs.height.lN[d]=c,this.thumbs.width.lN[d]=b):(this.thumbs.url[e][d]=a,this.thumbs.height[e][d]=c,this.thumbs.width[e][d]=b);for(var f=["xs","sm","me","la","xl"],g=0;g<f.length;g++)this.thumbs.height.l1[f[g]]=c;for(var g=0;g<f.length;g++)this.G.tn.settings.height.lN[f[g]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[f[g]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[f[g]]=c)},a.prototype.thumbSetImgHeight=function(a){for(var b=["xs","sm","me","la","xl"],c=0;c<b.length;c++)this.G.tn.settings.height.l1[b[c]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[b[c]]==this.G.tn.settings.getW()&&(this.thumbs.height.l1[b[c]]=a);for(var c=0;c<b.length;c++)this.G.tn.settings.height.lN[b[c]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[b[c]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[b[c]]=a)},a.prototype.thumbSetImgWidth=function(a){for(var b=["xs","sm","me","la","xl"],c=0;c<b.length;c++)this.G.tn.settings.height.l1[b[c]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[b[c]]==this.G.tn.settings.getW()&&(this.thumbs.width.l1[b[c]]=a);for(var c=0;c<b.length;c++)this.G.tn.settings.height.lN[b[c]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[b[c]]==this.G.tn.settings.getW()&&(this.thumbs.width.lN[b[c]]=a)},a.prototype.thumbImg=function(){var a={src:"",width:0,height:0};return"image gallery by nanogallery2 [build]"==this.title?(a.src=this.G.emptyGif,a.url=this.G.emptyGif,a):(a.src=this.thumbs.url[this.G.GOM.curNavLevel][this.G.GOM.curWidth],a.width=this.thumbs.width[this.G.GOM.curNavLevel][this.G.GOM.curWidth],a.height=this.thumbs.height[this.G.GOM.curNavLevel][this.G.GOM.curWidth],a)},a.prototype.setTags=function(a){if(a.length>0){this.tags=a;for(var b=this.album().albumTagList,c=0;c<a.length;c++){for(var d=!1,e=0;e<b.length;e++)a[c].toUpperCase()==b[e].toUpperCase()&&(d=!0);0==d&&(this.album().albumTagList.push(a[c]),this.album().albumTagListSel.push(a[c]))}}},a.prototype.checkTagFilter=function(){if(0!=this.G.galleryFilterTags.Get()&&this.album().albumTagList.length>0){if(this.G.O.thumbnailLevelUp&&"albumUp"==this.kind)return!0;for(var a=!1,b=this.album().albumTagListSel,c=0;c<this.tags.length;c++)for(var d=0;d<b.length;d++)if(this.tags[c].toUpperCase()==b[d].toUpperCase()){a=!0;break}return a}return!0},a.prototype.isSearchTagFound=function(){if(""==this.G.GOM.albumSearchTags)return!0;if(this.G.O.thumbnailLevelUp&&"albumUp"==this.kind)return!0;for(var a=0;a<this.tags.length;a++)if(this.tags[a].toUpperCase().indexOf(this.G.GOM.albumSearchTags)>=0)return!0;return!1},a.prototype.setMediaURL=function(a,b){this.src=a,this.mediaKind=b,"img"==b&&(this.mediaMarkup='<img class="nGY2ViewerMedia" src="'+a+'" alt=" " itemprop="contentURL" draggable="false">')},a.prototype.isToDisplay=function(a){return this.albumID==a&&this.checkTagFilter()&&this.isSearchFound()&&this.isSearchTagFound()&&0==this.deleted},a.prototype.getContentLength=function(a){if(0==a||0==this.albumTagList.length||0==this.G.galleryFilterTags.Get())return this.contentLength;for(var b=this.G.I.length,c=0,d=this.GetID(),e=0;e<b;e++){this.G.I[e].isToDisplay(d)&&c++}return c},a.prototype.isSearchFound=function(){return""==this.G.GOM.albumSearch||-1!=this.title.toUpperCase().indexOf(this.G.GOM.albumSearch)},a.prototype.responsiveURL=function(){var a="";switch(this.G.O.kind){case"":case"flickr":a=this.src;break;case"picasa":case"google":case"google2":default:a=this.src}return a},a.prototype.ThumbnailImageReveal=function(){0==this.thumbnailImgRevealed&&(this.thumbnailImgRevealed=!0,(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},attachment:{item:this},delay:30,duration:400,easing:"easeOutQuart",step:function(a,b){var c=b.item.$getElt(".nGY2TnImg");null!=c&&c.css(a)}}))},a.prototype.CSSTransformApply=function(a){var b=this.eltTransform[a];if(".nGY2GThumbnail"==a)for(var c=b.$elt.length-1,e=1,f=1,g=1,h=1,i=1,j=1,k=1,l=1,m=1,n=c;n>=0;n--){var o="translateX("+d(b.translateX,e)+") translateY("+d(b.translateY,f)+") translateZ("+d(b.translateZ,g)+") scale("+d(b.scale,m)+") translate("+d(b.translate,h)+")";this.G.IE<=9||this.G.isGingerbread?o+=" rotate("+d(b.rotateZ,k)+")":o+=" rotateX("+d(b.rotateX,i)+") rotateY("+d(b.rotateY,j)+") rotateZ("+d(b.rotateZ,k)+") rotate("+d(b.rotate,l)+")",b.$elt[n].style[this.G.CSStransformName]=o,c>0&&(e-=this.G.tn.opt.Get("stacksTranslateX"),f-=this.G.tn.opt.Get("stacksTranslateY"),g-=this.G.tn.opt.Get("stacksTranslateZ"),i-=this.G.tn.opt.Get("stacksRotateX"),j-=this.G.tn.opt.Get("stacksRotateY"),k-=this.G.tn.opt.Get("stacksRotateZ"),m-=this.G.tn.opt.Get("stacksScale"))}else if(null!=b.$elt)for(var n=0;n<b.$elt.length;n++)if(void 0!=b.$elt[n]){var o="translateX("+b.translateX+") translateY("+b.translateY+") translateZ("+b.translateZ+") scale("+b.scale+") translate("+b.translate+")";this.G.IE<=9||this.G.isGingerbread?o+=" rotate("+b.rotateZ+")":o+=" rotateX("+b.rotateX+") rotateY("+b.rotateY+") rotateZ("+b.rotateZ+") rotate("+b.rotate+")",b.$elt[n].style[this.G.CSStransformName]=o}},a.prototype.CSSTransformSet=function(a,b,c,d){void 0==this.eltTransform[a]&&(this.eltTransform[a]={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,scale:1,translate:"0px,0px",rotate:0},this.eltTransform[a].$elt=this.$getElt(a)),this.eltTransform[a][b]=c,!0===d&&(this.eltTransform[a].$elt=this.$getElt(a,!0))},a.prototype.CSSFilterApply=function(a){var b=this.eltFilter[a],c="blur("+b.blur+") brightness("+b.brightness+") grayscale("+b.grayscale+") sepia("+b.sepia+") contrast("+b.contrast+") opacity("+b.opacity+") saturate("+b.saturate+")";if(null!=b.$elt)for(var d=0;d<b.$elt.length;d++)void 0!=b.$elt[d]&&(b.$elt[d].style.WebkitFilter=c,b.$elt[d].style.filter=c)},a.prototype.CSSFilterSet=function(a,b,c,d){void 0==this.eltFilter[a]&&(this.eltFilter[a]={blur:0,brightness:"100%",grayscale:"0%",sepia:"0%",contrast:"100%",opacity:"100%",saturate:"100%"},this.eltFilter[a].$elt=this.$getElt(a)),this.eltFilter[a][b]=c,!0===d&&(this.eltTransform[a].$elt=this.$getElt(a,!0))},a.prototype.animate=function(a,b,d){if(null!=this.$getElt()){var e={};e.G=this.G,e.item=this,e.effect=a,e.hoverIn=d,e.cssKind="",d?(void 0==this.eltEffect[a.element]&&(this.eltEffect[a.element]=[]),void 0==this.eltEffect[a.element][a.type]&&(this.eltEffect[a.element][a.type]={initialValue:0,lastValue:0}),a.firstKeyframe&&(this.eltEffect[a.element][a.type]={initialValue:a.from,lastValue:a.from}),e.animeFrom=a.from,e.animeTo=a.to,e.animeDuration=parseInt(a.duration),e.animeDelay=30+parseInt(a.delay+b),e.animeEasing=a.easing):(a.firstKeyframe,e.animeFrom=this.eltEffect[a.element][a.type].lastValue,e.animeTo=this.eltEffect[a.element][a.type].initialValue,e.animeDuration=parseInt(a.durationBack),e.animeDelay=30+parseInt(a.delayBack+b),e.animeEasing=a.easingBack);for(var f=["translateX","translateY","translateZ","scale","rotateX","rotateY","rotateZ"],g=0;g<f.length;g++)if(a.type==f[g]){e.cssKind="transform";break}for(var h=["blur","brightness","grayscale","sepia","contrast","opacity","saturate"],g=0;g<h.length;g++)if(a.type==h[g]){e.cssKind="filter";break}!d||".nGY2GThumbnail"!=a.element||"scale"!=a.type&&"rotateX"!=a.type||(this.G.GOM.lastZIndex++,this.$getElt(a.element).css("z-index",this.G.GOM.lastZIndex));var i=new NGTweenable;e.tweenable=i,i.tween({attachment:e,from:{v:e.animeFrom},to:{v:e.animeTo},duration:e.animeDuration,delay:e.animeDelay,easing:e.animeEasing,step:function(a,b){if(null==b.item.$getElt())return void b.tweenable.stop(!1);if(b.hoverIn&&!b.item.hovered)return void b.tweenable.stop(!1);if(b.G.VOM.viewerDisplayed)return void b.tweenable.stop(!1);if(a.v!=b.animeFrom){switch(b.cssKind){case"transform":b.item.CSSTransformSet(b.effect.element,b.effect.type,a.v),b.item.CSSTransformApply(b.effect.element);break;case"filter":b.item.CSSFilterSet(b.effect.element,b.effect.type,a.v),b.item.CSSFilterApply(b.effect.element);break;default:var e=a.v;"rgb("!=a.v.substring(0,4)&&"rgba("!=a.v.substring(0,5)||(e=c(0,e)),b.item.$getElt(b.effect.element).css(b.effect.type,e)}d&&(b.item.eltEffect[b.effect.element][b.effect.type].lastValue=a.v)}},finish:function(a,b){if(d&&(b.item.eltEffect[b.effect.element][b.effect.type].lastValue=a.v),null!=b.item.$getElt()&&(!b.hoverIn||b.item.hovered)&&!b.G.VOM.viewerDisplayed)switch(b.cssKind){case"transform":b.item.CSSTransformSet(b.effect.element,b.effect.type,b.animeTo),b.item.CSSTransformApply(b.effect.element);break;case"filter":b.item.CSSFilterSet(b.effect.element,b.effect.type,b.animeTo),b.item.CSSFilterApply(b.effect.element);break;default:b.item.$getElt(b.effect.element).css(b.effect.type,b.animeTo)}}})}},a}()),d.options=jQuery.extend(!0,{},jQuery.nanogallery2.defaultOptions,b),d.nG2=null,d.nG2=new h,d.nG2.initiateGallery2(d.e,d.options)},d.test=function(){},d.init()},jQuery.nanogallery2.defaultOptions={kind:"",userID:"",photoset:"",album:"",blackList:"scrapbook|profil|auto backup",whiteList:"",albumList:"",albumList2:null,RTL:!1,poogleplusUseUrlCrossDomain:!0,
flickrSkipOriginal:!0,breadcrumbAutoHideTopLevel:!0,displayBreadcrumb:!0,breadcrumbOnlyCurrentLevel:!0,breadcrumbHideIcons:!0,theme:"nGY2",galleryTheme:"dark",viewerTheme:"dark",items:null,itemsBaseURL:"",thumbnailSelectable:!1,dataProvider:"",dataCharset:"Latin",allowHTMLinData:!1,locationHash:!0,slideshowDelay:3e3,slideshowAutoStart:!1,debugMode:!1,galleryDisplayMoreStep:2,galleryDisplayMode:"fullContent",galleryL1DisplayMode:null,galleryPaginationMode:"rectangles",galleryMaxRows:2,galleryL1MaxRows:null,galleryLastRowFull:!1,galleryLayoutEngine:"default",paginationSwipe:!0,paginationVisiblePages:10,galleryFilterTags:!1,galleryL1FilterTags:null,galleryMaxItems:0,galleryL1MaxItems:null,gallerySorting:"",galleryL1Sorting:null,galleryDisplayTransition:"none",galleryL1DisplayTransition:null,galleryDisplayTransitionDuration:1e3,galleryL1DisplayTransitionDuration:null,galleryResizeAnimation:!0,galleryRenderDelay:60,thumbnailCrop:!0,thumbnailL1Crop:null,thumbnailCropScaleFactor:1.5,thumbnailLevelUp:!1,thumbnailAlignment:"fillWidth",thumbnailWidth:300,thumbnailL1Width:null,thumbnailHeight:200,thumbnailL1Height:null,thumbnailBaseGridHeight:0,thumbnailL1BaseGridHeight:null,thumbnailGutterWidth:2,thumbnailL1GutterWidth:null,thumbnailGutterHeight:2,thumbnailL1GutterHeight:null,thumbnailBorderVertical:2,thumbnailBorderHorizontal:2,thumbnailFeaturedKeyword:"*featured",thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect2:"toolsAppear",thumbnailBuildInit2:"",thumbnailStacks:0,thumbnailL1Stacks:null,thumbnailStacksTranslateX:0,thumbnailL1StacksTranslateX:null,thumbnailStacksTranslateY:0,thumbnailL1StacksTranslateY:null,thumbnailStacksTranslateZ:0,thumbnailL1StacksTranslateZ:null,thumbnailStacksRotateX:0,thumbnailL1StacksRotateX:null,thumbnailStacksRotateY:0,thumbnailL1StacksRotateY:null,thumbnailStacksRotateZ:0,thumbnailL1StacksRotateZ:null,thumbnailStacksScale:0,thumbnailL1StacksScale:null,thumbnailDisplayOutsideScreen:!0,thumbnailWaitImageLoaded:!0,thumbnailSliderDelay:2e3,galleryBuildInit2:"",portable:!1,eventsDebounceDelay:30,touchAnimation:!0,touchAnimationL1:void 0,touchAutoOpenDelay:0,thumbnailLabel:{position:"overImageOnBottom",align:"center",display:!0,displayDescription:!1,titleMaxLength:0,titleMultiLine:!1,descriptionMaxLength:0,descriptionMultiLine:!1,hideIcons:!0,title:""},thumbnailToolbarImage:{topLeft:"select",topRight:"featured"},thumbnailToolbarAlbum:{topLeft:"select",topRight:"counter"},thumbnailDisplayInterval:15,thumbnailL1DisplayInterval:null,thumbnailDisplayTransition:"fadeIn",thumbnailL1DisplayTransition:null,thumbnailDisplayTransitionDuration:240,thumbnailL1DisplayTransitionDuration:null,thumbnailOpenImage:!0,thumbnailOpenOriginal:!1,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,imageTransition:"swipe2",viewerTransitionMediaKind:"img",viewerZoom:!0,viewerImageDisplay:"",openOnStart:"",viewerHideToolsDelay:3e3,viewerToolbar:{display:!0,position:"bottomOverImage",fullWidth:!0,align:"center",autoMinimize:0,standard:"minimizeButton,label",minimized:"minimizeButton,label,infoButton,shareButton,downloadButton,linkOriginalButton,fullscreenButton"},viewerTools:{topLeft:"pageCounter,playPauseButton",topRight:"rotateLeft,rotateRight,fullscreenButton,closeButton"},breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnThumbnailSelection:null,fnGalleryRenderStart:null,fnGalleryRenderEnd:null,fnGalleryObjectModelBuilt:null,fnGalleryLayoutApplied:null,fnThumbnailClicked:null,fnShoppingCartUpdated:null,fnThumbnailToolCustAction:null,fnThumbnailOpen:null,fnImgDisplayed:null,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"},icons:{thumbnailAlbum:'<i class="nGY2Icon-folder-empty"></i>',thumbnailImage:'<i class="nGY2Icon-picture"></i>',breadcrumbAlbum:'<i class="nGY2Icon-folder-empty"></i>',breadcrumbHome:'<i class="nGY2Icon-home"></i>',breadcrumbSeparator:'<i class="nGY2Icon-left-open"></i>',breadcrumbSeparatorRtl:'<i class="nGY2Icon-right-open"></i>',navigationFilterSelected:'<i style="color:#fff;" class="nGY2Icon-toggle-on"></i>',navigationFilterUnselected:'<i style="color:#ddd;" class="nGY2Icon-toggle-off"></i>',navigationFilterSelectedAll:'<i class="nGY2Icon-toggle-on"></i><i class="nGY2Icon-ok"></i>',thumbnailSelected:'<i style="color:#bff;" class="nGY2Icon-ok-circled"></i>',thumbnailUnselected:'<i style="color:#bff;" class="nGY2Icon-circle-empty"></i>',thumbnailFeatured:'<i style="color:#dd5;" class="nGY2Icon-star"></i>',thumbnailCounter:'<i class="nGY2Icon-picture"></i>',thumbnailShare:'<i class="nGY2Icon-ngy2_share2"></i>',thumbnailDownload:'<i class="nGY2Icon-ngy2_download2"></i>',thumbnailInfo:'<i class="nGY2Icon-ngy2_info2"></i>',thumbnailCart:'<i class="nGY2Icon-basket"></i>',thumbnailDisplay:'<i class="nGY2Icon-ngy2_zoom_in2"></i>',thumbnailCustomTool1:"T1",thumbnailCustomTool2:"T2",thumbnailCustomTool3:"T3",thumbnailCustomTool4:"T4",thumbnailCustomTool5:"T5",thumbnailCustomTool6:"T6",thumbnailCustomTool7:"T7",thumbnailCustomTool8:"T8",thumbnailCustomTool9:"T9",thumbnailCustomTool10:"T10",thumbnailAlbumUp:'<i style="font-size: 3em;" class="nGY2Icon-ngy2_chevron_up2"></i>',paginationNext:'<i class="nGY2Icon-right-open"></i>',paginationPrevious:'<i class="nGY2Icon-left-open"></i>',galleryMoreButton:'<i class="nGY2Icon-picture"></i> &nbsp; <i class="nGY2Icon-right-open"></i>',buttonClose:'<i class="nGY2Icon-ngy2_close2"></i>',viewerPrevious:'<i class="nGY2Icon-ngy2_chevron-left"></i>',viewerNext:'<i class="nGY2Icon-ngy2_chevron-right"></i>',viewerImgPrevious:'<i class="nGY2Icon-ngy2_chevron_left3"></i>',viewerImgNext:'<i class="nGY2Icon-ngy2_chevron_right3"></i>',viewerDownload:'<i class="nGY2Icon-ngy2_download2"></i>',viewerToolbarMin:'<i class="nGY2Icon-ellipsis-vert"></i>',viewerToolbarStd:'<i class="nGY2Icon-menu"></i>',viewerPlay:'<i class="nGY2Icon-play"></i>',viewerPause:'<i class="nGY2Icon-pause"></i>',viewerFullscreenOn:'<i class="nGY2Icon-resize-full"></i>',viewerFullscreenOff:'<i class="nGY2Icon-resize-small"></i>',viewerZoomIn:'<i class="nGY2Icon-ngy2_zoom_in2"></i>',viewerZoomOut:'<i class="nGY2Icon-ngy2_zoom_out2"></i>',viewerLinkOriginal:'<i class="nGY2Icon-ngy2_external2"></i>',viewerInfo:'<i class="nGY2Icon-ngy2_info2"></i>',viewerShare:'<i class="nGY2Icon-ngy2_share2"></i>',viewerRotateLeft:'<i class="nGY2Icon-ccw"></i>',viewerRotateRight:'<i class="nGY2Icon-cw"></i>',user:'<i class="nGY2Icon-user"></i>',location:'<i class="nGY2Icon-location"></i>',config:'<i class="nGY2Icon-wrench"></i>',shareFacebook:'<i style="color:#3b5998;" class="nGY2Icon-facebook-squared"></i>',shareTwitter:'<i style="color:#00aced;" class="nGY2Icon-twitter-squared"></i>',shareTumblr:'<i style="color:#32506d;" class="nGY2Icon-tumblr-squared"></i>',sharePinterest:'<i style="color:#cb2027;" class="nGY2Icon-pinterest-squared"></i>',shareVK:'<i style="color:#3b5998;" class="nGY2Icon-vkontakte"></i>',shareMail:'<i style="color:#555;" class="nGY2Icon-mail-alt"></i>',viewerCustomTool1:"T1",viewerCustomTool2:"T2",viewerCustomTool3:"T3",viewerCustomTool4:"T4",viewerCustomTool5:"T5",viewerCustomTool6:"T6",viewerCustomTool7:"T7",viewerCustomTool8:"T8",viewerCustomTool9:"T9",viewerCustomTool10:"T10"}},jQuery.fn.nanogallery2=function(b,c,d){if(void 0===jQuery(this).data("nanogallery2data")){if("destroy"==b)return;return this.each(function(){new jQuery.nanogallery2(this,b)})}var e=a(this).data("nanogallery2data").nG2;switch(b){case"displayItem":e.DisplayItem(c);break;case"search":return e.Search(c);case"search2":return e.Search2(c,d);case"search2Execute":return e.Search2Execute();case"refresh":e.Refresh();break;case"resize":e.Resize();break;case"instance":return e;case"data":return e.data={items:e.I,gallery:e.GOM,lightbox:e.VOM},e.data;case"reload":return e.ReloadAlbum(),a(this);case"itemsSelectedGet":return e.ItemsSelectedGet();case"itemsSetSelectedValue":e.ItemsSetSelectedValue(c,d);break;case"option":if(void 0===d)return e.Get(c);e.Set(c,d),"demoViewportWidth"==c&&a(window).trigger("resize");break;case"destroy":e.Destroy(),a(this).removeData("nanogallery2data");break;case"shoppingCartGet":return e.shoppingCart;case"shoppingCartUpdate":if(void 0===d||void 0===c)return!1;for(var f=c,g=d,h=0;h<e.shoppingCart.length;h++)(e.shoppingCart[h].ID=f)&&(e.shoppingCart[h].cnt=g);var i=G.O.fnShoppingCartUpdated;return null!==i&&("function"==typeof i?i(e.shoppingCart,NGY2Item.Get(G,f)):window[i](e.shoppingCart,NGY2Item.Get(G,f))),e.shoppingCart;case"shoppingCartRemove":if(void 0===c)return!1;for(var f=c,h=0;h<e.shoppingCart.length;h++)if(e.shoppingCart[h].ID=f){e.shoppingCart.splice(h,1);break}var i=G.O.fnShoppingCartUpdated;return null!==i&&("function"==typeof i?i(e.shoppingCart,NGY2Item.Get(G,f)):window[i](e.shoppingCart,NGY2Item.Get(G,f))),e.shoppingCart;case"closeViewer":e.CloseViewer();break;case"minimizeToolbar":e.MinimizeToolbar();break;case"maximizeToolbar":e.MaximizeToolbar();break;case"paginationPreviousPage":e.PaginationPreviousPage();break;case"paginationNextPage":e.paginationNextPage();break;case"paginationGotoPage":e.PaginationGotoPage(c);break;case"paginationCountPages":e.PaginationCountPages()}return a(this)},/*!
 * imagesLoaded PACKAGED v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(a,b){a.ngEvEmitter=b()}("undefined"!=typeof window?window:this,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{};return(c[a]=c[a]||{})[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return-1!=d&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=0,e=c[d];b=b||[];for(var f=this._onceEvents&&this._onceEvents[a];e;){var g=f&&f[e];g&&(this.off(a,e),delete f[e]),e.apply(this,b),d+=g?0:1,e=c[d]}return this}},a}),/*!
 * ngimagesLoaded v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(a,b){a.ngimagesLoaded=b(a,a.ngEvEmitter)}(window,function(a,b){function c(a,b){for(var c in b)a[c]=b[c];return a}function d(a){var b=[];if(Array.isArray(a))b=a;else if("number"==typeof a.length)for(var c=0;c<a.length;c++)b.push(a[c]);else b.push(a);return b}function e(a,b,f){if(!(this instanceof e))return new e(a,b,f);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=d(a),this.options=c({},this.options),"function"==typeof b?f=b:c(this.options,b),f&&this.on("always",f),this.getImages(),h&&(this.jqDeferred=new h.Deferred),setTimeout(function(){this.check()}.bind(this))}function f(a){this.img=a}function g(a,b){this.url=a,this.element=b,this.img=new Image}var h=jQuery,i=a.console;e.prototype=Object.create(b.prototype),e.prototype.options={},e.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},e.prototype.addElementImages=function(a){"IMG"==a.nodeName&&this.addImage(a),!0===this.options.background&&this.addElementBackgroundImages(a);var b=a.nodeType;if(b&&j[b]){for(var c=a.querySelectorAll("img"),d=0;d<c.length;d++){var e=c[d];this.addImage(e)}if("string"==typeof this.options.background){var f=a.querySelectorAll(this.options.background);for(d=0;d<f.length;d++){var g=f[d];this.addElementBackgroundImages(g)}}}};var j={1:!0,9:!0,11:!0};return e.prototype.addElementBackgroundImages=function(a){var b=getComputedStyle(a);if(b)for(var c=/url\((['"])?(.*?)\1\)/gi,d=c.exec(b.backgroundImage);null!==d;){var e=d&&d[2];e&&this.addBackground(e,a),d=c.exec(b.backgroundImage)}},e.prototype.addImage=function(a){var b=new f(a);this.images.push(b)},e.prototype.addBackground=function(a,b){var c=new g(a,b);this.images.push(c)},e.prototype.check=function(){function a(a,c,d){setTimeout(function(){b.progress(a,c,d)})}var b=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();this.images.forEach(function(b){b.once("progress",a),b.check()})},e.prototype.progress=function(a,b,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded,this.emitEvent("progress",[this,a,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+c,a,b)},e.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(a,[this]),this.emitEvent("always",[this]),this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}},f.prototype=Object.create(b.prototype),f.prototype.check=function(){if(this.getIsImageComplete())return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src},f.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},f.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.img,b])},f.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},f.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},f.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},f.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype=Object.create(f.prototype),g.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},g.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.element,b])},e.makeJQueryPlugin=function(b){(b=b||a.jQuery)&&(h=b,h.fn.ngimagesLoaded=function(a,b){return new e(this,a,b).jqDeferred.promise(h(this))})},e.makeJQueryPlugin(),e}),function(){var a="undefined"!=typeof window&&void 0!==window.document?window.document:{},b="undefined"!=typeof module&&module.exports,c="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,d=function(){for(var b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};d<e;d++)if((b=c[d])&&b[1]in a){for(d=0;d<b.length;d++)f[c[0][d]]=b[d];return f}return!1}(),e={change:d.fullscreenchange,error:d.fullscreenerror},f={request:function(b){return new Promise(function(e){var f=d.requestFullscreen,g=function(){this.off("change",g),e()}.bind(this);b=b||a.documentElement,/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)?b[f]():b[f](c?Element.ALLOW_KEYBOARD_INPUT:{}),this.on("change",g)}.bind(this))},exit:function(){return new Promise(function(b){if(!this.isFullscreen)return void b();var c=function(){this.off("change",c),b()}.bind(this);a[d.exitFullscreen](),this.on("change",c)}.bind(this))},toggle:function(a){return this.isFullscreen?this.exit():this.request(a)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(b,c){var d=e[b];d&&a.addEventListener(d,c,!1)},off:function(b,c){var d=e[b];d&&a.removeEventListener(d,c,!1)},raw:d};if(!d)return void(b?module.exports=!1:window.ngscreenfull=!1);Object.defineProperties(f,{isFullscreen:{get:function(){return Boolean(a[d.fullscreenElement])}},element:{enumerable:!0,get:function(){return a[d.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(a[d.fullscreenEnabled])}}}),b?module.exports=f:window.ngscreenfull=f}(),function(){var a=this||Function("return this")(),b=function(){function b(){}function c(a,b){var c;for(c in a)Object.hasOwnProperty.call(a,c)&&b(c)}function d(a,b){return c(b,function(c){a[c]=b[c]}),a}function e(a,b){c(b,function(c){void 0===a[c]&&(a[c]=b[c])})}function f(a,b,c,d,e,f,h){var i,j,k,m=a<f?0:(a-f)/e;for(i in b)b.hasOwnProperty(i)&&(j=h[i],k="function"==typeof j?j:l[j],b[i]=g(c[i],d[i],k,m));return b}function g(a,b,c,d){return a+(b-a)*c(d)}function h(a,b){var d=k.prototype.filter,e=a._filterArgs;c(d,function(c){void 0!==d[c][b]&&d[c][b].apply(a,e)})}function i(a,b,c,d,e,g,i,j,k,l,m){s=b+c+d,t=Math.min(m||r(),s),u=t>=s,v=d-(s-t),a.isPlaying()&&(u?(k(i,a._attachment,v),a.stop(!0)):(a._scheduleId=l(a._timeoutHandler,p),h(a,"beforeTween"),t<b+c?f(1,e,g,i,1,1,j):f(t,e,g,i,d,b+c,j),h(a,"afterTween"),k(e,a._attachment,v)))}function j(a,b){var d={},e=typeof b;return"string"===e||"function"===e?c(a,function(a){d[a]=b}):c(a,function(a){d[a]||(d[a]=b[a]||n)}),d}function k(a,b){this._currentState=a||{},this._configured=!1,this._scheduleFunction=m,void 0!==b&&this.setConfig(b)}var l,m,n="linear",o=500,p=1e3/60,q=Date.now?Date.now:function(){return+new Date},r="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:q;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var s,t,u,v;return k.prototype.tween=function(a){return this._isTweening?this:(void 0===a&&this._configured||this.setConfig(a),this._timestamp=r(),this._start(this.get(),this._attachment),this.resume())},k.prototype.setConfig=function(a){a=a||{},this._configured=!0,this._attachment=a.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=a.delay||0,this._start=a.start||b,this._step=a.step||b,this._finish=a.finish||b,this._duration=a.duration||o,this._currentState=d({},a.from||this.get()),this._originalState=this.get(),this._targetState=d({},a.to||this.get());var c=this;this._timeoutHandler=function(){i(c,c._timestamp,c._delay,c._duration,c._currentState,c._originalState,c._targetState,c._easing,c._step,c._scheduleFunction)};var f=this._currentState,g=this._targetState;return e(g,f),this._easing=j(f,a.easing||n),this._filterArgs=[f,this._originalState,g,this._easing],h(this,"tweenCreated"),this},k.prototype.get=function(){return d({},this._currentState)},k.prototype.set=function(a){this._currentState=a},k.prototype.pause=function(){return this._pausedAtTime=r(),this._isPaused=!0,this},k.prototype.resume=function(){return this._isPaused&&(this._timestamp+=r()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},k.prototype.seek=function(a){a=Math.max(a,0);var b=r();return this._timestamp+a===0?this:(this._timestamp=b-a,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,i(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,b),this.pause()),this)},k.prototype.stop=function(c){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=b,(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.clearTimeout)(this._scheduleId),c&&(h(this,"beforeTween"),f(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),h(this,"afterTween"),h(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},k.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},k.prototype.setScheduleFunction=function(a){this._scheduleFunction=a},k.prototype.dispose=function(){var a;for(a in this)this.hasOwnProperty(a)&&delete this[a]},k.prototype.filter={},k.prototype.formula={linear:function(a){return a}},l=k.prototype.formula,d(k,{now:r,each:c,tweenProps:f,tweenProp:g,applyFilter:h,shallowCopy:d,defaults:e,composeEasingObject:j}),"function"==typeof SHIFTY_DEBUG_NOW&&(a.timeoutHandler=i),"object"==typeof exports?module.exports=k:"function"==typeof define&&define.amdDISABLED?define(function(){return k}):void 0===a.NGTweenable&&(a.NGTweenable=k),k}();!function(){b.shallowCopy(b.prototype.formula,{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return(a/=.5)<1?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return(a/=.5)<1?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return 1-Math.cos(a*(Math.PI/2))},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:(a/=.5)<1?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return(a/=.5)<1?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return(a/=.5)<1?a*a*((1+(b*=1.525))*a-b)*.5:.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin((6*a-1)*(2*Math.PI)/2)+1},swingFromTo:function(a){var b=1.70158;return(a/=.5)<1?a*a*((1+(b*=1.525))*a-b)*.5:.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bounce:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?2-(7.5625*(a-=1.5/2.75)*a+.75):a<2.5/2.75?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return(a/=.5)<1?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)}})}(),function(){function a(a,b,c,d,e,f){function g(a){return((n*a+o)*a+p)*a}function h(a){return((q*a+r)*a+s)*a}function i(a){return(3*n*a+2*o)*a+p}function j(a){return 1/(200*a)}function k(a,b){return h(m(a,b))}function l(a){return a>=0?a:0-a}function m(a,b){var c,d,e,f,h,j;for(e=a,j=0;j<8;j++){if(f=g(e)-a,l(f)<b)return e;if(h=i(e),l(h)<1e-6)break;e-=f/h}if(c=0,d=1,(e=a)<c)return c;if(e>d)return d;for(;c<d;){if(f=g(e),l(f-a)<b)return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e}var n=0,o=0,p=0,q=0,r=0,s=0;return p=3*b,o=3*(d-b)-p,n=1-p-o,s=3*c,r=3*(e-c)-s,q=1-s-r,k(a,j(f))}function c(b,c,d,e){return function(f){return a(f,b,c,d,e,1)}}b.setBezierFunction=function(a,d,e,f,g){var h=c(d,e,f,g);return h.displayName=a,h.x1=d,h.y1=e,h.x2=f,h.y2=g,b.prototype.formula[a]=h},b.unsetBezierFunction=function(a){delete b.prototype.formula[a]}}(),function(){function a(a,c,d,e,f,g){return b.tweenProps(e,c,a,d,1,g,f)}var c=new b;c._filterArgs=[],b.interpolate=function(d,e,f,g,h){var i=b.shallowCopy({},d),j=h||0,k=b.composeEasingObject(d,g||"linear");c.set({});var l=c._filterArgs;l.length=0,l[0]=i,l[1]=d,l[2]=e,l[3]=k,b.applyFilter(c,"tweenCreated"),b.applyFilter(c,"beforeTween");var m=a(d,i,e,f,k,j);return b.applyFilter(c,"afterTween"),m}}(),function(a){function b(a,b){var c,d=[],e=a.length;for(c=0;c<e;c++)d.push("_"+b+"_"+c);return d}function c(a){var b=a.match(v);return b?(1===b.length||a.charAt(0).match(u))&&b.unshift(""):b=["",""],b.join(A)}function d(b){a.each(b,function(a){var c=b[a];"string"==typeof c&&c.match(z)&&(b[a]=e(c))})}function e(a){return i(z,a,f)}function f(a){var b=g(a);return"rgb("+b[0]+","+b[1]+","+b[2]+")"}function g(a){return a=a.replace(/#/,""),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),B[0]=h(a.substr(0,2)),B[1]=h(a.substr(2,2)),B[2]=h(a.substr(4,2)),B}function h(a){return parseInt(a,16)}function i(a,b,c){var d=b.match(a),e=b.replace(a,A);if(d)for(var f,g=d.length,h=0;h<g;h++)f=d.shift(),e=e.replace(A,c(f));return e}function j(a){return i(x,a,k)}function k(a){for(var b=a.match(w),c=b.length,d=a.match(y)[0],e=0;e<c;e++)d+=parseInt(b[e],10)+",";return d=d.slice(0,-1)+")"}function l(d){var e={};return a.each(d,function(a){var f=d[a];if("string"==typeof f){var g=r(f);e[a]={formatString:c(f),chunkNames:b(g,a)}}}),e}function m(b,c){a.each(c,function(a){for(var d=b[a],e=r(d),f=e.length,g=0;g<f;g++)b[c[a].chunkNames[g]]=+e[g];delete b[a]})}function n(b,c){a.each(c,function(a){var d=b[a],e=o(b,c[a].chunkNames),f=p(e,c[a].chunkNames);d=q(c[a].formatString,f),b[a]=j(d)})}function o(a,b){for(var c,d={},e=b.length,f=0;f<e;f++)c=b[f],d[c]=a[c],delete a[c];return d}function p(a,b){C.length=0;for(var c=b.length,d=0;d<c;d++)C.push(a[b[d]]);return C}function q(a,b){for(var c=a,d=b.length,e=0;e<d;e++)c=c.replace(A,+b[e].toFixed(4));return c}function r(a){return a.match(w)}function s(b,c){a.each(c,function(a){var d,e=c[a],f=e.chunkNames,g=f.length,h=b[a];if("string"==typeof h){var i=h.split(" "),j=i[i.length-1];for(d=0;d<g;d++)b[f[d]]=i[d]||j}else for(d=0;d<g;d++)b[f[d]]=h;delete b[a]})}function t(b,c){a.each(c,function(a){var d=c[a],e=d.chunkNames,f=e.length,g=b[e[0]];if("string"==typeof g){for(var h="",i=0;i<f;i++)h+=" "+b[e[i]],delete b[e[i]];b[a]=h.substr(1)}else b[a]=g})}var u=/(\d|\-|\.)/,v=/([^\-0-9\.]+)/g,w=/[0-9.\-]+/g,x=new RegExp("rgb\\("+w.source+/,\s*/.source+w.source+/,\s*/.source+w.source+"\\)","g"),y=/^.*\(/,z=/#([0-9]|[a-f]){3,6}/gi,A="VAL",B=[],C=[];a.prototype.filter.token={tweenCreated:function(a,b,c,e){d(a),d(b),d(c),this._tokenData=l(a)},beforeTween:function(a,b,c,d){s(d,this._tokenData),m(a,this._tokenData),m(b,this._tokenData),m(c,this._tokenData)},afterTween:function(a,b,c,d){n(a,this._tokenData),n(b,this._tokenData),n(c,this._tokenData),t(d,this._tokenData)}}}(b)}.call(null),/*! NGHammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
function(a,b,c,d){function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return!!Array.isArray(a)&&(g(a,c[b],c),!0)}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],(e=c?c+f:b)in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b=a.options.inputClass;return new(b||(xa?M:ya?P:wa?R:L))(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e==0,g=b&(Ga|Ha)&&d-e==0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;e<b;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?a<0?Ja:Ka:b<0?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(f<=db&&g<=db)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=!c||a.CSS.supports("touch-action",d)}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=!1,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?h<0&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),h<0||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length==0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;d<qb&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){if(this.canEmit())return this.emit(a);this.state=tb},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);if(!k(this.options.enable,[this,b]))return this.reset(),void(this.state=tb);this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),this.state&(ob|pb|qb|sb)&&this.tryEmit(b)},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:f<0?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:g<0?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.7",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?ub:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===ub||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u}),(void 0!==a?a:"undefined"!=typeof self?self:{}).NGHammer=ha,"function"==typeof define&&define.amdDISABLED?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"NGHammer")}),function(){"use strict";jQuery(document).ready(function(){for(var a=document.querySelectorAll("[data-nanogallery2]"),b=0;b<a.length;b++)jQuery(a[b]).nanogallery2(jQuery(a[b]).data("nanogallery2"))})}.call(null),/**!
 * @preserve nanogallery2 - NANOPHOTOSPROVIDER2 data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","nanogallery2"],a):a("object"==typeof exports&&"function"==typeof require?require(["jquery","nanogallery2"]):jQuery)}(function(a){jQuery.nanogallery2.data_nano_photos_provider2=function(a,b){function c(a){return decodeURIComponent(a)}function d(a,b){f.O.debugMode&&(console.log("nanoPhotosProvider2 parse data:"),console.dir(b));var d=!1;jQuery.each(b.album_content,function(a,e){var g=f.O.dataProvider.substring(0,f.O.dataProvider.indexOf("nano_photos_provider2.php")),h=g+c(e.src),i=e.title,k=e.description.split("_").join(" "),l="image";void 0!==e.kind&&e.kind.length>0&&(l=e.kind);var m=e.ID;if("album"==l&&(j(i,m)||!0),"image"==l||"album"==l&&j(i,m)){var n=0;void 0!==e.albumID&&(n=e.albumID,d=!0);var o=void 0===e.tags?"":e.tags,p=NGY2Item.New(f,i.split("_").join(" "),k,m,n,l,o);p.setMediaURL(h,"img"),void 0!==e.dcGIF&&(p.imageDominantColors="data:image/gif;base64,"+e.dcGIF),void 0!==e.dc&&""!==e.dc&&(p.imageDominantColor=e.dc),"album"==l?p.numberItems=e.cnt:(p.imageWidth=e.imgWidth,p.imageHeight=e.imgHeight),""!=e.originalURL&&(p.downloadURL=g+c(e.originalURL));for(var q=f.GOM.curNavLevel,r=["xs","sm","me","la","xl"],s=0;s<r.length;s++)p.thumbs.url[q][r[s]]=g+c(e.t_url[s]),p.thumbs.width[q][r[s]]=parseInt(e.t_width[s]),p.thumbs.height[q][r[s]]=parseInt(e.t_height[s]);var t=f.O.fnProcessData;null!==t&&("function"==typeof t?t(p,f.O.dataProvider,b):window[t](p,f.O.dataProvider,b))}}),f.I[a].contentIsLoaded=!0}function e(){}var f=a,g=function(b,e,g,j){var l=NGY2Item.GetIdx(f,b);""==a.I[l].title&&(a.I[l].title=c(b));var m=f.O.dataProvider+"?albumID="+b;m+="&hxs="+f.tn.settings.getH(f.GOM.curNavLevel,"xs"),m+="&wxs="+f.tn.settings.getW(f.GOM.curNavLevel,"xs"),m+="&hsm="+f.tn.settings.getH(f.GOM.curNavLevel,"sm"),m+="&wsm="+f.tn.settings.getW(f.GOM.curNavLevel,"sm"),m+="&hme="+f.tn.settings.getH(f.GOM.curNavLevel,"me"),m+="&wme="+f.tn.settings.getW(f.GOM.curNavLevel,"me"),m+="&hla="+f.tn.settings.getH(f.GOM.curNavLevel,"la"),m+="&wla="+f.tn.settings.getW(f.GOM.curNavLevel,"la"),m+="&hxl="+f.tn.settings.getH(f.GOM.curNavLevel,"xl"),m+="&wxl="+f.tn.settings.getW(f.GOM.curNavLevel,"xl"),h(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var n=setTimeout(function(){h(!1),i(f,"Could not retrieve nanoPhotosProvider2 data (timeout).")},6e4);f.O.debugMode&&console.log("nanoPhotosProvider2 URL: "+m),jQuery.getJSON(m,function(a,c,m){clearTimeout(n),h(!1),d(l,a),"ok"==a.nano_status?(k(b),null!==e&&void 0!==e&&e(g,j,null)):i(f,"Could not retrieve nanoPhotosProvider2 data. Error: "+a.nano_status+" - "+a.nano_message)}).fail(function(a,b,c){clearTimeout(n),h(!1);var d="";for(var e in a)d+=e+"="+a[e]+"<br>";i(f,"Could not retrieve nanoPhotosProvider2 data. Error: "+b+", "+c+" "+d+"<br><br>URL:"+m)})}catch(o){i(f,"Could not retrieve nanoPhotosProvider2 data. Error: "+o)}},h=NGY2Tools.PreloaderDisplay.bind(f),i=NGY2Tools.NanoAlert,j=(NGY2Tools.GetImageTitleFromURL.bind(f),NGY2Tools.FilterAlbumName.bind(f)),k=NGY2Tools.AlbumPostProcess.bind(f);switch(b){case"GetHiddenAlbums":break;case"AlbumGetContent":g(arguments[2],arguments[3],arguments[4],arguments[5]);break;case"Init":e()}}}),/**!
 * @preserve nanogallery2 - GOOGLE PHOTOS data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","nanogallery2"],a):a("object"==typeof exports&&"function"==typeof require?require(["jquery","nanogallery2"]):jQuery)}(function(a){jQuery.nanogallery2.data_google2=function(a,b){function c(a,b,c){f.O.debugMode&&(console.log("Google Photos data:"),console.dir(c));var e=f.I[a].GetID();jQuery.each(c,function(a,c){if("object"==typeof c&&null!==c){var g="",h="";h="image"==b?c.description:c.title,void 0==h&&(h="");var i=c.id;if("album"==b&&(!j(h,i)||void 0==c.coverPhotoBaseUrl))return!0;var k=NGY2Item.New(f,h,g,i,e,b,""),l=0,m=0,n="";"image"==b?(n=c.baseUrl,f.O.viewerZoom||void 0==f.O.viewerZoom?n+="=h"+c.mediaMetadata.height+"-w"+c.mediaMetadata.width:window.screen.width>window.screen.height?n+="=w"+window.screen.width:n=s+"=h"+window.screen.height,k.setMediaURL(n,"img"),void 0!==c.mediaMetadata.width&&(k.imageWidth=parseInt(c.mediaMetadata.width),l=k.imageWidth),void 0!==c.mediaMetadata.height&&(k.imageHeight=parseInt(c.mediaMetadata.height),m=k.imageHeight),void 0!==c.mediaMetadata.photo&&(void 0!=c.mediaMetadata.photo.exposureTime&&(k.exif.exposure=c.mediaMetadata.photo.exposureTime),void 0!=c.mediaMetadata.photo.focalLength&&(k.exif.focallength=c.mediaMetadata.photo.focalLength),void 0!=c.mediaMetadata.photo.apertureFNumber&&(k.exif.fstop=c.mediaMetadata.photo.apertureFNumber),void 0!=c.mediaMetadata.photo.isoEquivalent&&(k.exif.iso=c.mediaMetadata.photo.isoEquivalent),void 0!=c.mediaMetadata.photo.cameraModel&&(k.exif.model=c.mediaMetadata.photo.cameraModel)),void 0!==c.mediaMetadata.video&&(void 0!=c.mediaMetadata.video.cameraModel&&(k.exif.model=c.mediaMetadata.video.cameraModel),k.downloadURL=c.baseUrl+"=dv")):k.numberItems=c.mediaItemsCount,k.thumbs=d("l1",k.thumbs,c,b,m,l),k.thumbs=d("lN",k.thumbs,c,b,m,l);var o=f.O.fnProcessData;null!==o&&("function"==typeof o?o(k,"google2",c):window[o](k,"google2",c))}}),f.I[a].contentIsLoaded=!0}function d(a,b,c,d,e,g){for(var h=["xs","sm","me","la","xl"],i=0;i<h.length;i++){if("image"==d){if("auto"==f.tn.settings.width[a][h[i]]){var j=g/e;b.height[a][h[i]]=f.tn.settings.getH(a,h[i]),b.width[a][h[i]]=f.tn.settings.getH(a,h[i])*j,b.url[a][h[i]]=c.baseUrl+"=h"+f.tn.settings.getH(a,h[i]);continue}if("auto"==f.tn.settings.height[a][h[i]]){var j=e/g;b.width[a][h[i]]=f.tn.settings.getW(a,h[i]),b.height[a][h[i]]=f.tn.settings.getW(a,h[i])*j,b.url[a][h[i]]=c.baseUrl+"=w"+f.tn.settings.getW(a,h[i]);continue}b.height[a][h[i]]=f.tn.settings.getH(a,h[i]),b.width[a][h[i]]=f.tn.settings.getW(a,h[i]),b.url[a][h[i]]=c.baseUrl+"=w"+f.tn.settings.getW(a,h[i])}if("album"==d){if("auto"==f.tn.settings.width[a][h[i]]){b.url[a][h[i]]=c.coverPhotoBaseUrl+"=h"+f.tn.settings.getH(a,h[i]);continue}if("auto"==f.tn.settings.height[a][h[i]]){b.url[a][h[i]]=c.coverPhotoBaseUrl+"=w"+f.tn.settings.getW(a,h[i]);continue}f.tn.settings.mosaic[a+"Factor"].w[h[i]];b.url[a][h[i]]=c.coverPhotoBaseUrl+"=h"+f.tn.settings.getH(a,h[i])+"-w"+f.tn.settings.getW(a,h[i])}}return b}function e(){}var f=a,g=function(a,b,d,e){var g="",j="image",l=NGY2Item.GetIdx(f,a),m="";f.galleryMaxItems.Get()>0&&(m="&max-results="+f.galleryMaxItems.Get());var n="";"undefined"!=typeof ngy2_pwa_at&&(n=ngy2_pwa_at),0==a?(g=""!=n?"https://photoslibrary.googleapis.com/v1/albums":f.O.google2URL+"?nguserid="+f.O.userID+"&alt=json&v=3&kind=album"+m+"&rnd="+(new Date).getTime(),j="album"):g=""!=n?"https://photoslibrary.googleapis.com/v1/mediaItems:search":f.O.google2URL+"?nguserid="+f.O.userID+"&ngalbumid="+a+"&alt=json&v=3&kind=photo&"+m,f.O.debugMode&&console.log("Google Photos URL: "+g),h(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var o=setTimeout(function(){h(!1),i("Could not retrieve AJAX data...")},6e4);jQuery.getJSON(g+"&callback=?",function(g){if("error"==g.nano_status)return clearTimeout(o),h(!1),void i(f,"Could not retrieve Google data. Error: "+g.nano_message);clearTimeout(o),h(!1),c(l,j,g),k(a),null!==b&&void 0!==b&&b(d,e,null)}).fail(function(a,b,c){clearTimeout(o),h(!1);var d="";for(var e in a)d+=e+"="+a[e]+"<br>";i(f,"Could not retrieve Google data. Error: "+b+", "+c+" "+d+"<br><br>URL:"+g)})}catch(p){i(f,"Could not retrieve Google data. Error: "+p)}},h=NGY2Tools.PreloaderDisplay.bind(f),i=NGY2Tools.NanoAlert,j=(NGY2Tools.GetImageTitleFromURL.bind(f),NGY2Tools.FilterAlbumName.bind(f)),k=NGY2Tools.AlbumPostProcess.bind(f);switch(b){case"AlbumGetContent":g(arguments[2],arguments[3],arguments[4],arguments[5]);break;case"Init":e()}}}),/**!
 * @preserve nanogallery2 - FLICKR data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery","nanogallery2"],a):a("object"==typeof exports&&"function"==typeof require?require(["jquery","nanogallery2"]):jQuery)}(function(a){jQuery.nanogallery2.data_flickr=function(a,b){function c(a,b,c){h.O.debugMode&&(console.log("Flickr parse photos:"),console.dir(c)),jQuery.each(c,function(a,c){var d=c.id,f=c.url_sq,g=c.title;""!=h.O.thumbnailLabel.get("title")&&(g=n(f));var j=c.description._content,k=75,l=75,m=i.photoAvailableSizesStr.length-1;h.O.flickrSkipOriginal&&m--;for(var a=m;a>=0;a--)if(void 0!=c["url_"+i.photoAvailableSizesStr[a]]){f=c["url_"+i.photoAvailableSizesStr[a]],k=parseInt(c["width_"+i.photoAvailableSizesStr[a]]),l=parseInt(c["height_"+i.photoAvailableSizesStr[a]]);break}var o={};for(var p in c)0!=p.indexOf("height_")&&0!=p.indexOf("width_")&&0!=p.indexOf("url_")||(o[p]=c[p]);var q=void 0!==c.tags?c.tags:"",r=NGY2Item.New(h,g,j,d,b,"image",q);r.setMediaURL(f,"img"),r.imageWidth=k,r.imageHeight=l;var s={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};s=e(s,c,"l1"),s=e(s,c,"lN"),r.thumbs=s;var t=h.O.fnProcessData;null!==t&&("function"==typeof t?t(r,"flickr",c):window[t](r,"flickr",c))}),h.I[a].contentIsLoaded=!0}function d(a,b,c){h.O.debugMode&&(console.log("Flickr parse list of albums:"),console.dir(c)),jQuery.each(c,function(a,c){var d=c.title._content;if(0==c.visibility_can_see_set)return!0;if(o(d,c.id)){var f=c.id,g=void 0!=c.description._content?c.description._content:"",i={};for(var j in c.primary_photo_extras)i[j]=c.primary_photo_extras[j];var k="";void 0!==c.primary_photo_extras&&void 0!==c.primary_photo_extras.tags&&(k=c.primary_photo_extras.tags);var l=NGY2Item.New(h,d,g,f,b,"album",k);l.numberItems=c.photos,l.thumbSizes=i;var m={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};m=e(m,c.primary_photo_extras,"l1"),m=e(m,c.primary_photo_extras,"lN"),l.thumbs=m;var n=h.O.fnProcessData;null!==n&&("function"==typeof n?n(l,"flickr",c):window[n](l,"flickr",c))}}),h.I[a].contentIsLoaded=!0}function e(a,b,c){var d=1;!0===h.tn.opt[c].crop&&(d=h.O.thumbnailCropScaleFactor);for(var e=["xs","sm","me","la","xl"],g=0;g<e.length;g++)if("auto"==h.tn.settings.width[c][e[g]]||""==h.tn.settings.width[c][e[g]]){var i="height_",j=Math.ceil(h.tn.settings.height[c][e[g]]*h.tn.scale*d*h.tn.settings.mosaic[c+"Factor"].h[e[g]]),k=f(i,j,b);a.url[c][e[g]]=k.url,a.width[c][e[g]]=k.width,a.height[c][e[g]]=k.height}else if("auto"==h.tn.settings.height[c][e[g]]||""==h.tn.settings.height[c][e[g]]){var i="width_",j=Math.ceil(h.tn.settings.width[c][e[g]]*h.tn.scale*d*h.tn.settings.mosaic[c+"Factor"].w[e[g]]),k=f(i,j,b);a.url[c][e[g]]=k.url,a.width[c][e[g]]=k.width,a.height[c][e[g]]=k.height}else{var i="height_",j=Math.ceil(h.tn.settings.height[c][e[g]]*h.tn.scale*d*h.tn.settings.mosaic[c+"Factor"].h[e[g]]);h.tn.settings.width[c][e[g]]>h.tn.settings.height[c][e[g]]&&(i="width_",j=Math.ceil(h.tn.settings.width[c][e[g]]*h.tn.scale*d*h.tn.settings.mosaic[c+"Factor"].w[e[g]]));var k=f(i,j,b);a.url[c][e[g]]=k.url,a.width[c][e[g]]=k.width,a.height[c][e[g]]=k.height}return a}function f(a,b,c){for(var d={url:"",width:0,height:0},e=0,f=0;f<i.thumbAvailableSizes.length;f++){var g=c[a+i.photoAvailableSizesStr[f]];if(void 0!=g&&(e=f,g>=b))break}var h=i.photoAvailableSizesStr[e];return d.url=c["url_"+h],d.width=parseInt(c["width_"+h]),d.height=parseInt(c["height_"+h]),d}function g(){}var h=a,i={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"               sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"0",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048,1e4),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k","o"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},j=function(a,b,e,f){var g=NGY2Item.GetIdx(h,a),j="",k="image";"NONE"==h.O.photoset.toUpperCase()||"NONE"==h.O.album.toUpperCase()?j=i.url()+"?&method=flickr.people.getPublicPhotos&api_key="+i.ApiKey+"&user_id="+h.O.userID+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json":0==h.I[g].GetID()?(j=i.url()+"?&method=flickr.photosets.getList&api_key="+i.ApiKey+"&user_id="+h.O.userID+"&per_page=500&primary_photo_extras=tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",k="album"):j=i.url()+"?&method=flickr.photosets.getPhotos&api_key="+i.ApiKey+"&photoset_id="+h.I[g].GetID()+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",h.O.debugMode&&console.log("Flickr URL: "+j),l(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var n=setTimeout(function(){l(!1),m(h,"Could not retrieve AJAX data...")},6e4),o=[],q=function(){clearTimeout(n),l(!1),"album"==k?d(g,a,o):c(g,a,o),p(a),null!==b&&void 0!==b&&b(e,f,null)},r=function(a,b){jQuery.getJSON(a+"&page="+b+"&jsoncallback=?",function(c,d,e){var f=0;if("album"==k){if(void 0!==c.stat&&"fail"===c.stat)return m(h,"Could not retrieve Flickr album list: "+c.message+" (code: "+c.code+")."),!1;o=o.concat(c.photosets.photoset),f=c.photosets.pages}else if("NONE"==h.O.photoset.toUpperCase()||"NONE"==h.O.album.toUpperCase())o=o.concat(c.photos.photo),f=c.photos.pages;else{if(void 0!==c.stat&&"fail"===c.stat)return m(h,"Could not retrieve Flickr album: "+c.message+" (code: "+c.code+")."),!1;""==h.I[g].title&&(h.I[g].title=c.photoset.title),o=o.concat(c.photoset.photo),f=c.photoset.pages}f>b?r(a,b+1):q()}).fail(function(a,b,c){clearTimeout(n),l(!1),m(h,"Could not retrieve Flickr ajax data: "+b+", "+c)})};r(j,1)},k=function(a,b){b()},l=NGY2Tools.PreloaderDisplay.bind(h),m=NGY2Tools.NanoAlert,n=NGY2Tools.GetImageTitleFromURL.bind(h),o=NGY2Tools.FilterAlbumName.bind(h),p=NGY2Tools.AlbumPostProcess.bind(h);switch(b){case"GetHiddenAlbums":var q=arguments[2],r=arguments[3];k(q,r);break;case"AlbumGetContent":var s=arguments[2],r=arguments[3];j(s,r,arguments[4],arguments[5]);break;case"Init":g()}}});