/* nanogallery2 - v0.0.0 - 2017-05-01 - http://nanogallery2.nanostudio.org */
/**!
 * @preserve nanogallery2 - javascript image gallery
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
 * Requirements:
 *  - jQuery (http://www.jquery.com) - version >= 1.7.1
 *
 * Components:
 *  - shifty (https://github.com/jeremyckahn/shifty) - is embeded
 *  - TinyColor (https://github.com/bgrins/TinyColor) - is embedded
 *  - imagesloaded (https://github.com/desandro/imagesloaded) - is embebed
 *  - hammer.js (http://hammerjs.github.io/) - is embeded
 *  - screenfull.js (https://github.com/sindresorhus/screenfull.js) - is embeded
 *  - webfont generated with http://fontello.com - based on Font Awesome Copyright (C) 2012 by Dave Gandy (http://fortawesome.github.com/Font-Awesome/)
 *  - ICO online converter: https://iconverticons.com/online/
 */
!function(a){"use strict";function b(){function b(a,b,c){this.thumbnailIdx=a,this.width=0,this.height=0,this.top=0,this.left=0,this.row=0,this.imageWidth=b,this.imageHeight=c,this.resizedContentWidth=0,this.resizedContentHeight=0,this.displayed=!1,this.neverDisplayed=!0,this.inDisplayArea=!1}function c(a){this.imageIdx=a,this.imageNumber=0}function d(){if(kb.albumListHidden.length>0)return void jQuery.nanogallery2["data_"+kb.O.kind](kb,"GetHiddenAlbums",kb.albumListHidden,e);$a()||e()}function e(){if(""!=kb.O.openOnStart){var a=f(kb.O.openOnStart);"0"!=a.imageID?U(a.imageID,a.albumID):g("-1",a.albumID)}else g("-1",0)}function f(a){var b={albumID:"0",imageID:"0"},c=a.split("/");return c.length>0&&(b.albumID=c[0],c.length>1&&(b.imageID=c[1])),b}function g(a,b){kb.VOM.viewerDisplayed&&Ta(null);var c=NGY2Item.GetIdx(kb,b);if(kb.GOM.curNavLevel=0==c?"l1":"lN",kb.galleryResizeEventEnabled=!1,-1==c&&(NGY2Item.New(kb,"","",b,"0","album"),c=kb.I.length-1),!kb.I[c].contentIsLoaded)return void V(b,g,a,b);oa(),kb.GOM.pagination.currentPage=0,_a(b,""),r(c)}function h(){switch(kb.galleryDisplayMode.Get()){case"PAGINATION":kb.layout.support.rows&&kb.galleryMaxRows.Get()>0&&m(kb.GOM.albumIdx);break;case"MOREBUTTON":kb.$E.conTnBottom.off("click");var a=kb.GOM.items.length-kb.GOM.itemsDisplayed;0==a?kb.$E.conTnBottom.empty():(kb.$E.conTnBottom.html('<div class="nGY2GalleryMoreButton"><div class="nGY2GalleryMoreButtonAnnotation">+'+a+" "+kb.O.icons.galleryMoreButton+"</div></div>"),kb.$E.conTnBottom.on("click",function(a){kb.GOM.displayedMoreSteps++,v()}))}}function i(a){var b="";kb.O.breadcrumbHideIcons||(b=kb.O.icons.breadcrumbAlbum,0==a&&(b=kb.O.icons.breadcrumbHome));var c=jQuery('<div class="oneItem">'+b+kb.I[a].title+"</div>").appendTo(kb.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));kb.O.breadcrumbOnlyCurrentLevel?0==a?jQuery(c).data("albumID","0"):jQuery(c).data("albumID",kb.I[a].albumID):jQuery(c).data("albumID",kb.I[a].GetID()),c.click(function(){g("-1",jQuery(this).data("albumID"))})}function j(a){var b=jQuery('<div class="oneItem">'+(kb.O.RTL?kb.O.icons.breadcrumbSeparatorRtl:kb.O.icons.breadcrumbSeparator)+"</div>").appendTo(kb.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));jQuery(b).data("albumIdx",a),b.click(function(){var a=jQuery(this).data("albumIdx");g("-1",kb.I[a].GetID())})}function k(a){if(kb.GOM.navigationBar.$newContent=jQuery('<div class="nGY2Navigationbar"></div>'),1==kb.O.displayBreadcrumb&&!kb.O.thumbnailAlbumDisplayImage){var b=0,c=[];if(0!=a){var d=kb.I.length;c.push(a);var e=a;for(b++;0!=kb.I[e].albumID&&-1!=kb.I[e].albumID;)for(var f=1;f<d;f++)if(kb.I[f].GetID()==kb.I[e].albumID){e=f,c.push(e),b++;break}}kb.O.breadcrumbAutoHideTopLevel&&0==b||l(c)}if(0!=kb.galleryFilterTags.Get()){var h=kb.I[a].albumTagList.length;if(h>0){for(var f=0;f<h;f++){var i=kb.I[a].albumTagList[f],j=kb.O.icons.navigationFilterUnselected,k="Unselected";jQuery.inArray(i,kb.I[a].albumTagListSel)>=0&&(k="Selected",j=kb.O.icons.navigationFilterSelected);jQuery('<div class="nGY2NavigationbarItem nGY2NavFilter'+k+'">'+j+" "+i+"</div>").appendTo(kb.GOM.navigationBar.$newContent).click(function(){var b=jQuery(this),c=b.text().replace(/^\s*|\s*$/,"");if(b.hasClass("nGY2NavFilterUnselected"))kb.I[a].albumTagListSel.push(c);else{var d=jQuery.inArray(c,kb.I[a].albumTagListSel);-1!=d&&kb.I[a].albumTagListSel.splice(d,1)}b.toggleClass("nGY2NavFilters-oneTagUnselected nGY2NavFilters-oneTagSelected"),g("-1",kb.I[a].GetID())})}jQuery('<div class="nGY2NavigationbarItem nGY2NavFilterSelectAll">'+kb.O.icons.navigationFilterSelectedAll+"</div>").appendTo(kb.GOM.navigationBar.$newContent).click(function(){var b=kb.I[a].albumTagList.length;kb.I[a].albumTagListSel=[];for(var c=0;c<b;c++){var d=kb.I[a].albumTagList[c];kb.I[a].albumTagListSel.push(d)}g("-1",kb.I[a].GetID())})}}}function l(a){if(jQuery('<div class="nGY2NavigationbarItem nGY2Breadcrumb"></div>').appendTo(kb.GOM.navigationBar.$newContent),kb.O.breadcrumbOnlyCurrentLevel)if(0==a.length)i(0);else{a.length;j(1==a.length?0:a[0]),i(a[0])}else if(i(0),a.length>0){j(0);for(var b=a.length-1;b>=0;b--)i(a[b]),b>0&&j(a[b-1])}}function m(a){kb.$E.conTnBottom.children().remove();var b=Math.ceil((kb.GOM.items[kb.GOM.items.length-1].row+1)/kb.galleryMaxRows.Get());if(1!=b&&(kb.GOM.pagination.currentPage>b-1&&(kb.GOM.pagination.currentPage=b-1),q(),0!=kb.GOM.displayInterval.len)){if("NUMBERS"==kb.O.galleryPaginationMode&&kb.GOM.pagination.currentPage>0){jQuery('<div class="nGY2PaginationPrev">'+kb.O.icons.paginationPrevious+"</div>").appendTo(kb.$E.conTnBottom).click(function(a){p()})}var c=0,d=b;if("NUMBERS"!=kb.O.galleryPaginationMode)c=0;else{var e=(kb.O.paginationVisiblePages,kb.O.paginationVisiblePages);if(e>=b)c=0;else{var f=0;f=n(e)?(e+1)/2:e/2,kb.GOM.pagination.currentPage<f?(c=0,(d=e-1)>b&&(d=b-1)):(c=kb.GOM.pagination.currentPage-f,(d=c+e)>b&&(d=b-1)),d-c<e&&(c=d-e)<0&&(c=0)}}for(var g=c;g<d;g++){var h="",i="";switch(kb.O.galleryPaginationMode){case"NUMBERS":h="nGY2paginationItem",i=g+1;break;case"DOTS":h="nGY2paginationDot";break;case"RECTANGLES":h="nGY2paginationRectangle"}g==kb.GOM.pagination.currentPage&&(h+="CurrentPage");var j=jQuery('<div class="'+h+'">'+i+"</div>").appendTo(kb.$E.conTnBottom);j.data("pageNumber",g),j.click(function(a){kb.GOM.pagination.currentPage=jQuery(this).data("pageNumber"),Ya("pageChanged"),C(!0)})}if("NUMBERS"==kb.O.galleryPaginationMode&&kb.GOM.pagination.currentPage+1<b){jQuery('<div class="nGY2PaginationNext">'+kb.O.icons.paginationNext+"</div>").appendTo(kb.$E.conTnBottom).click(function(a){o()})}}}function n(a){return a%2==1}function o(){var a=(kb.GOM.albumIdx,0);S(),kb.galleryMaxRows.Get()>0&&(a=(kb.GOM.items[kb.GOM.items.length-1].row+1)/kb.galleryMaxRows.Get());var b=Math.ceil(a),c=kb.GOM.pagination.currentPage;c<b-1?c++:c=0,kb.GOM.pagination.currentPage=c,Ya("pageChanged"),C(!0)}function p(){var a=(kb.GOM.albumIdx,0);S(),kb.galleryMaxRows.Get()>0&&(a=(kb.GOM.items[kb.GOM.items.length-1].row+1)/kb.galleryMaxRows.Get());var b=Math.ceil(a),c=kb.GOM.pagination.currentPage;c>0?c--:c=b-1,kb.GOM.pagination.currentPage=c,Ya("pageChanged"),C(!0)}function q(){switch(kb.GOM.displayInterval.from=0,kb.GOM.displayInterval.len=kb.I.length,kb.galleryDisplayMode.Get()){case"PAGINATION":if(kb.layout.support.rows){var a=kb.GOM.items.length,b=kb.GOM.pagination.currentPage*kb.galleryMaxRows.Get(),c=b+kb.galleryMaxRows.Get(),d=-1;kb.GOM.displayInterval.len=0;for(var e=0;e<a;e++){var f=kb.GOM.items[e];f.row>=b&&f.row<c&&(-1==d&&(kb.GOM.displayInterval.from=e,d=e),kb.GOM.displayInterval.len++)}}break;case"MOREBUTTON":if(kb.layout.support.rows){var a=kb.GOM.items.length,c=kb.O.galleryDisplayMoreStep*(kb.GOM.displayedMoreSteps+1);kb.GOM.displayInterval.len=0;for(var e=0;e<a;e++){var f=kb.GOM.items[e];f.row<c&&kb.GOM.displayInterval.len++}}break;case"ROWS":if(kb.layout.support.rows){var a=kb.GOM.items.length,c=kb.galleryMaxRows.Get();kb.galleryLastRowFull.Get()&&-1!=kb.GOM.lastFullRow&&c>kb.GOM.lastFullRow+1&&(c=kb.GOM.lastFullRow+1),kb.GOM.displayInterval.len=0;for(var e=0;e<a;e++){var f=kb.GOM.items[e];f.row<c&&kb.GOM.displayInterval.len++}}break;default:case"FULLCONTENT":if(kb.layout.support.rows&&kb.galleryLastRowFull.Get()&&-1!=kb.GOM.lastFullRow){var a=kb.GOM.items.length,c=kb.GOM.lastFullRow+1;kb.GOM.displayInterval.len=0;for(var e=0;e<a;e++){var f=kb.GOM.items[e];f.row<c&&kb.GOM.displayInterval.len++}}}}function r(a){Ya("galleryRenderStart"),"function"==typeof kb.O.fnGalleryRenderStart&&kb.O.fnGalleryRenderStart(a),kb.layout.SetEngine(),kb.galleryResizeEventEnabled=!1,kb.GOM.albumIdx=-1,kb.GOM.lastDisplayedIdx=-1,void 0!==kb.$E.conTnBottom&&kb.$E.conTnBottom.empty();var b=hb(),c=kb.$E.base.offset().top;if(c<b.t&&jQuery("html, body").animate({scrollTop:c},200),k(a),kb.GOM.firstDisplay)kb.GOM.firstDisplay=!1,s(a);else{var d=!1;0==kb.GOM.navigationBar.$newContent.children().length&&(d=!0);(new NGTweenable).tween({from:{opacity:1},to:{opacity:0},duration:200,easing:"easeInQuart",attachment:{h:d},step:function(a,b){kb.$E.conTnParent.css({opacity:a.opacity}),b.h&&kb.$E.conNavigationBar.css({opacity:a.opacity})},finish:function(b,c){kb.$E.conTnParent.css({opacity:0}),c.h&&kb.$E.conNavigationBar.css({opacity:0,display:"none"}),s(a)}})}}function s(a){var b=kb.$E.conNavigationBar.children().length;if(kb.$E.conNavigationBar.empty(),kb.GOM.navigationBar.$newContent.children().clone(!0,!0).appendTo(kb.$E.conNavigationBar),kb.$E.conNavigationBar.children().length>0&&0==b){kb.$E.conNavigationBar.css({opacity:0,display:"block"});(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},duration:200,easing:"easeInQuart",step:function(a,b){kb.$E.conNavigationBar.css({opacity:a.opacity})},finish:function(a,b){kb.$E.conNavigationBar.css({opacity:1})}})}t(a)}function t(a){kb.GOM.lastZIndex=parseInt(kb.$E.base.css("z-index")),isNaN(kb.GOM.lastZIndex)&&(kb.GOM.lastZIndex=0),kb.$E.conTnParent.css({opacity:0}),kb.$E.conTn.off().empty();for(var b=kb.I.length,c=0;c<b;c++){var d=kb.I[c];d.hovered=!1,d.$elt=null,d.$Elts=[],d.eltTransform=[],d.eltFilter=[],d.width=0,d.height=0,d.left=0,d.top=0,d.resizedContentWidth=0,d.resizedContentHeight=0}kb.$E.conTn.css(kb.CSStransformName,"translateX(0px)"),kb.$E.conTnParent.css({left:0,opacity:1}),u(a)}function u(a){var b=new Date;kb.GOM.items=[],kb.GOM.displayedMoreSteps=0;var c=0;"onBottom"==kb.O.thumbnailLabel.get("position")?(c=E(),kb.tn.labelHeight[kb.GOM.curNavLevel]=c):kb.tn.labelHeight[kb.GOM.curNavLevel]=0,kb.GOM.albumIdx=a,Ya("galleryRenderEnd"),"function"==typeof kb.O.fnGalleryRenderEnd&&kb.O.fnGalleryRenderEnd(a),x()?(y(),C(!1),kb.galleryResizeEventEnabled=!0):kb.galleryResizeEventEnabled=!0,kb.O.debugMode&&console.log("GalleryRenderPart3: "+(new Date-b))}function v(a){var b=new Date;if(kb.galleryResizeEventEnabled=!1,0==y(a))return kb.galleryResizeEventEnabled=!0,void(kb.O.debugMode&&console.log("GalleryResize1: "+(new Date-b)));kb.O.debugMode&&console.log("GalleryResizeSetLayout: "+(new Date-b)),C(!1),kb.O.debugMode&&console.log("GalleryResizeFull: "+(new Date-b))}function x(){for(var a="",c=!1,d=kb.I[kb.GOM.albumIdx].GetID(),e=kb.I.length,f=0,g=0;g<e;g++){var h=kb.I[g];if(h.albumID==d&&h.checkTagFilter()&&h.isSearchFound()){var i=h.thumbImg().width,j=h.thumbImg().height;!kb.layout.prerequisite.imageSize||0!=i&&0!=j||(c=!0,a+='<img src="'+h.thumbImg().src+'" data-idx="'+f+'" data-albumidx="'+kb.GOM.albumIdx+'">'),0==j&&(j=kb.tn.defaultSize.getHeight()),0==i&&(i=kb.tn.defaultSize.getWidth());var k=new b(g,i,j);kb.GOM.items.push(k),f++}}if(Ya("galleryObjectModelBuilt"),"function"==typeof kb.O.fnGalleryObjectModelBuilt&&kb.O.fnGalleryObjectModelBuilt(),c){var l=jQuery(a),m=ngimagesLoaded(l);return l=null,m.on("progress",function(a,b){if(b.isLoaded){var c=b.img.getAttribute("data-idx");if(b.img.getAttribute("data-albumidx")==kb.GOM.albumIdx){var d=kb.GOM.items[c];d.imageWidth=b.img.naturalWidth,d.imageHeight=b.img.naturalHeight;var e=kb.I[d.thumbnailIdx];if(e.thumbs.width[kb.GOM.curNavLevel][kb.GOM.curWidth]=d.imageWidth,e.thumbs.height[kb.GOM.curNavLevel][kb.GOM.curWidth]=d.imageHeight,"GRID"==kb.layout.engine&&!0===kb.tn.opt.Get("crop")&&null!==e.$getElt(".nGY2GThumbnailImg"))if(e.thumbImg().height>e.thumbImg().width)e.$getElt(".nGY2GThumbnailImg").css({width:kb.tn.settings.getW()+"px"});else{var f=kb.tn.settings.getH()/e.thumbImg().height,g=(kb.tn.settings.getH(),e.thumbImg().width*f);if(g>=kb.tn.settings.getW()){var h=(e.thumbImg().width*f-kb.tn.settings.getW())/2;e.$getElt(".nGY2GThumbnailImg").css({height:kb.tn.settings.getH()+"px",left:h+"px"})}else{var i=kb.tn.settings.getW()/e.thumbImg().width,j=e.thumbImg().width*i;e.$getElt(".nGY2GThumbnailImg").css({width:j+"px"})}}kb.GalleryResizeThrottled();var k=e.thumbs.width.l1;for(var l in k)k.hasOwnProperty(l)&&l!=kb.GOM.curWidth&&kb.tn.settings.width.l1[l]==kb.tn.settings.getW()&&kb.tn.settings.height.l1[l]==kb.tn.settings.getH()&&(e.thumbs.width.l1[l]=d.imageWidth,e.thumbs.height.l1[l]=d.imageHeight);k=e.thumbs.width.lN;for(var l in k)k.hasOwnProperty(l)&&l!=kb.GOM.curWidth&&kb.tn.settings.width.lN[l]==kb.tn.settings.getW()&&kb.tn.settings.height.lN[l]==kb.tn.settings.getH()&&(e.thumbs.width.lN[l]=d.imageWidth,e.thumbs.height.lN[l]=d.imageHeight)}}}),kb.galleryResizeEventEnabled=!0,!1}return!0}function y(a){var b=!0,c=kb.$E.conTnParent.width();switch(kb.GOM.displayArea={width:0,height:0},kb.layout.engine){case"JUSTIFIED":b=A(c,a);break;case"CASCADING":b=z(c,a);break;case"GRID":default:b=B(c,a)}return Ya("galleryLayoutApplied"),"function"==typeof kb.O.fnGalleryLayoutApplied&&kb.O.fnGalleryLayoutApplied(),b}function z(a,b){var c=(kb.$E.conTnParent.width(),0),d=0,e=[],f=M(a),g=0,h=kb.tn.opt.Get("gutterHeight"),i=kb.tn.defaultSize.getOuterWidth(),j=kb.GOM.items.length;"justified"==kb.O.thumbnailAlignment?(f=Math.min(f,j),g=1==f?0:(a-f*i)/(f-1)):g=kb.tn.opt.Get("gutterWidth"),d=0,c=0;var k=2*kb.tn.borderWidth,l=2*kb.tn.borderHeight;kb.GOM.lastFullRow=-1;for(var m=0;m<j;m++){var n=kb.GOM.items[m];if(n.imageHeight>0&&n.imageWidth>0){var o=0,p=0,q=n.imageHeight/n.imageWidth;if(n.resizedContentWidth=i-k,n.resizedContentHeight=n.resizedContentWidth*q,n.height=n.resizedContentHeight+l+kb.tn.labelHeight.get(),n.width=i,n.row=0,0==d)o=c*(i+g),e[c]=n.height+h,++c>=f&&(c=0,d++);else{for(var r=0,s=e[0],t=1;t<f;t++)e[t]+5<s&&(s=e[t],r=t);p=e[r],o=r*(i+g),e[r]=p+n.height+h}var u=o;kb.O.RTL&&(u=w-o-i),n.left=u,n.top=p}}return kb.GOM.displayArea.width=f*(i+g)-g,!0}function A(a,b){for(var c=0,d=0,e=0,f=[],g=0,h=[],i=!1,j=0,k=kb.tn.opt.Get("gutterWidth"),l=kb.tn.opt.Get("gutterHeight"),m=0,n=0,o=!1,p=!1,q=kb.tn.defaultSize.getOuterHeight(),r=2*kb.tn.borderWidth,s=2*kb.tn.borderHeight,t=1,u=kb.GOM.items.length,v=0;v<u;v++){var w=kb.GOM.items[v];if(w.imageWidth>0){var x=w.imageWidth/w.imageHeight,y=Math.floor(q*x);if(i&&(i=!1,g++,c=0,o=!1,p=!1,t=1),w.imageHeight>w.imageWidth?o=!0:p=!0,c+k+y<a-t*r){c+=y+k,h[g]=q;var z=Math.max(o?m:0,p?n:0);z>0&&(h[g]=Math.min(h[g],z)),f[g]=v}else{c+=k+y;var A=(a-t*r)/c,B=Math.floor(q*A);h[g]=B,o&&(m=Math.max(m,B)),p&&(n=Math.max(n,B)),f[g]=v,i=!0}j++,t++}}g=0,e=0,d=0,j=0,kb.GOM.lastFullRow=0;for(var v=0;v<u;v++){var w=kb.GOM.items[v];if(!(w.imageWidth>0))return!1;var x=w.imageWidth/w.imageHeight,y=Math.floor(x*h[g]);v==f[g]&&(f.length!=g+1?y=a-d-r:d+k+y+r>a&&(y=a-d-r));var C=parseInt(h[g]);y=parseInt(y),w.resizedContentWidth=y,w.resizedContentHeight=C,w.width=y+r,w.height=C+kb.tn.labelHeight.get()+s,w.row=g,w.top=e;var D=d;kb.O.RTL&&(D=a-d-w.width),w.left=D,d+=w.width+k,v==f[g]&&(e+=w.height+l,kb.GOM.lastFullRow=g-1,g++,d=0),j++}var E=0;if(void 0!==b&&-1!=kb.GOM.albumIdx){var F=kb.GOM.items[b];kb.I[F.thumbnailIdx];F.width+=40,F.height+=40;for(var v=0;v<u;v++){var w=kb.GOM.items[v];w.imageWidth>0&&(w.row==F.row?(E=40,F.thumbnailIdx!=w.thumbnailIdx&&(w.top+=30,w.width-=20,w.height-=20)):0==w.row||(w.top+=E))}}return kb.GOM.displayArea.width=a,!0}function B(a){var b=0,c=0,d=0,e=kb.tn.opt.Get("gutterHeight"),f=M(a),g=0,h=[],i=0,j=a,k=kb.tn.defaultSize.getOuterWidth(),l=kb.tn.defaultSize.getOuterHeight()+kb.tn.labelHeight.get(),m=kb.GOM.items.length;if("justified"==kb.O.thumbnailAlignment?(f=Math.min(f,m),d=1==f?0:(a-f*k)/(f-1)):d=kb.tn.opt.Get("gutterWidth"),kb.O.RTL){for(var n=0;n<m&&0==c;n++)b=i*(k+d),h[i]=b,g=b,++i>=f&&(i=0,c+=l+e);j=g+k,c=0,i=0}kb.GOM.lastFullRow=0;for(var o=0,n=0;n<m;n++){0==c?(b=i*(k+d),h[i]=b,g=b+k):b=h[i];var p=b;kb.O.RTL&&(p=parseInt(j)-b-k);var q=kb.GOM.items[n];q.top=c,q.left=p,q.height=l,q.width=k,q.row=o,c,i++,i>=f&&(i=0,c+=l+e,kb.GOM.lastFullRow=o,o++)}return kb.GOM.displayArea.width=g,!0}function C(a){kb.$E.conTn.css(kb.CSStransformName,"translateX(0px)");var b=kb.GOM.items.length;kb.GOM.itemsDisplayed=0;var c=50,d=0,e=hb();kb.GOM.cache.viewport=e;var f=kb.$E.conTnParent.offset();kb.GOM.cache.containerOffset=f,q();for(var g=0;g<b;g++){var i=kb.GOM.items[g];g>=kb.GOM.displayInterval.from&&d<kb.GOM.displayInterval.len?(i.inDisplayArea=!0,a&&(i.neverDisplayed=!0),kb.GOM.itemsDisplayed++,d++):i.inDisplayArea=!1}h();var j=[],k=[];kb.GOM.clipArea.top=-1,d=0;var l=-1;kb.GOM.clipArea.height=0;for(var g=0;g<b;g++){var i=kb.GOM.items[g];if(i.inDisplayArea){if(-1==kb.GOM.clipArea.top&&(kb.GOM.clipArea.top=i.top),kb.GOM.clipArea.height=Math.max(kb.GOM.clipArea.height,i.top-kb.GOM.clipArea.top+i.height),i.neverDisplayed){var m=f.top+(i.top-kb.GOM.clipArea.top);if(m+i.height>=e.t-c&&m<=e.t+e.h+c){var n=kb.I[i.thumbnailIdx];null==n.$elt&&H(n,i.thumbnailIdx,g,g+1==b),j.push({idx:g,delay:d}),d++}}else k.push({idx:g,delay:0});l=g}else{i.displayed=!1;var n=kb.I[i.thumbnailIdx];null!=n.$elt&&n.$elt.css({opacity:0,display:"none"})}}var o=kb.$E.conTnParent.width();if(kb.GOM.displayArea.width==kb.GOM.displayAreaLast.width&&kb.GOM.clipArea.height==kb.GOM.displayAreaLast.height||(kb.$E.conTn.width(kb.GOM.displayArea.width).height(kb.GOM.clipArea.height),kb.GOM.displayAreaLast.width=kb.GOM.displayArea.width,kb.GOM.displayAreaLast.height=kb.GOM.clipArea.height),o!=kb.$E.conTnParent.width()&&(y(),C(a)),kb.layout.support.rows&&("ROWS"==kb.galleryDisplayMode.Get()||"FULLCONTENT"==kb.galleryDisplayMode.Get()&&kb.galleryLastRowFull.Get()&&-1!=kb.GOM.lastFullRow)&&(kb.GOM.lastDisplayedIdxNew=l<b-1?l:-1,-1!=kb.GOM.lastDisplayedIdx)){var n=kb.I[kb.GOM.items[kb.GOM.lastDisplayedIdx].thumbnailIdx];n.$getElt(".nGY2GThumbnailIconsFullThumbnail").html("")}for(var p=j.length,g=0;g<p;g++)D(j[g].idx,g);for(var r=k.length,g=0;g<r;g++)D(k[g].idx,g);"NONE"==kb.tn.opt.Get("displayTransition")?kb.galleryResizeEventEnabled=!0:setTimeout(function(){kb.galleryResizeEventEnabled=!0},p*kb.tn.opt.Get("displayInterval")),Ya("galleryDisplayed")}function D(a,b){var c=0,d=kb.GOM.items[a],e=kb.GOM.items[a].thumbnailIdx,f=kb.I[e];if(d.neverDisplayed){var g=d.top-kb.GOM.clipArea.top;kb.tn.opt.Get("stacks")>0?(f.$elt.last().css({display:"block"}),f.$elt.css({top:g,left:d.left})):f.$elt.css({display:"block",top:g,left:d.left}),c=g,N(a,b),d.displayed=!0,d.neverDisplayed=!1}else{var h=kb.GOM.cache.containerOffset.top+f.top,g=kb.GOM.cache.containerOffset.top+(d.top-kb.GOM.clipArea.top);c=d.top-kb.GOM.clipArea.top;var i=kb.GOM.cache.viewport;if(kb.O.thumbnailDisplayOutsideScreen||h+d.height>=i.t-i.h&&h<=i.t+2*i.h||g+d.height>=i.t-i.h&&g<=i.t+2*i.h)if(d.displayed){if(f.top!=d.top||f.left!=d.left)if(1==kb.O.galleryResizeAnimation){var j=new NGTweenable;j.tween({from:{top:f.top,left:f.left,height:f.height,width:f.width},to:{top:c,left:d.left,height:d.height,width:d.width},attachment:{$e:f.$elt},duration:300,delay:b*kb.tn.opt.Get("displayInterval"),easing:"easeOutQuart",step:function(a,b){b.$e.css(a)},finish:function(a,b){b.$e.css(a),this.dispose()}})}else f.$elt.css({top:c,left:d.left})}else d.displayed=!0,f.$elt.css({display:"block",top:c,left:d.left,opacity:1}),O(f);else d.displayed=!1,f.$elt.css({display:"none"})}if(f.left=d.left,f.top=c,f.width==d.width&&f.height==d.height||(f.$elt.css({width:d.width,height:d.height}),f.width=d.width,f.height=d.height,f.resizedContentWidth==d.resizedContentWidth&&f.resizedContentHeight==d.resizedContentHeight||("albumUp"==f.kind||(f.$getElt(".nGY2GThumbnailImg").css({height:d.resizedContentHeight,width:d.resizedContentWidth}),f.$getElt(".nGY2GThumbnailImage").css({height:d.resizedContentHeight,width:d.resizedContentWidth})),f.resizedContentWidth=d.resizedContentWidth,f.resizedContentHeight=d.resizedContentHeight)),kb.GOM.lastDisplayedIdxNew==a&&kb.layout.support.rows){if("ROWS"==kb.galleryDisplayMode.Get()&&kb.galleryMaxRows.Get()>0||"FULLCONTENT"==kb.galleryDisplayMode.Get()&&kb.galleryLastRowFull.Get()&&-1!=kb.GOM.lastFullRow){var k=kb.GOM.items.length-a-1;"0"!=f.albumID&&kb.O.thumbnailLevelUp&&k--}kb.O.thumbnailOpenImage&&k>0&&f.$getElt(".nGY2GThumbnailIconsFullThumbnail").html("+"+k),kb.GOM.lastDisplayedIdx=a}}function E(){var a=[],b=0;if(0==kb.O.thumbnailLabel.get("display"))return 0;var c="";1==kb.O.thumbnailLabel.get("displayDescription")&&(c="aAzZjJ"),a[b++]='<div class="nGY2GThumbnail '+kb.O.theme+'" style="display:block;visibility:hidden;position:absolute;top:-9999px;left:-9999px;" ><div class="nGY2GThumbnailSub">',1==kb.O.thumbnailLabel.get("display")&&(a[b++]='  <div class="nGY2GThumbnailLabel" '+kb.tn.style.getLabel()+">",a[b++]='    <div class="nGY2GThumbnailAlbumTitle" '+kb.tn.style.getTitle()+">aAzZjJ</div>",a[b++]='    <div class="nGY2GThumbnailDescription" '+kb.tn.style.getDesc()+">"+c+"</div>",a[b++]="  </div>"),a[b++]="</div></div>";var d=jQuery(a.join("")).appendTo(kb.$E.conTn),e=d.find(".nGY2GThumbnailLabel").outerHeight(!0);return d.remove(),e}function F(){var a=kb.tn.opt.Get("stacks");if(0==a)return"";for(var b="",c=0;c<a;c++)b='<div class="nGY2GThumbnailStack " style="display:none;"></div>'+b;return b}function G(a,b,c){var d=[],e=0;d[e++]=F()+'<div class="nGY2GThumbnail" style="display:none;opacity:0;" >',d[e++]='  <div class="nGY2GThumbnailSub">';var f=kb.tn.defaultSize.getHeight(),g=kb.tn.defaultSize.getWidth();d[e++]='    <div class="nGY2GThumbnailImage" style="width:'+g+"px;height:"+f+'px;"><img class="nGY2GThumbnailImg" src="'+kb.emptyGif+'" alt="" style="max-width:'+g+"px;max-height:"+f+'px;" ></div>',d[e++]='    <div class="nGY2GThumbnailAlbumUp" style="width:'+g+"px;height:"+f+'px;">'+kb.O.icons.thumbnailAlbumUp+"</div>",d[e++]="  </div>",d[e++]="</div>";var h=jQuery(d.join("")).appendTo(kb.$E.conTn);a.$elt=h,h.data("index",c),a.$getElt(".nGY2GThumbnailImg").data("index",c)}function H(a,b,c,d){if(a.eltTransform=[],a.eltFilter=[],a.hoverInitDone=!1,a.$Elts=[],"albumUp"==a.kind)return void G(a,b,c);var e=[],f=0;e[f++]=F()+'<div class="nGY2GThumbnail" style="display:none;opacity:0;"><div class="nGY2GThumbnailSub '+(kb.O.thumbnailSelectable&&a.selected?"nGY2GThumbnailSubSelected":"")+'">';var g=a.thumbImg().src,h=K(a),i=L(a);switch(kb.layout.engine){case"CASCADING":e[f++]='<div class="nGY2GThumbnailImage" style="width:'+kb.tn.settings.getW()+'px;"><img class="nGY2GThumbnailImg" src="'+g+'" alt="'+h+'" style="max-width:'+kb.tn.settings.getW()+'px;"></div>';break;case"JUSTIFIED":e[f++]='<div class="nGY2GThumbnailImage" style="height:'+kb.tn.settings.getH()+'px;"><img class="nGY2GThumbnailImg" src="'+g+'" alt="'+h+'" ></div>';break;default:var j="max-width:"+kb.tn.settings.getW()+"px;max-height:"+kb.tn.settings.getH()+"px;";if(1==kb.tn.opt.Get("crop")&&a.thumbImg().height>0&&a.thumbImg().width>0)if(a.thumbImg().height>a.thumbImg().width)j="width:"+kb.tn.settings.getW()+"px;";else{var k=kb.tn.settings.getH()/a.thumbImg().height,l=(kb.tn.settings.getH(),a.thumbImg().width*k);if(l>=kb.tn.settings.getW()){var m=-(a.thumbImg().width*k-kb.tn.settings.getW())/2;j="height:"+kb.tn.settings.getH()+"px;left:"+m+"px;"}else{var n=kb.tn.settings.getW()/a.thumbImg().width,o=a.thumbImg().width*n;j="width:"+o+"px;"}}e[f++]='<div class="nGY2GThumbnailImage" style="width:'+kb.tn.settings.getW()+"px;height:"+kb.tn.settings.getH()+'px;"><img class="nGY2GThumbnailImg" src="'+g+'" alt="'+h+'" style="'+j+'" ></div>'}e[f++]='<div class="nGY2GThumbnailCustomLayer"></div>',1==kb.O.thumbnailLabel.get("display")&&(e[f++]='  <div class="nGY2GThumbnailLabel" '+kb.tn.style.getLabel(a)+">","album"==a.kind?e[f++]='    <div class="nGY2GThumbnailTitle nGY2GThumbnailAlbumTitle" '+kb.tn.style.getTitle()+">"+kb.O.icons.thumbnailAlbum+h+"</div>":e[f++]='    <div class="nGY2GThumbnailTitle nGY2GThumbnailImageTitle" '+kb.tn.style.getTitle()+">"+kb.O.icons.thumbnailImage+h+"</div>",e[f++]='    <div class="nGY2GThumbnailDescription" '+kb.tn.style.getDesc()+">"+i+"</div>",e[f++]="  </div>"),e[f++]=I(a,d),e[f++]="</div>",e[f++]="</div>";var p=jQuery(e.join("")).appendTo(kb.$E.conTn);a.$elt=p,p.data("index",c),a.$getElt(".nGY2GThumbnailImg").data("index",c),"function"==typeof kb.O.fnThumbnailInit&&kb.O.fnThumbnailInit(p,a,c),"image gallery by nanogallery2 [build]"!=a.title&&P(c)}function I(a,b){var c=J(a,"topLeft");return c+=J(a,"topRight"),c+=J(a,"bottomLeft"),c+=J(a,"bottomRight"),c+='<div class="nGY2GThumbnailIconsFullThumbnail"></div>'}function J(a,b){var c="",d=kb.tn.toolbar.get(a),e={xs:0,sm:1,me:2,la:3,xl:4},f=0;if(""!=d[b]){var g="";switch(b){case"topLeft":g="top:0; left:0; text-align:left;:";break;case"bottomRight":g="bottom:0; right:0; text-align:right;";break;case"bottomLeft":g="bottom:0; left:0; text-align:left;";break;case"topRight":default:g="top:0; right:0; text-align:right;"}c+='  <ul class="nGY2GThumbnailIcons" style="'+g+'">';for(var h=d[b].split(","),i=h.length,j=0;j<i;j++){var k=h[j].replace(/^\s*|\s*$/,""),l=k.substring(0,2).toLowerCase(),m=k,n=!0;if(/xs|sm|me|la|xl/i.test(l)&&(e[l]>e[kb.GOM.curWidth]&&(n=!1),m=k.substring(2)),n){var o=j+1<i?"&nbsp;":"";switch(m){case"COUNTER":"album"==a.kind&&(c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',c+='      <div class="nGY2GThumbnailIconImageCounter"></div>',c+='      <div class="nGY2GThumbnailIconText">'+kb.O.icons.thumbnailCounter+Math.max(a.getContentLength(!1),a.numberItems)+o+"</div>",c+="    </li>",f++);break;case"COUNTER2":"album"==a.kind&&(c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',c+='      <div class="nGY2GThumbnailIconTextBadge">'+kb.O.icons.thumbnailCounter+Math.max(a.getContentLength(!1),a.numberItems)+o+"</div>",c+="    </li>",f++);break;case"SHARE":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',c+="      <div>"+kb.O.icons.thumbnailShare+"</div>",c+="    </li>",f++;break;case"DOWNLOAD":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',c+="      <div>"+kb.O.icons.thumbnailDownload+"</div>",c+="    </li>",f++;break;case"INFO":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',c+="      <div>"+kb.O.icons.thumbnailInfo+"</div>",c+="    </li>",f++;break;case"CART":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',c+="      <div>"+kb.O.icons.thumbnailCart+"</div>",c+="    </li>",f++;break;case"DISPLAY":c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="DISPLAY">',c+='      <div class="nGY2GThumbnailIconImageShare">'+kb.O.icons.thumbnailDisplay+"</div>",c+="    </li>",f++;break;case"CUSTOM1":case"CUSTOM2":case"CUSTOM3":case"CUSTOM4":case"CUSTOM5":case"CUSTOM6":case"CUSTOM7":case"CUSTOM8":case"CUSTOM9":case"CUSTOM10":var p=m.replace("CUSTOM","");c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m.toLowerCase()+'">',c+='      <div class="nGY2GThumbnailIconImageShare">'+kb.O.icons["thumbnailCustomTool"+p]+"</div>",c+="    </li>",f++;break;case"FEATURED":!0===a.featured&&(c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',c+='      <div class="nGY2GThumbnailIconImageFeatured">'+kb.O.icons.thumbnailFeatured+"</div>",c+="    </li>",f++);break;case"SELECT":1==kb.O.thumbnailSelectable&&(c+='    <li class="nGY2GThumbnailIcon" data-ngy2action="TOGGLESELECT">',!0===a.selected?c+='      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailSelected">'+kb.O.icons.thumbnailSelected+"</div>":c+='      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailUnselected">'+kb.O.icons.thumbnailUnselected+"</div>",c+="    </li>",f++)}}}c+="  </ul>"}return f>0?c:""}function K(a){var b=a.title;return 1==kb.O.thumbnailLabel.get("display")&&(void 0!==b&&0!=b.length||(b="&nbsp;"),""!=kb.i18nTranslations.thumbnailImageTitle&&(b=kb.i18nTranslations.thumbnailImageTitle),kb.O.thumbnailLabel.get("titleMaxLength")>3&&b.length>kb.O.thumbnailLabel.get("titleMaxLength")&&(b=b.substring(0,kb.O.thumbnailLabel.get("titleMaxLength"))+"...")),b}function L(a){var b="";return 1==kb.O.thumbnailLabel.get("displayDescription")&&(b="album"==a.kind?""!=kb.i18nTranslations.thumbnailImageDescription?kb.i18nTranslations.thumbnailAlbumDescription:a.description:""!=kb.i18nTranslations.thumbnailImageDescription?kb.i18nTranslations.thumbnailImageDescription:a.description,kb.O.thumbnailLabel.get("descriptionMaxLength")>3&&b.length>kb.O.thumbnailLabel.get("descriptionMaxLength")&&(b=b.substring(0,kb.O.thumbnailLabel.get("descriptionMaxLength"))+"..."),0==b.length&&(b="&nbsp;")),b}function M(a){var b=kb.tn.defaultSize.getOuterWidth(),c=0;return c="justified"==kb.O.thumbnailAlignment?Math.floor(a/b):Math.floor((a+kb.tn.opt.Get("gutterWidth"))/(b+kb.tn.opt.Get("gutterWidth"))),kb.O.maxItemsPerLine>0&&c>kb.O.maxItemsPerLine&&(c=kb.O.maxItemsPerLine),c<1&&(c=1),c}function N(a,b){var c=kb.GOM.items[a],d=kb.I[kb.GOM.items[a].thumbnailIdx];if("NONE"==kb.tn.opt.Get("displayTransition"))d.$elt.css({opacity:1}),O(d);else{if(null==d.$elt)return;var e=kb.GOM.cache.containerOffset.top+(c.top-kb.GOM.clipArea.top),f=kb.GOM.cache.viewport;if(e+(c.top-kb.GOM.clipArea.top)>=f.t-50&&e<=f.t+f.h+50){var g=b*kb.tn.opt.Get("displayInterval");return console.dir(b),console.dir(g),void("CUSTOM"==kb.tn.opt.Get("displayTransition")?"lN"==kb.GOM.curNavLevel?kb.O.fnThumbnailDisplayEffect(d.$elt,d,a,g):kb.O.fnThumbnailL1DisplayEffect(d.$elt,d,a,g):nb[kb.tn.opt.Get("displayTransition")](d,g))}d.$elt.css({opacity:1}),O(d)}}function O(a){var b=kb.tn.opt.Get("stacks");if(b>0){a.$elt.css({display:"block"});for(var c=.9,d=b-1;d>=0;d--)a.$elt.eq(d).css("opacity",c),c-=.2}}function P(a){var b=kb.GOM.items[a],c=kb.I[b.thumbnailIdx];if(null!=c.$elt){"function"==typeof kb.O.fnThumbnailHoverInit&&kb.O.fnThumbnailHoverInit($e,c,a);for(var d=kb.tn.buildInit.get(),e=0;e<d.length;e++)switch(d[e].property){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":c.CSSTransformSet(d[e].element,d[e].property,d[e].value),c.CSSTransformApply(d[e].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":c.CSSFilterSet(d[e].element,d[e].property,d[e].value),c.CSSFilterApply(d[e].element);break;default:var f=c.$getElt(d[e].element);f.css(d[e].property,d[e].value)}for(var g=kb.tn.hoverEffects.get(),e=0;e<g.length;e++)if(!0===g[e].firstKeyframe)switch(g[e].type){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":c.CSSTransformSet(g[e].element,g[e].type,g[e].from),c.CSSTransformApply(g[e].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":c.CSSFilterSet(g[e].element,g[e].type,g[e].from),c.CSSFilterApply(g[e].element);break;default:var f=c.$getElt(g[e].element);f.css(g[e].type,g[e].from)}c.hoverInitDone=!0}}function Q(){if(-1!=kb.GOM.albumIdx)for(var a=kb.GOM.items.length,b=0;b<a;b++)P(b)}function R(a){if(-1!=kb.GOM.albumIdx&&kb.galleryResizeEventEnabled){var b=kb.GOM.items[a],c=kb.I[b.thumbnailIdx];if("albumUp"!=c.kind&&null!=c.$elt){c.hovered=!0,"function"==typeof kb.O.fnThumbnailHover&&kb.O.fnThumbnailHover(c.$elt,c,a);var d=kb.tn.hoverEffects.get();try{for(var e=0;e<d.length;e++)!0===d[e].hoverin&&c.animate(d[e],0,!0)}catch(f){lb(kb,"error on hover: "+f.message)}}}}function S(){if(-1!=kb.GOM.albumIdx)for(var a=kb.GOM.items.length,b=0;b<a;b++)kb.GOM.items[b].inDisplayArea?T(b):kb.GOM.items[b].hovered=!1}function T(a){if(-1!=kb.GOM.albumIdx&&kb.galleryResizeEventEnabled){var b=kb.GOM.items[a],c=kb.I[b.thumbnailIdx];if("albumUp"!=c.kind&&c.hovered&&null!=c.$elt){c.hovered=!1,"function"==typeof kb.O.fnThumbnailHoverOut&&kb.O.fnThumbnailHoverOut(c.$elt,c,a);var d=kb.tn.hoverEffects.get();try{for(var e=0;e<d.length;e++)!0===d[e].hoverout&&c.animate(d[e],0,!1)}catch(f){lb(kb,"error on hoverOut: "+f.message)}}}}function U(a,b){console.log("#DisplayPhoto : "+b+"-"+a);var c=NGY2Item.GetIdx(kb,b);kb.GOM.curNavLevel=0==c?"l1":"lN",-1==c&&(NGY2Item.New(kb,"","",b,"0","album"),c=kb.I.length-1);var d=NGY2Item.GetIdx(kb,a);if(-1==d)return void V(b,U,a,b);console.log("#DisplayPhoto : "+d),za(d)}function V(a,b,c,d){NGY2Item.GetIdx(kb,a);switch(kb.O.kind){case"":W(b,c,d);break;default:jQuery.nanogallery2["data_"+kb.O.kind](kb,"AlbumGetContent",a,b,c,d)}}function W(a,b,c){if(void 0!==kb.O.items&&null!==kb.O.items)Y();else{if(!(kb.O.$markup.length>0))return void lb(kb,"error: no image to process.");Z(kb.O.$markup),kb.O.$markup=[]}null!==a&&void 0!==a&&a(b,c,null)}function X(a){switch(a=a.toLowerCase()){case"http://":case"https://":case"file://":return!0}return!1}function Y(){var a=!1
;kb.I[0].contentIsLoaded=!0,jQuery.each(kb.O.items,function(b,c){var d="";void 0===(d=db(c,"title"))&&(d="");var e="";void 0!==c["src"+eb().toUpperCase()]?e+=c["src"+eb().toUpperCase()]:e+=c.src,X(e)||(e=kb.O.itemsBaseURL+e);var f="";f=void 0!==c.srct&&c.srct.length>0?c.srct:e,X(f)||(f=kb.O.itemsBaseURL+f);var g="";g=void 0!==c.srct2x&&c.srct2x.length>0?c.srct2x:""!=f?f:e,X(g)||(g=kb.O.itemsBaseURL+g),""!=kb.O.thumbnailLabel.get("title")&&(d=GetImageTitle(e));var h="";void 0===(h=db(c,"description"))&&(h="");var i=db(c,"tags");void 0===i&&(i="");var j=0;void 0!==c.albumID&&(j=c.albumID,a=!0);var k=null;void 0!==c.ID&&(k=c.ID);var l="image";void 0!==c.kind&&c.kind.length>0&&(l=c.kind);var m=NGY2Item.New(kb,d,h,k,j,l,i);m.src=e,void 0!==c.destURL&&c.destURL.length>0&&(m.destinationURL=c.destURL),void 0!==c.downloadURL&&c.downloadURL.length>0&&(m.downloadURL=c.downloadURL);var n=0;void 0!==c.imgtWidth&&c.imgtWidth>0&&(n=c.imgtWidth);var o=0;void 0!==c.imgtHeight&&c.imgtHeight>0&&(o=c.imgtHeight),m.thumbs={url:{l1:{xs:f,sm:f,me:f,la:f,xl:f},lN:{xs:f,sm:f,me:f,la:f,xl:f}},width:{l1:{xs:n,sm:n,me:n,la:n,xl:n},lN:{xs:n,sm:n,me:n,la:n,xl:n}},height:{l1:{xs:o,sm:o,me:o,la:o,xl:o},lN:{xs:o,sm:o,me:o,la:o,xl:o}}},void 0!==c.imageWidth&&(m.imageWidth=c.width),void 0!==c.imageHeight&&(m.imageHeight=c.height),void 0!==c.exifModel&&(m.exif.model=c.exifModel),void 0!==c.exifFlash&&(m.exif.flash=c.exifFlash),void 0!==c.exifFocalLength&&(m.exif.focallength=c.exifFocalLength),void 0!==c.exifFStop&&(m.exif.fstop=c.exifFStop),void 0!==c.exifExposure&&(m.exif.exposure=c.exifExposure),void 0!==c.exifIso&&(m.exif.iso=c.exifIso),void 0!==c.exifTime&&(m.exif.time=c.exifTime),void 0!==c.exifLocation&&(m.exif.exifLocation=c.exifTime),null!==c.customData&&(m.customData=$(c.customData)),m.contentIsLoaded=!0,"function"==typeof kb.O.fnProcessData&&kb.O.fnProcessData(m,"api",c)})}function Z(a){var b=!1,c=0;kb.I[0].contentIsLoaded=!0,jQuery.each(a,function(a,d){var e={"data-ngdesc":"","data-ngid":null,"data-ngkind":"image","data-ngtags":null,"data-ngdest":"","data-ngthumbimgwidth":0,"data-ngthumbimgheight":0,"data-ngimagewidth":0,"data-ngimageheight":0,"data-ngexifmodel":"","data-ngexifflash":"","data-ngexiffocallength":"","data-ngexiffstop":"","data-ngexifexposure":"","data-ngexifiso":"","data-ngexiftime":"","data-ngexiflocation":""};[].forEach.call(d.attributes,function(a){e[a.name.toLowerCase()]=a.value});var f="";e.hasOwnProperty("data-ngthumb")&&(f=e["data-ngthumb"],X(f)||(f=kb.O.itemsBaseURL+f));var g="";e.hasOwnProperty("data-ngthumb2x")&&(g=e["data-ngthumb2x"],X(g)||(g=kb.O.itemsBaseURL+g));var h="",i=eb().toUpperCase();e.hasOwnProperty("data-ngsrc"+i)&&(h=e["data-ngsrc"+i]),""==h&&(h=e.href),X(h)||(h=kb.O.itemsBaseURL+h);var j=e["data-ngdesc"],k=e["data-ngid"],l=e["data-ngkind"],m=e["data-ngtags"],n="0";e.hasOwnProperty("data-ngalbumid")&&(n=e["data-ngalbumid"],b=!0);var o=jQuery(d).text();""!=kb.O.thumbnailLabel.get("title")&&void 0!=kb.O.thumbnailLabel.get("title")&&(o=GetImageTitle(h));var p=NGY2Item.New(kb,o,j,k,n,l,m);""!=o&&c++,p.src=h,p.destinationURL=e["data-ngdest"],p.downloadURL=e["data-ngdownloadurl"];var q=parseInt(e["data-ngthumbimgwidth"]),r=parseInt(e["data-ngthumbimgheight"]);p.thumbs={url:{l1:{xs:f,sm:f,me:f,la:f,xl:f},lN:{xs:f,sm:f,me:f,la:f,xl:f}},width:{l1:{xs:q,sm:q,me:q,la:q,xl:q},lN:{xs:q,sm:q,me:q,la:q,xl:q}},height:{l1:{xs:r,sm:r,me:r,la:r,xl:r},lN:{xs:r,sm:r,me:r,la:r,xl:r}}},p.imageWidth=parseInt(e["data-ngimagewidth"]),p.imageHeight=parseInt(e["data-ngimageheight"]),p.exif.model=e["data-ngexifmodel"],p.exif.flash=e["data-ngexifflash"],p.exif.focallength=e["data-ngexiffocallength"],p.exif.fstop=e["data-ngexiffstop"],p.exif.exposure=e["data-ngexifexposure"],p.exif.iso=e["data-ngexifiso"],p.exif.time=e["data-ngexiftime"],p.exif.location=e["data-ngexiflocation"],p.contentIsLoaded=!0,void 0!==jQuery(d).data("customdata")&&(p.customData=$(jQuery(d).data("customdata"))),void 0!==jQuery(d).data("ngcustomdata")&&(p.customData=$(jQuery(d).data("ngcustomdata"))),"function"==typeof kb.O.fnProcessData&&kb.O.fnProcessData(p,"markup",d)}),0==c&&(kb.O.thumbnailLabel.display=!1)}function $(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=$(a[c]);return b}function _(){if("PICASA"==kb.O.kind.toUpperCase()&&(kb.O.kind="google2"),"GOOGLE"==kb.O.kind.toUpperCase()&&(kb.O.kind="google2"),kb.GOM.curWidth=eb(),jQuery.extend(!0,kb.tn.toolbar.image,kb.O.thumbnailToolbarImage),jQuery.extend(!0,kb.tn.toolbar.album,kb.O.thumbnailToolbarAlbum),kb.tn.toolbar.image.topLeft=kb.tn.toolbar.image.topLeft.toUpperCase(),kb.tn.toolbar.album.topLeft=kb.tn.toolbar.album.topLeft.toUpperCase(),kb.tn.toolbar.image.topRight=kb.tn.toolbar.image.topRight.toUpperCase(),kb.tn.toolbar.album.topRight=kb.tn.toolbar.album.topRight.toUpperCase(),kb.tn.toolbar.image.bottomLeft=kb.tn.toolbar.image.bottomLeft.toUpperCase(),kb.tn.toolbar.album.bottomLeft=kb.tn.toolbar.album.bottomLeft.toUpperCase(),kb.tn.toolbar.image.bottomRight=kb.tn.toolbar.image.bottomRight.toUpperCase(),kb.tn.toolbar.album.bottomRight=kb.tn.toolbar.album.bottomRight.toUpperCase(),kb.O.thumbnailLabel.get=function(a){return"l1"==kb.GOM.curNavLevel&&void 0!==kb.O.thumbnailL1Label&&void 0!==kb.O.thumbnailL1Label[a]?kb.O.thumbnailL1Label[a]:kb.O.thumbnailLabel[a]},kb.O.thumbnailLabel.set=function(a,b){"l1"==kb.GOM.curNavLevel&&void 0!==kb.O.thumbnailL1Label&&void 0!==kb.O.thumbnailL1Label[a]?kb.O.thumbnailL1Label[a]=b:kb.O.thumbnailLabel[a]=b},""!=kb.O.blackList&&(kb.blackList=kb.O.blackList.toUpperCase().split("|")),""!=kb.O.whiteList&&(kb.whiteList=kb.O.whiteList.toUpperCase().split("|")),void 0!==kb.O.albumList2&&null!==kb.O.albumList2&&kb.O.albumList2.constructor===Array)for(var a=kb.O.albumList2.length,b=0;b<a;b++)-1!==kb.O.albumList2[b].indexOf("&authkey")||-1!==kb.O.albumList2[b].indexOf("?authkey")?kb.albumListHidden.push(kb.O.albumList2[b]):kb.albumList.push(kb.O.albumList2[b]);if(void 0!==kb.O.albumList2&&"string"==typeof kb.O.albumList2&&(-1!==kb.O.albumList2.indexOf("&authkey")?kb.albumListHidden.push(kb.O.albumList2):kb.albumList.push(kb.O.albumList2)),kb.albumListHidden.length>0&&(kb.O.locationHash=!1),"boolean"==typeof kb.O.thumbnailCrop&&(kb.tn.opt.lN.crop=kb.O.thumbnailCrop,kb.tn.opt.l1.crop=kb.O.thumbnailCrop),void 0!==kb.O.thumbnailL1Crop&&null!=kb.O.thumbnailL1Crop&&""!=kb.O.thumbnailL1Crop&&(kb.tn.opt.l1.crop=kb.O.thumbnailL1Crop),"number"==pb(kb.O.thumbnailStacks)&&kb.O.thumbnailStacks>0&&(kb.tn.opt.lN.stacks=kb.O.thumbnailStacks,kb.tn.opt.l1.stacks=kb.O.thumbnailStacks),"number"==pb(kb.O.thumbnailL1Stacks)&&kb.O.thumbnailL1Stacks>0&&(kb.tn.opt.l1.stacks=kb.O.thumbnailL1Stacks),"number"==pb(kb.O.thumbnailStacksTranslateX)&&(kb.tn.opt.lN.stacksTranslateX=kb.O.thumbnailStacksTranslateX,kb.tn.opt.l1.stacksTranslateX=kb.O.thumbnailStacksTranslateX),"number"==pb(kb.O.thumbnailL1StacksTranslateX)&&(kb.tn.opt.l1.stacksTranslateX=kb.O.thumbnailL1StacksTranslateX),"number"==pb(kb.O.thumbnailStacksTranslateY)&&(kb.tn.opt.lN.stacksTranslateY=kb.O.thumbnailStacksTranslateY,kb.tn.opt.l1.stacksTranslateY=kb.O.thumbnailStacksTranslateY),"number"==pb(kb.O.thumbnailL1StacksTranslateY)&&(kb.tn.opt.l1.stacksTranslateY=kb.O.thumbnailL1StacksTranslateY),"number"==pb(kb.O.thumbnailStacksTranslateZ)&&(kb.tn.opt.lN.stacksTranslateZ=kb.O.thumbnailStacksTranslateZ,kb.tn.opt.l1.stacksTranslateZ=kb.O.thumbnailStacksTranslateZ),"number"==pb(kb.O.thumbnailL1StacksTranslateZ)&&(kb.tn.opt.l1.stacksTranslateZ=kb.O.thumbnailL1StacksTranslateZ),"number"==pb(kb.O.thumbnailStacksRotateX)&&(kb.tn.opt.lN.stacksRotateX=kb.O.thumbnailStacksRotateX,kb.tn.opt.l1.stacksRotateX=kb.O.thumbnailStacksRotateX),"number"==pb(kb.O.thumbnailL1StacksRotateX)&&(kb.tn.opt.l1.stacksRotateX=kb.O.thumbnailL1StacksRotateX),"number"==pb(kb.O.thumbnailStacksRotateY)&&(kb.tn.opt.lN.stacksRotateY=kb.O.thumbnailStacksRotateY,kb.tn.opt.l1.stacksRotateY=kb.O.thumbnailStacksRotateY),"number"==pb(kb.O.thumbnailL1StacksRotateY)&&(kb.tn.opt.l1.stacksRotateY=kb.O.thumbnailL1StacksRotateY),"number"==pb(kb.O.thumbnailStacksRotateZ)&&(kb.tn.opt.lN.stacksRotateZ=kb.O.thumbnailStacksRotateZ,kb.tn.opt.l1.stacksRotateZ=kb.O.thumbnailStacksRotateZ),"number"==pb(kb.O.thumbnailL1StacksRotateZ)&&(kb.tn.opt.l1.stacksRotateZ=kb.O.thumbnailL1StacksRotateZ),"number"==pb(kb.O.thumbnailStacksScale)&&(kb.tn.opt.lN.stacksScale=kb.O.thumbnailStacksScale,kb.tn.opt.l1.stacksScale=kb.O.thumbnailStacksScale),"number"==pb(kb.O.thumbnailL1StacksScale)&&(kb.tn.opt.l1.stacksScale=kb.O.thumbnailL1StacksScale),"number"==pb(kb.O.thumbnailGutterWidth)&&kb.O.thumbnailGutterWidth>0&&(kb.tn.opt.lN.gutterWidth=kb.O.thumbnailGutterWidth,kb.tn.opt.l1.gutterWidth=kb.O.thumbnailGutterWidth),"number"==pb(kb.O.thumbnailL1GutterWidth)&&kb.O.thumbnailL1GutterWidth>0&&(kb.tn.opt.l1.gutterWidth=kb.O.thumbnailL1GutterWidth),"number"==pb(kb.O.thumbnailGutterHeight)&&kb.O.thumbnailGutterHeight>0&&(kb.tn.opt.lN.gutterHeight=kb.O.thumbnailGutterHeight,kb.tn.opt.l1.gutterHeight=kb.O.thumbnailGutterHeight),"number"==pb(kb.O.thumbnailL1GutterHeight)&&kb.O.thumbnailL1GutterHeight>0&&(kb.tn.opt.l1.gutterHeight=kb.O.thumbnailL1GutterHeight),void 0!==kb.O.galleryDisplayMode&&""!=kb.O.galleryDisplayMode&&(kb.galleryDisplayMode.lN=kb.O.galleryDisplayMode.toUpperCase(),kb.galleryDisplayMode.l1=kb.O.galleryDisplayMode.toUpperCase()),void 0!==kb.O.galleryL1DisplayMode&&null!=kb.O.galleryL1DisplayMode&&""!=kb.O.galleryL1DisplayMode&&(kb.galleryDisplayMode.l1=kb.O.galleryL1DisplayMode.toUpperCase()),"number"==pb(kb.O.galleryMaxRows)&&kb.O.galleryMaxRows>=0?(kb.galleryMaxRows.lN=kb.O.galleryMaxRows,kb.galleryMaxRows.l1=kb.O.galleryMaxRows):mb(kb,'Parameter "galleryMaxRows" must be an integer.'),"number"==pb(kb.O.galleryL1MaxRows)&&kb.O.galleryL1MaxRows>=0&&(kb.galleryMaxRows.l1=kb.O.galleryL1MaxRows),void 0!==kb.O.galleryLastRowFull&&null!=kb.O.galleryLastRowFull&&(kb.galleryLastRowFull.lN=kb.O.galleryLastRowFull,kb.galleryLastRowFull.l1=kb.O.galleryLastRowFull),void 0!==kb.O.galleryL1LastRowFull&&null!=kb.O.galleryL1LastRowFull&&(kb.galleryLastRowFull.l1=kb.O.galleryL1LastRowFull),void 0!==kb.O.gallerySorting&&null!=kb.O.gallerySorting&&(kb.gallerySorting.lN=kb.O.gallerySorting.toUpperCase(),kb.gallerySorting.l1=kb.gallerySorting.lN),void 0!==kb.O.galleryL1Sorting&&null!=kb.O.galleryL1Sorting&&(kb.gallerySorting.l1=kb.O.galleryL1Sorting.toUpperCase()),"number"==pb(kb.O.galleryMaxItems)&&kb.O.galleryMaxItems>=0&&(kb.galleryMaxItems.lN=kb.O.galleryMaxItems,kb.galleryMaxItems.l1=kb.O.galleryMaxItems),"number"==pb(kb.O.galleryL1MaxItems)&&kb.O.galleryL1MaxItems>=0&&(kb.galleryMaxItems.l1=kb.O.galleryL1MaxItems),kb.galleryFilterTags.lN=kb.O.galleryFilterTags,kb.galleryFilterTags.l1=kb.O.galleryFilterTags,null!=kb.O.galleryL1FilterTags&&void 0!=kb.O.galleryL1FilterTags&&(kb.galleryFilterTags.l1=kb.O.galleryL1FilterTags),kb.O.galleryPaginationMode=kb.O.galleryPaginationMode.toUpperCase(),"number"==pb(kb.O.slideshowDelay)&&kb.O.slideshowDelay>=2e3?kb.VOM.slideshowDelay=kb.O.slideshowDelay:mb(kb,'Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"number"==pb(kb.O.thumbnailDisplayInterval)&&kb.O.thumbnailDisplayInterval>=0?(kb.tn.opt.lN.displayInterval=kb.O.thumbnailDisplayInterval,kb.tn.opt.l1.displayInterval=kb.O.thumbnailDisplayInterval):mb(kb,'Parameter "thumbnailDisplayInterval" must be an integer.'),"boolean"==typeof kb.O.thumbnailDisplayTransition&&(!0===kb.O.thumbnailDisplayTransition?(kb.tn.opt.lN.displayTransition="FADEIN",kb.tn.opt.l1.displayTransition="FADEIN"):(kb.tn.opt.lN.displayTransition="NONE",kb.tn.opt.l1.displayTransition="NONE")),"function"==typeof kb.O.fnThumbnailDisplayEffect&&(kb.tn.opt.lN.displayTransition="CUSTOM",kb.tn.opt.l1.displayTransition="CUSTOM"),"function"==typeof kb.O.fnThumbnailL1DisplayEffect&&(kb.tn.opt.l1.displayTransition="CUSTOM"),"string"==typeof kb.O.thumbnailDisplayTransition){var c=kb.O.thumbnailDisplayTransition.split("_");1==c.length&&(kb.tn.opt.lN.displayTransition=kb.O.thumbnailDisplayTransition.toUpperCase(),kb.tn.opt.l1.displayTransition=kb.O.thumbnailDisplayTransition.toUpperCase()),2==c.length&&(kb.tn.opt.lN.displayTransition=c[0].toUpperCase(),kb.tn.opt.l1.displayTransition=c[0].toUpperCase(),kb.tn.opt.lN.displayTransitionStartVal=Number(c[1]),kb.tn.opt.l1.displayTransitionStartVal=Number(c[1])),3==c.length&&(kb.tn.opt.lN.displayTransition=c[0].toUpperCase(),kb.tn.opt.l1.displayTransition=c[0].toUpperCase(),kb.tn.opt.lN.displayTransitionStartVal=Number(c[1]),kb.tn.opt.l1.displayTransitionStartVal=Number(c[1]),kb.tn.opt.lN.displayTransitionEasing=c[2],kb.tn.opt.l1.displayTransitionEasing=c[2])}if("string"==typeof kb.O.thumbnailL1DisplayTransition){var c=kb.O.thumbnailL1DisplayTransition.split("_");1==c.length&&(kb.tn.opt.l1.displayTransition=kb.O.thumbnailL1DisplayTransition.toUpperCase()),2==c.length&&(kb.tn.opt.l1.displayTransition=c[0].toUpperCase(),kb.tn.opt.l1.displayTransitionStartVal=Number(c[1])),3==c.length&&(kb.tn.opt.l1.displayTransition=c[0].toUpperCase(),kb.tn.opt.l1.displayTransitionStartVal=Number(c[1]),kb.tn.opt.l1.displayTransitionEasing=c[2])}if(void 0!==kb.O.thumbnailDisplayTransitionDuration&&null!=kb.O.thumbnailDisplayTransitionDuration&&(kb.tn.opt.lN.displayTransitionDuration=kb.O.thumbnailDisplayTransitionDuration,kb.tn.opt.l1.displayTransitionDuration=kb.O.thumbnailDisplayTransitionDuration),void 0!==kb.O.thumbnailL1DisplayTransitionDuration&&null!=kb.O.thumbnailL1DisplayTransitionDuration&&(kb.tn.opt.l1.displayTransitionDuration=kb.O.thumbnailL1DisplayTransitionDuration),void 0!==kb.O.thumbnailDisplayInterval&&null!=kb.O.thumbnailDisplayInterval&&(kb.tn.opt.lN.displayInterval=kb.O.thumbnailDisplayInterval,kb.tn.opt.l1.displayInterval=kb.O.thumbnailDisplayInterval),void 0!==kb.O.thumbnailL1DisplayInterval&&null!=kb.O.thumbnailL1DisplayInterval&&(kb.tn.opt.l1.displayInterval=kb.O.thumbnailL1DisplayInterval),void 0!==kb.O.thumbnailSizeSM&&(kb.O.breakpointSizeSM=kb.O.thumbnailSizeSM),void 0!==kb.O.thumbnailSizeME&&(kb.O.breakpointSizeME=kb.O.thumbnailSizeME),void 0!==kb.O.thumbnailSizeLA&&(kb.O.breakpointSizeLA=kb.O.thumbnailSizeLA),void 0!==kb.O.thumbnailSizeXL&&(kb.O.breakpointSizeXL=kb.O.thumbnailSizeXL),void 0!==kb.O.thumbnailL1BuildInit2)for(var d=kb.O.thumbnailL1BuildInit2.split("|"),b=0;b<d.length;b++){var e=d[b].split("_");if(3==e.length){var f=ea();f.element=ba(e[0],""),f.property=e[1],f.value=e[2],kb.tn.buildInit.level1.push(f)}}if(void 0!==kb.O.thumbnailBuildInit2)for(var d=kb.O.thumbnailBuildInit2.split("|"),b=0;b<d.length;b++){var e=d[b].split("_");if(3==e.length){var f=ea();f.element=ba(e[0],""),f.property=e[1],f.value=e[2],kb.tn.buildInit.std.push(f)}}var g=kb.O.thumbnailL1HoverEffect2;if(void 0!==g)switch(pb(g)){case"string":for(var h=g.split("|"),b=0;b<h.length;b++){var i=da();i=aa(h[b].trim(),i),null!=i&&kb.tn.hoverEffects.level1.push(i)}break;case"object":var i=da();i=jQuery.extend(i,g),i=aa(i.name,i),null!=i&&kb.tn.hoverEffects.level1.push(i);break;case"array":for(var b=0;b<g.length;b++){var i=da();i=jQuery.extend(i,g[b]),i=aa(i.name,i),null!=i&&kb.tn.hoverEffects.level1.push(i)}break;case"null":break;default:lb(kb,'incorrect parameter for "thumbnailL1HoverEffect2".')}kb.tn.hoverEffects.level1=ca(kb.tn.hoverEffects.level1);var j=kb.O.thumbnailHoverEffect2;switch(pb(j)){case"string":for(var h=j.split("|"),b=0;b<h.length;b++){var i=da();i=aa(h[b].trim(),i),null!=i&&kb.tn.hoverEffects.std.push(i)}break;case"object":var i=da();i=jQuery.extend(i,j),i=aa(i.name,i),null!=i&&kb.tn.hoverEffects.std.push(i);break;case"array":for(var b=0;b<j.length;b++){var i=da();i=jQuery.extend(i,j[b]),i=aa(i.name,i),null!=i&&kb.tn.hoverEffects.std.push(i)}break;case"null":break;default:lb(kb,'incorrect parameter for "thumbnailHoverEffect2".')}if(kb.tn.hoverEffects.std=ca(kb.tn.hoverEffects.std),0==kb.tn.hoverEffects.std.length&&(0==kb.tn.hoverEffects.level1.length&&(kb.O.touchAnimationL1=!1),kb.O.touchAnimation=!1),0!=kb.O.thumbnailHeight&&""!=kb.O.thumbnailHeight||(kb.O.thumbnailHeight="auto"),0!=kb.O.thumbnailWidth&&""!=kb.O.thumbnailWidth||(kb.O.thumbnailWidth="auto"),0!=kb.O.thumbnailL1Height&&""!=kb.O.thumbnailL1Height||(kb.O.thumbnailL1Height="auto"),0!=kb.O.thumbnailL1Width&&""!=kb.O.thumbnailL1Width||(kb.O.thumbnailL1Width="auto"),"number"==pb(kb.O.thumbnailWidth))ga("width","l1",kb.O.thumbnailWidth,"u"),ga("width","lN",kb.O.thumbnailWidth,"u");else{var k=kb.O.thumbnailWidth.split(" "),l="auto";"auto"!=k[0].substring(0,4)&&(l=parseInt(k[0]));var m="u";"C"==k[0].charAt(k[0].length-1)&&(m="c"),ga("width","l1",l,m),ga("width","lN",l,m);for(var b=1;b<k.length;b++){var n=k[b].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(n)){var o=k[b].substring(2),l="auto";"auto"!=o.substring(0,4)&&(l=parseInt(o));var m="u";"C"==o.charAt(o.length-1)&&(m="c"),kb.tn.settings.width.l1[n]=l,kb.tn.settings.width.lN[n]=l,kb.tn.settings.width.l1[n+"c"]=m,kb.tn.settings.width.lN[n+"c"]=m}}}if(void 0!=kb.O.thumbnailL1Width)if("number"==pb(kb.O.thumbnailL1Width))ga("width","l1",kb.O.thumbnailL1Width,"u");else{var k=kb.O.thumbnailL1Width.split(" "),l="auto";"auto"!=k[0].substring(0,4)&&(l=parseInt(k[0]));var m="u";"C"==k[0].charAt(k[0].length-1)&&(m="c"),ga("width","l1",l,m);for(var b=1;b<k.length;b++){var n=k[b].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(n)){var o=k[b].substring(2),l="auto";"auto"!=o.substring(0,4)&&(l=parseInt(o));var m="u";"C"==o.charAt(o.length-1)&&(m="c"),kb.tn.settings.width.l1[n]=l,kb.tn.settings.width.l1[n+"c"]=m}}}if("number"==pb(kb.O.thumbnailHeight))ga("height","l1",kb.O.thumbnailHeight,"u"),ga("height","lN",kb.O.thumbnailHeight,"u");else{var k=kb.O.thumbnailHeight.split(" "),l="auto";"auto"!=k[0].substring(0,4)&&(l=parseInt(k[0]));var m="u";"C"==k[0].charAt(k[0].length-1)&&(m="c"),ga("height","l1",l,m),ga("height","lN",l,m);for(var b=1;b<k.length;b++){var n=k[b].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(n)){var o=k[b].substring(2),l="auto";"auto"!=o.substring(0,4)&&(l=parseInt(o));var m="u";"C"==o.charAt(o.length-1)&&(m="c"),kb.tn.settings.height.l1[n]=l,kb.tn.settings.height.lN[n]=l,kb.tn.settings.height.l1[n+"c"]=m,kb.tn.settings.height.lN[n+"c"]=m}}}if(void 0!=kb.O.thumbnailL1Height)if("number"==pb(kb.O.thumbnailL1Height))ga("height","l1",kb.O.thumbnailL1Height,"u");else{var k=kb.O.thumbnailL1Height.split(" "),l="auto";"auto"!=k[0].substring(0,4)&&(l=parseInt(k[0]));var m="u";"C"==k[0].charAt(k[0].length-1)&&(m="c"),ga("height","l1",l,m);for(var b=1;b<k.length;b++){var n=k[b].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(n)){var o=k[b].substring(2),l="auto";"auto"!=o.substring(0,4)&&(l=parseInt(o));var m="u";"C"==o.charAt(o.length-1)&&(m="c"),kb.tn.settings.height.l1[n]=l,kb.tn.settings.height.l1[n+"c"]=m}}}switch(kb.O.thumbnailBorderHorizontal=parseInt(kb.O.thumbnailBorderHorizontal),kb.O.thumbnailBorderVertical=parseInt(kb.O.thumbnailBorderVertical),kb.O.thumbnailLabelHeight=parseInt(kb.O.thumbnailLabelHeight),kb.layout.SetEngine(),kb.O.kind){case"":break;default:jQuery.nanogallery2["data_"+kb.O.kind](kb,"Init")}}function aa(a,b){var c=["easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","bounce"],d=a.split("_");if(d.length>=4){if(b.name="",b.type=d[1],b.from=d[2],b.to=d[3],d.length>=5)for(var e=4;e<d.length;e++){for(var f=d[e],g=!1,h=0;h<c.length;h++)if(f==c[h]){g=!0,b.easing=f;break}if(!0!==g)if("HOVERIN"!=(f=f.toUpperCase()))if("HOVEROUT"!=f)if("KEYFRAME"!=f){var i=parseInt(f.replace(/[^0-9\.]/g,""),10);if(i>0){if(f.indexOf("DURATION")>=0){b.duration=i;continue}if(f.indexOf("DURATIONBACK")>=0){b.durationBack=i;continue}if(f.indexOf("DELAY")>=0){b.delay=i;continue}if(f.indexOf("DELAYBACK")>=0){b.delayBack=i;continue}b.duration=i}}else b.firstKeyframe=!1;else b.hoverin=!1;else b.hoverout=!1}b.element=ba(d[0],b.type)}else b.name=a;return b}function ba(a,b){var c=a;switch(a){case"image":c="blur"==b||"brightness"==b||"grayscale"==b||"sepia"==b||"contrast"==b||"opacity"==b||"saturate"==b?".nGY2GThumbnailImg":".nGY2GThumbnailImage";break;case"thumbnail":c=".nGY2GThumbnail";break;case"label":c=".nGY2GThumbnailLabel";break;case"title":c=".nGY2GThumbnailTitle";break;case"description":c=".nGY2GThumbnailDescription";break;case"tools":c=".nGY2GThumbnailIcons";break;case"customlayer":c=".nGY2GThumbnailCustomLayer"}return c}function ca(a){for(var b=[],c=0;c<a.length;c++)switch(a[c].name.toUpperCase()){case"BORDERLIGHTER":var d=tinycolor(ha().thumbnail.borderColor);name="thumbnail_borderColor_"+d.toRgbString()+"_"+d.lighten(50).toRgbString(),b.push(aa(name,a[c]));break;case"BORDERDARKER":var d=tinycolor(ha().thumbnail.borderColor);name="thumbnail_borderColor_"+d.toRgbString()+"_"+d.darken(50).toRgbString(),b.push(aa(name,a[c]));break;case"SCALE120":b.push(aa("thumbnail_scale_1.00_1.20",a[c]));break;case"LABELAPPEAR":case"LABELAPPEAR75":b.push(aa("label_opacity_0.00_1.00",a[c]));break;case"TOOLSAPPEAR":b.push(aa("tools_opacity_0_1",a[c]));break;case"TOOLSSLIDEDOWN":b.push(aa("tools_translateY_-100%_0%",a[c]));break;case"TOOLSSLIDEUP":b.push(aa("tools_translateY_100%_0%",a[c]));break;case"LABELOPACITY50":b.push(aa("label_opacity_1.00_0.50",a[c]));break;case"SCALELABELOVERIMAGE":b.push(aa("label_scale_0.00_1.00",a[c]));var e=$(a[c]);b.push(aa("image_scale_1.00_0.00",e));break;case"OVERSCALE":case"OVERSCALEOUTSIDE":name="label_scale_0_100",b.push(aa("label_scale_2.00_1.00",a[c]));var e=$(a[c]);b.push(aa("label_opacity_0.00_1.00",e)),e=$(a[c]),b.push(aa("image_scale_1.00_0.00",e)),e=$(a[c]),b.push(aa("image_opacity_1.00_0.00",e));break;case"DESCRIPTIONAPPEAR":b.push(aa("description_opacity_0_1",a[c]));break;case"SLIDERIGHT":b.push(aa("image_translateX_0%_100%",a[c])),b.push(aa("label_translateX_-100%_0%",$(a[c])));break;case"SLIDELEFT":b.push(aa("image_translateX_0%_-100%",a[c])),b.push(aa("label_translateX_100%_0%",$(a[c])));break;case"SLIDEUP":b.push(aa("image_translateY_0%_-100%",a[c])),b.push(aa("label_translateY_100%_0%",$(a[c])));break;case"SLIDEDOWN":b.push(aa("image_translateY_0%_100%",a[c])),b.push(aa("label_translateY_-100%_0%",$(a[c])));break;case"IMAGESCALE150":case"IMAGESCALE150OUTSIDE":b.push(aa("image_scale_1.00_1.50",a[c]));break;case"IMAGESCALEIN80":b.push(aa("image_scale_1.20_1.00",a[c]));break;case"IMAGESLIDERIGHT":b.push(aa("image_translateX_0%_100%",a[c]));break;case"IMAGESLIDELEFT":b.push(aa("image_translateX_0%_-100%",a[c]));break;case"IMAGESLIDEUP":b.push(aa("image_translateY_0%_-100%",a[c]));break;case"IMAGESLIDEDOWN":b.push(aa("image_translateY_0%_100%",a[c]));break;case"LABELSLIDEUP":case"LABELSLIDEUPTOP":b.push(aa("label_translateY_100%_0%",a[c]));break;case"LABELSLIDEUPDOWN":b.push(aa("label_translateY_0%_100%",a[c]));break;case"DESCRIPTIONSLIDEUP":b.push(aa("description_translateY_110%_0%",a[c]));break;case"IMAGEBLURON":b.push(aa("image_blur_2.00px_0.00px",a[c]));break;case"IMAGEBLUROFF":b.push(aa("image_blur_0.00px_2.00px",a[c]));break;case"IMAGEGRAYON":b.push(aa("image_grayscale_0%_100%",a[c]));break;case"IMAGEGRAYOFF":b.push(aa("image_grayscale_100%_0%",a[c]));break;case"IMAGESEPIAON":b.push(aa("image_sepia_100%_1%",a[c]));break;case"IMAGESEPIAOFF":b.push(aa("image_sepia_1%_100%",a[c]));break;default:b.push(a[c])}return b}function $(a){if(null===a||"object"!=typeof a)return a;var b=a.constructor();for(var c in a)b[c]=$(a[c]);return b}function da(){return{name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null}}function ea(){return{element:"",property:"",value:""}}function fa(){switch(kb.O.thumbnailLabel.position){case"onBottom":kb.tn.style.lN.annotation="top:0; position:relative;",kb.tn.style.l1.annotation="top:0; position:relative;","CASCADING"==kb.layout.engine&&(kb.tn.style.lN.label="top:auto; bottom:0; position:relative;",kb.tn.style.l1.label="top:auto; bottom:0; position:relative;",kb.O.thumbnailLabel.titleMultiLine&&(kb.tn.style.lN.title="white-space:normal;",kb.tn.style.l1.title="white-space:normal;"),kb.O.thumbnailLabel.descriptionMultiLine&&(kb.tn.style.lN.desc="white-space:normal;",kb.tn.style.l1.desc="white-space:normal;"));break;case"overImageOnTop":kb.tn.style.lN.annotation="top:0; bottom:0;",kb.tn.style.l1.annotation="top:0; bottom:0;",kb.tn.style.l1.label="top:0; position:absolute;",kb.tn.style.lN.label="top:0; position:absolute;",kb.O.thumbnailLabel.titleMultiLine&&(kb.tn.style.lN.title="white-space:normal;",kb.tn.style.l1.title="white-space:normal;"),kb.O.thumbnailLabel.descriptionMultiLine&&(kb.tn.style.lN.desc="white-space:normal;",kb.tn.style.l1.desc="white-space:normal;");break;case"overImageOnMiddle":kb.tn.style.lN.annotation="top:0; bottom:0;",kb.tn.style.lN.label="top:0; bottom:0;",kb.tn.style.l1.annotation="top:0; bottom:0;",kb.tn.style.l1.label="top:0; bottom:0;",kb.tn.style.lN.title="position:absolute; bottom:50%;",kb.tn.style.l1.title="position:absolute; bottom:50%;",kb.tn.style.lN.desc="position:absolute; top:50%;",kb.tn.style.l1.desc="position:absolute; top:50%;",kb.O.thumbnailLabel.titleMultiLine&&(kb.tn.style.lN.title+="white-space:normal;",kb.tn.style.l1.title+="white-space:normal;"),kb.O.thumbnailLabel.descriptionMultiLine&&(kb.tn.style.lN.desc+="white-space:normal;",kb.tn.style.l1.desc+="white-space:normal;");break;case"custom":break;case"overImageOnBottom":default:kb.O.thumbnailLabel.position="overImageOnBottom",kb.tn.style.lN.annotation="bottom:0;",kb.tn.style.lN.label="bottom:0; position:absolute;",kb.tn.style.l1.annotation="bottom:0;",kb.tn.style.l1.label="bottom:0; position:absolute;",kb.O.thumbnailLabel.titleMultiLine&&(kb.tn.style.lN.title="white-space:normal;",kb.tn.style.l1.title="white-space:normal;"),kb.O.thumbnailLabel.descriptionMultiLine&&(kb.tn.style.lN.desc="white-space:normal;",kb.tn.style.l1.desc="white-space:normal;")}switch(kb.O.thumbnailLabel.align){case"right":kb.tn.style.l1.label+="text-align:right;",kb.tn.style.lN.label+="text-align:right;";break;case"left":kb.tn.style.l1.label+="text-align:left;",kb.tn.style.lN.label+="text-align:left;";break;default:kb.tn.style.l1.label+="text-align:center;",kb.tn.style.lN.label+="text-align:center;"}if(void 0!=kb.O.thumbnailLabel.titleFontSize&&""!=kb.O.thumbnailLabel.titleFontSize&&(kb.tn.style.lN.title+="font-size:"+kb.O.thumbnailLabel.titleFontSize+";",kb.tn.style.l1.title+="font-size:"+kb.O.thumbnailLabel.titleFontSize+";"),void 0!=kb.O.thumbnailLabel.descriptionFontSize&&""!=kb.O.thumbnailLabel.descriptionFontSize&&(kb.tn.style.lN.desc+="font-size:"+kb.O.thumbnailLabel.descriptionFontSize+";",kb.tn.style.l1.desc+="font-size:"+kb.O.thumbnailLabel.descriptionFontSize+";"),kb.O.thumbnailL1Label&&kb.O.thumbnailL1Label.display){switch(kb.O.thumbnailL1Label.position){case"onBottom":kb.tn.style.l1.annotation="top:0; position:relative;","CASCADING"==kb.layout.engine&&(kb.tn.style.l1.label="top:auto; bottom:0;",kb.O.thumbnailL1Label.titleMultiLine&&(kb.tn.style.l1.title="white-space:normal;"),kb.O.thumbnailL1Label.descriptionMultiLine&&(kb.tn.style.l1.desc="white-space:normal;"));break;case"overImageOnTop":kb.tn.style.l1.annotation="top:0; bottom:0;",kb.tn.style.l1.label="top:0; bottom:0;",kb.O.thumbnailL1Label.titleMultiLine&&(kb.tn.style.l1.title="white-space:normal;"),kb.O.thumbnailL1Label.descriptionMultiLine&&(kb.tn.style.l1.desc="white-space:normal;");break;case"overImageOnMiddle":kb.tn.style.l1.annotation="top:0; bottom:0;",kb.tn.style.l1.label="top:0; bottom:0;",kb.tn.style.l1.title="position:absolute; bottom:50%;",kb.tn.style.l1.desc="position:absolute; top:50%;",kb.O.thumbnailL1Label.titleMultiLine&&(kb.tn.style.l1.title+="white-space:normal;"),kb.O.thumbnailL1Label.descriptionMultiLine&&(kb.tn.style.l1.desc+="white-space:normal;");break;case"custom":kb.tn.style.l1.annotation="",kb.O.thumbnailL1Label.titleMultiLine&&(kb.tn.style.l1.title="white-space:normal;"),kb.O.thumbnailL1Label.descriptionMultiLine&&(kb.tn.style.l1.desc="white-space:normal;");break;case"overImageOnBottom":default:kb.O.thumbnailL1Label.position="overImageOnBottom",kb.tn.style.l1.annotation="bottom:0;",kb.tn.style.l1.label="bottom:0;",kb.O.thumbnailL1Label.titleMultiLine&&(kb.tn.style.l1.title="white-space:normal;"),kb.O.thumbnailL1Label.descriptionMultiLine&&(kb.tn.style.l1.desc="white-space:normal;")}switch(kb.O.thumbnailL1Label.align){case"right":kb.tn.style.l1.label+="text-align:right;";break;case"left":kb.tn.style.l1.label+="text-align:left;";break;default:kb.tn.style.l1.label+="text-align:center;"}void 0!=kb.O.thumbnailL1Label.titleFontSize&&""!=kb.O.thumbnailL1Label.titleFontSize&&(kb.tn.style.l1.title+="font-size:"+kb.O.thumbnailL1Label.titleFontSize+";"),void 0!=kb.O.thumbnailL1Label.descriptionFontSize&&""!=kb.O.thumbnailL1Label.descriptionFontSize&&(kb.tn.style.l1.desc+="font-size:"+kb.O.thumbnailL1Label.titleFontSize+";")}kb.tn.borderWidth=kb.O.thumbnailBorderHorizontal,kb.tn.borderHeight=kb.O.thumbnailBorderVertical;for(var a=["xs","sm","me","la","xl"],b=0;b<a.length;b++){var c=kb.tn.settings.width.lN[a[b]];if("auto"!=c)kb.tn.defaultSize.width.lN[a[b]]=c,kb.tn.defaultSize.width.l1[a[b]]=c;else{var d=kb.tn.settings.height.lN[a[b]];kb.tn.defaultSize.width.lN[a[b]]=d,kb.tn.defaultSize.width.l1[a[b]]=d}}for(var b=0;b<a.length;b++){var d=kb.tn.settings.height.lN[a[b]];if("auto"!=d)kb.tn.defaultSize.height.lN[a[b]]=d,kb.tn.defaultSize.height.l1[a[b]]=d;else{var c=kb.tn.settings.width.lN[a[b]];kb.tn.defaultSize.height.lN[a[b]]=c,kb.tn.defaultSize.height.l1[a[b]]=c}}for(var a=["xs","sm","me","la","xl"],b=0;b<a.length;b++){var c=kb.tn.settings.width.l1[a[b]];if("auto"!=c)kb.tn.defaultSize.width.l1[a[b]]=c;else{var d=kb.tn.settings.height.l1[a[b]];kb.tn.defaultSize.width.l1[a[b]]=d}}for(var b=0;b<a.length;b++){var d=kb.tn.settings.height.l1[a[b]];if("auto"!=d)kb.tn.defaultSize.height.l1[a[b]]=d;else{var c=kb.tn.settings.width.l1[a[b]];kb.tn.defaultSize.height.l1[a[b]]=c}}}function ga(a,b,c,d){kb.tn.settings[a][b].xs=c,kb.tn.settings[a][b].sm=c,kb.tn.settings[a][b].me=c,kb.tn.settings[a][b].la=c,kb.tn.settings[a][b].xl=c,kb.tn.settings[a][b].xsc=d,kb.tn.settings[a][b].smc=d,kb.tn.settings[a][b].mec=d,kb.tn.settings[a][b].lac=d,kb.tn.settings[a][b].xlc=d}function ha(){var a=null;switch(pb(kb.O.colorScheme)){case"object":a=kb.colorScheme_dark,jQuery.extend(!0,a,kb.O.colorScheme);break;case"string":switch(kb.O.colorScheme){case"light":a=kb.colorScheme_light;break;case"default":case"dark":case"none":default:a=kb.colorScheme_dark}break;default:a=kb.colorScheme_dark}return a}function ia(){var a=null,b="";switch(pb(kb.O.colorScheme)){case"object":a=kb.colorScheme_dark,jQuery.extend(!0,a,kb.O.colorScheme),b="nanogallery_colorscheme_custom_"+kb.baseEltID;break;case"string":switch(kb.O.colorScheme){case"light":a=kb.colorScheme_light,b="nanogallery_colorscheme_light_"+kb.baseEltID;break;case"default":case"dark":case"none":default:a=kb.colorScheme_dark,b="nanogallery_colorscheme_dark_"+kb.baseEltID}break;default:return void lb(kb,"Error in colorScheme parameter.")}var c="."+b+" ",d=c+".nGY2Navigationbar { background:"+a.navigationBar.background+"; }\n";void 0!==a.navigationBar.border&&""!==a.navigationBar.border&&(d+=c+".nGY2Navigationbar { border:"+a.navigationBar.border+"; }\n"),void 0!==a.navigationBar.borderTop&&""!==a.navigationBar.borderTop&&(d+=c+".nGY2Navigationbar { border-top:"+a.navigationBar.borderTop+"; }\n"),void 0!==a.navigationBar.borderBottom&&""!==a.navigationBar.borderBottom&&(d+=c+".nGY2Navigationbar { border-bottom:"+a.navigationBar.borderBottom+"; }\n"),void 0!==a.navigationBar.borderRight&&""!==a.navigationBar.borderRight&&(d+=c+".nGY2Navigationbar { border-right:"+a.navigationBar.borderRight+"; }\n"),
void 0!==a.navigationBar.borderLeft&&""!==a.navigationBar.borderLeft&&(d+=c+".nGY2Navigationbar { border-left:"+a.navigationBar.borderLeft+"; }\n"),d+=c+".nGY2Breadcrumb { background:"+a.navigationBreadcrumb.background+"; border-radius:"+a.navigationBreadcrumb.borderRadius+"; }\n",d+=c+".nGY2Breadcrumb .oneItem  { color:"+a.navigationBreadcrumb.color+"; }\n",d+=c+".nGY2Breadcrumb .oneItem:hover { color:"+a.navigationBreadcrumb.colorHover+"; }\n",d+=c+".nGY2NavFilterUnselected { color:"+a.navigationFilter.color+"; background:"+a.navigationFilter.background+"; border-radius:"+a.navigationFilter.borderRadius+"; }\n",d+=c+".nGY2NavFilterSelected { color:"+a.navigationFilter.colorSelected+"; background:"+a.navigationFilter.backgroundSelected+"; border-radius:"+a.navigationFilter.borderRadius+"; }\n",d+=c+".nGY2NavFilterSelectAll { color:"+a.navigationFilter.colorSelected+"; background:"+a.navigationFilter.background+"; border-radius:"+a.navigationFilter.borderRadius+"; }\n",d+=c+".nGY2GThumbnail { background:"+a.thumbnail.background+"; border-color:"+a.thumbnail.borderColor+"; border-top-width:"+kb.O.thumbnailBorderVertical+"px; border-right-width:"+kb.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+kb.O.thumbnailBorderVertical+"px; border-left-width:"+kb.O.thumbnailBorderHorizontal+"px;}\n",d+=c+".nGY2GThumbnailStack { background:"+a.thumbnail.stackBackground+"; }\n",d+=c+".nGY2GThumbnailImage { background:"+a.thumbnail.background+"; }\n",d+=c+".nGY2GThumbnailAlbumUp { background:"+a.thumbnail.background+"; color:"+a.thumbnail.titleColor+"; }\n",d+=c+".nGY2GThumbnailIconsFullThumbnail { color:"+a.thumbnail.titleColor+"; }\n",d+=c+".nGY2GThumbnailLabel { background:"+a.thumbnail.labelBackground+"; opacity:"+a.thumbnail.labelOpacity+"; }\n",d+=c+".nGY2GThumbnailImageTitle  { color:"+a.thumbnail.titleColor+"; background-color:"+a.thumbnail.titleBgColor+"; "+(""==a.thumbnail.titleShadow?"":"Text-Shadow:"+a.thumbnail.titleShadow+";")+" }\n",d+=c+".nGY2GThumbnailAlbumTitle { color:"+a.thumbnail.titleColor+"; background-color:"+a.thumbnail.titleBgColor+"; "+(""==a.thumbnail.titleShadow?"":"Text-Shadow:"+a.thumbnail.titleShadow+";")+" }\n",d+=c+".nGY2GThumbnailDescription { color:"+a.thumbnail.descriptionColor+"; backgound-color:"+a.thumbnail.descriptionBgColor+"; "+(""==a.thumbnail.descriptionShadow?"":"Text-Shadow:"+a.thumbnail.descriptionShadow+";")+" }\n",d+=c+".nGY2GThumbnailIcons { padding:"+a.thumbnailIcon.padding+"; }\n",d+=c+".nGY2GThumbnailIcon { color:"+a.thumbnailIcon.color+"; }\n",d+=c+".nGY2GThumbnailIconTextBadge { background-color:"+a.thumbnailIcon.color+"; }\n","NUMBERS"!=kb.O.galleryPaginationMode?(d+=c+".nGY2paginationDot { border:"+a.pagination.shapeBorder+"; background:"+a.pagination.shapeColor+";}\n",d+=c+".nGY2paginationDotCurrentPage { border:"+a.pagination.shapeBorder+"; background:"+a.pagination.shapeSelectedColor+";}\n",d+=c+".nGY2paginationRectangle { border:"+a.pagination.shapeBorder+"; background:"+a.pagination.shapeColor+";}\n",d+=c+".nGY2paginationRectangleCurrentPage { border:"+a.pagination.shapeBorder+"; background:"+a.pagination.shapeSelectedColor+";}\n"):(d+=c+".nGY2paginationItem { background:"+a.pagination.background+"; color:"+a.pagination.color+"; border-radius:"+a.pagination.borderRadius+"; }\n",d+=c+".nGY2paginationItemCurrentPage { background:"+a.pagination.background+"; color:"+a.pagination.color+"; border-radius:"+a.pagination.borderRadius+"; }\n",d+=c+".nGY2PaginationPrev { background:"+a.pagination.background+"; color:"+a.pagination.color+"; border-radius:"+a.pagination.borderRadius+"; }\n",d+=c+".nGY2PaginationNext { background:"+a.pagination.background+"; color:"+a.pagination.color+"; border-radius:"+a.pagination.borderRadius+"; }\n",d+=c+".nGY2paginationItemCurrentPage { background:"+a.pagination.backgroundSelected+"; }\n"),d+=c+".nGY2GalleryMoreButtonAnnotation { background:"+a.thumbnail.background+"; border-color:"+a.thumbnail.borderColor+"; border-top-width:"+kb.O.thumbnailBorderVertical+"px; border-right-width:"+kb.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+kb.O.thumbnailBorderVertical+"px; border-left-width:"+kb.O.thumbnailBorderHorizontal+"px;}\n",d+=c+".nGY2GalleryMoreButtonAnnotation  { color:"+a.thumbnail.titleColor+"; "+(""==a.thumbnail.titleShadow?"":"Text-Shadow:"+a.thumbnail.titleShadow)+"; }\n",jQuery("head").append('<style id="ngycs_'+kb.baseEltID+'">'+d+"</style>"),kb.$E.base.addClass(b)}function ja(){if(""!=kb.VOM.colorSchemeLabel)return void kb.VOM.$cont.addClass(kb.VOM.colorSchemeLabel);var a=null;switch(pb(kb.O.colorSchemeViewer)){case"object":a=kb.colorSchemeViewer_dark,jQuery.extend(!0,a,kb.O.colorSchemeViewer),kb.VOM.colorSchemeLabel="nanogallery_colorschemeviewer_custom_"+kb.baseEltID;break;case"string":switch(kb.O.colorSchemeViewer){case"none":return;case"light":a=kb.colorSchemeViewer_light,kb.VOM.colorSchemeLabel="nanogallery_colorschemeviewer_light_"+kb.baseEltID;break;case"border":a=kb.colorSchemeViewer_border,kb.VOM.colorSchemeLabel="nanogallery_colorschemeviewer_border_"+kb.baseEltID;break;case"dark":case"default":a=kb.colorSchemeViewer_dark,kb.VOM.colorSchemeLabel="nanogallery_colorschemeviewer_dark_"+kb.baseEltID}break;default:return void lb(kb,"Error in colorSchemeViewer parameter.")}var b="."+kb.VOM.colorSchemeLabel+" ",c=b+".nGY2Viewer { background:"+a.background+"; }\n";c+=b+".nGY2ViewerImage { border:"+a.imageBorder+"; box-shadow:"+a.imageBoxShadow+"; }\n",c+=b+".nGY2Viewer .toolbarBackground { background:"+a.barBackground+"; }\n",c+=b+".nGY2Viewer .toolbar { border:"+a.barBorder+"; color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .previousButton:after { color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .nextButton:after { color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .closeButton:after { color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .label .title { color:"+a.barColor+"; }\n",c+=b+".nGY2Viewer .toolbar .label .description { color:"+a.barDescriptionColor+"; }\n",jQuery("head").append("<style>"+c+"</style>"),kb.VOM.$cont.addClass(kb.VOM.colorSchemeLabel)}function ka(){Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}();try{!window.addEventListener&&function(a,b,c,d,e,f,g){a[d]=b[d]=c[d]=function(a,b){var c=this;g.unshift([c,a,b,function(a){a.currentTarget=c,a.preventDefault=function(){a.returnValue=!1},a.stopPropagation=function(){a.cancelBubble=!0},a.target=a.srcElement||c,b.call(c,a)}]),this.attachEvent("on"+a,g[0][3])},a[e]=b[e]=c[e]=function(a,b){for(var c,d=0;c=g[d];++d)if(c[0]==this&&c[1]==a&&c[2]==b)return this.detachEvent("on"+a,g.splice(d,1)[0][3])},a[f]=b[f]=c[f]=function(a){return this.fireEvent("on"+a.type,a)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}catch(a){return fb(),!1}Array.prototype.removeIf=function(a){for(var b=this.length;b--;)a(this[b],b)&&this.splice(b,1)}}function la(a){var b=wa(a,!1);if(-1==b.GOMidx)return"exit";var c=kb.GOM.items[b.GOMidx].thumbnailIdx;switch(b.action){case"OPEN":return xa(c,!1),"exit";case"DISPLAY":return xa(c,!0),"exit";case"TOGGLESELECT":return pa(c),"exit";case"SHARE":return sa(c),"exit";case"DOWNLOAD":return ma(c),"exit";case"INFO":return Da(kb.I[c]),"exit";case"CART":return na(c),"exit";default:"function"==typeof kb.O.fnThumbnailToolCustAction&&kb.O.fnThumbnailToolCustAction(b.action,kb.I[c])}}function ma(a){var b=kb.I[a].src;void 0!=kb.I[a].downloadURL&&""!=kb.I[a].downloadURL&&(b=kb.I[a].downloadURL);var c=document.createElement("a");c.href=b,c.download=b.split(".").pop(),document.body.appendChild(c),c.click(),document.body.removeChild(c)}function na(a){for(var b=!1,c=0;c<kb.shoppingCart.length;c++)if(kb.shoppingCart[c].idx==a)return kb.shoppingCart[c].cnt++,"function"==typeof kb.O.fnShoppingCartUpdated&&kb.O.fnShoppingCartUpdated(kb.shoppingCart),void Ya("shoppingCartUpdated");b||(kb.shoppingCart.push({idx:a,ID:kb.I[a].GetID(),cnt:1}),"function"==typeof kb.O.fnShoppingCartUpdated&&kb.O.fnShoppingCartUpdated(kb.shoppingCart),Ya("shoppingCartUpdated"))}function oa(){kb.GOM.nbSelected=0;for(var a=kb.GOM.items.length,b=0;b<a;b++){var c=kb.I[kb.GOM.items[b].thumbnailIdx];c.selected&&(c.selected=!1,"function"==typeof kb.O.fnThumbnailSelection&&kb.O.fnThumbnailSelection(c.$elt,c,kb.I)),c.selected=!1}}function pa(a){var b=kb.I[a];!0===b.selected?(qa(b,!1),kb.GOM.nbSelected--,Ya("itemUnSelected")):(qa(b,!0),kb.GOM.nbSelected++,Ya("itemSelected"))}function qa(a,b){a.selected=b,ra(a),"function"==typeof kb.O.fnThumbnailSelection&&kb.O.fnThumbnailSelection(a.$elt,a,kb.I)}function ra(a){if(null!=a.$elt){var b=a.$getElt(".nGY2GThumbnailSub"),c=a.$getElt(".nGY2GThumbnailIconImageSelect");!0===a.selected?(b.addClass("nGY2GThumbnailSubSelected"),c.addClass("nGY2ThumbnailSelected"),c.removeClass("nGY2ThumbnailUnselected"),c.html(kb.O.icons.thumbnailSelected)):(b.removeClass("nGY2GThumbnailSubSelected"),c.removeClass("nGY2ThumbnailSelected"),c.addClass("nGY2ThumbnailUnselected"),c.html(kb.O.icons.thumbnailUnselected))}}function sa(a){var b=kb.I[a],c=document.location.protocol+"//"+document.location.hostname+document.location.pathname,d="#nanogallery/"+kb.baseEltID+"/";"image"==b.kind?d+=b.albumID+"/"+b.GetID():d+=b.GetID();var e="";e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="facebook">'+kb.O.icons.shareFacebook+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="pinterest">'+kb.O.icons.sharePinterest+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="tumblr">'+kb.O.icons.shareTumblr+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="twitter">'+kb.O.icons.shareTwitter+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="googleplus">'+kb.O.icons.shareGooglePlus+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="vk">'+kb.O.icons.shareVK+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="mail">'+kb.O.icons.shareMail+"</div>",e+='<div class="nGY2PopupOneItem" style="text-align:center;"></div>',e+='<input class="nGY2PopupOneItemText" readonly type="text" value="'+c+d+'" style="width:100%;text-align:center;">',e+="<br>",c=encodeURIComponent(document.location.protocol+"//"+document.location.hostname+document.location.pathname+d);var f=b.title,g=b.thumbImg().src;ta("Share to:",e,"Center"),kb.popup.$elt.find(".nGY2PopupOneItem").on("click",function(a){a.stopPropagation();var b="",d=!0;switch(jQuery(this).attr("data-share").toUpperCase()){case"FACEBOOK":b="https://www.facebook.com/sharer.php?u="+c;break;case"VK":b="http://vk.com/share.php?url="+c;break;case"GOOGLEPLUS":b="https://plus.google.com/share?url="+c;break;case"TWITTER":b="https://twitter.com/intent/tweet?text="+f+"url="+c;break;case"PINTEREST":b="https://pinterest.com/pin/create/button/?media="+g+"&url="+c+"&description="+f;break;case"TUMBLR":b="http://www.tumblr.com/share/link?url="+c+"&name="+f;break;case"MAIL":b="mailto:?subject="+f;break;default:d=!1}d&&(window.open(b,"","height=550,width=500,left=100,top=100,menubar=0"),window.open(b,"","height=550,width=500,left=100,top=100,menubar=0"),kb.popup.close())})}function ta(a,b,c){var d='<div class="nGY2Popup" style="opacity:0;"><div class="nGY2PopupContent'+c+'">';d+='<div class="nGY2PopupCloseButton">'+kb.O.icons.buttonClose+"</div>",d+='<div class="nGY2PopupTitle">'+a+"</div>",d+=b,d+="</div></div>",kb.popup.$elt=jQuery(d).appendTo("body"),ib(kb.VOM.$viewer,kb.popup.$elt),kb.popup.isDisplayed=!0,(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},easing:"easeInOutSine",duration:180,step:function(a,b){kb.popup.$elt.css("opacity",a.opacity)},finish:function(a,b){kb.popup.$elt.css("opacity",1)}}),kb.popup.$elt.find(".nGY2PopupCloseButton").on("click",function(a){a.stopPropagation(),kb.popup.close()})}function ua(a){if(!kb.VOM.viewerDisplayed&&-1!=kb.GOM.albumIdx){var b=wa(a,!0);if(-1!=b.GOMidx){a.target||a.srcElement;R(b.GOMidx)}}}function va(a){if(!kb.VOM.viewerDisplayed&&-1!=kb.GOM.albumIdx){var b=wa(a,!0);if(-1!=b.GOMidx){a.target||a.srcElement;T(b.GOMidx)}}}function wa(a,b){var c={action:"NONE",GOMidx:-1};if(void 0==a)return c;for(var d=a.target||a.srcElement;d!=kb.$E.conTnParent[0];){if(jQuery(d).hasClass("nGY2GThumbnail"))return"NONE"==c.action&&(c.action="OPEN"),c.GOMidx=jQuery(d).data("index"),c;if(!b){var e=jQuery(d).data("ngy2action");""!=e&&void 0!=e&&(c.action=e)}if(null==d.parentNode)return c;d=d.parentNode}return c}function xa(a,b){var c=kb.I[a];if("function"!=typeof kb.O.fnThumbnailClicked||kb.O.fnThumbnailClicked(c.$elt,c)){if(void 0!==c.destinationURL&&c.destinationURL.length>0)return void(window.location=c.destinationURL);switch(c.kind){case"image":!1===b&&kb.GOM.nbSelected>0?pa(a):za(a);break;case"album":!1===b&&kb.GOM.nbSelected>0?pa(a):g("-1",c.GetID());break;case"albumUp":g("-1",NGY2Item.Get(kb,c.albumID).albumID)}}}function ya(a){switch(kb.O.kind){case"json":case"flickr":var b="https://www.flickr.com/photos/"+kb.O.userID+"/"+a.GetID();window.open(b,"_blank");break;case"picasa":case"google":case"google2":var b="https://plus.google.com/photos/"+kb.O.userID+"/albums/"+a.albumID+"/"+a.GetID();window.open(b,"_blank")}}function za(a){if(kb.O.thumbnailOpenImage){if(kb.O.thumbnailOpenOriginal)return void ya(kb.I[a]);var b=[];kb.VOM.currItemIdx=0,kb.VOM.items=[],kb.VOM.albumID=kb.I[a].albumID;var d=new c(a);kb.VOM.items.push(d),b.push(kb.I[a]);for(var e=kb.I.length,f=a+1;f<e;f++){var g=kb.I[f];if("image"==g.kind&&g.albumID==kb.VOM.albumID&&g.checkTagFilter()&&g.isSearchFound()&&""==g.destinationURL){var d=new c(f);kb.VOM.items.push(d),b.push(g)}}for(var h=kb.VOM.items.length,i=1,f=0;f<a;f++){var g=kb.I[f];if("image"==g.kind&&g.albumID==kb.VOM.albumID&&g.checkTagFilter()&&g.isSearchFound()&&""==g.destinationURL){var d=new c(f);d.imageNumber=i,kb.VOM.items.push(d),b.push(g),i++}}for(var j=0;j<h;j++)kb.VOM.items[j].imageNumber=i,i++;if("function"==typeof kb.O.fnThumbnailOpen)return void kb.O.fnThumbnailOpen(b);kb.VOM.viewerDisplayed?(kb.VOM.$imgC.css({opacity:0,left:0,visibility:"hidden"}).attr("src",""),kb.VOM.$imgC.children().eq(0).attr("src",kb.emptyGif).attr("src",kb.VOM.Item(0).responsiveURL()),Pa(0,"")):Aa(0)}}function Aa(a){kb.VOM.viewerDisplayed=!0,jQuery("body").css({overflow:"hidden"}),kb.VOM.$cont=jQuery('<div  class="nGY2 nGY2ViewerContainer" style="opacity:1"></div>').appendTo("body"),ja(),kb.VOM.$viewer=jQuery('<div class="nGY2Viewer" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(kb.VOM.$cont),kb.VOM.$viewer.css({msTouchAction:"none",touchAction:"none"});var b="";kb.I.length;b+='<div class="nGY2ViewerImagePan"><img class="nGY2ViewerImage" src="'+kb.VOM.Item(Sa(a)).responsiveURL()+'" alt=" " itemprop="contentURL"></div>',b+='<div class="nGY2ViewerImagePan"><img class="nGY2ViewerImage" src="'+kb.VOM.Item(a).responsiveURL()+'" alt=" " itemprop="contentURL"></div>',b+='<div class="nGY2ViewerImagePan"><img class="nGY2ViewerImage" src="'+kb.VOM.Item(Ra(a)).responsiveURL()+'" alt=" " itemprop="contentURL"></div>';var c="";void 0!=kb.O.icons.viewerImgPrevious&&""!=kb.O.icons.viewerImgPrevious&&(c+='<div class="nGY2ViewerAreaPrevious ngy2viewerToolAction" data-ngy2action="previous">'+kb.O.icons.viewerImgPrevious+"</div>"),void 0!=kb.O.icons.viewerImgNext&&""!=kb.O.icons.viewerImgNext&&(c+='<div class="nGY2ViewerAreaNext ngy2viewerToolAction" data-ngy2action="next">'+kb.O.icons.viewerImgNext+"</div>"),kb.VOM.$content=jQuery('<div class="nGY2ViewerContent">'+b+c+"</div>").appendTo(kb.VOM.$viewer),kb.VOM.$imgP=kb.VOM.$content.find(".nGY2ViewerImagePan").eq(0),kb.VOM.$imgC=kb.VOM.$content.find(".nGY2ViewerImagePan").eq(1),kb.VOM.$imgN=kb.VOM.$content.find(".nGY2ViewerImagePan").eq(2),kb.VOM.$cont.find("*").attr("draggable","false").attr("unselectable","on"),kb.VOM.padding.H=parseInt(kb.VOM.$content.css("padding-left"))+parseInt(kb.VOM.$content.css("padding-right")),kb.VOM.padding.V=parseInt(kb.VOM.$content.css("padding-top"))+parseInt(kb.VOM.$content.css("padding-bottom"));var d="",e=" toolbarBackground";kb.O.viewerToolbar.fullWidth&&(d=" toolbarBackground",e="");var f="text-align:center;";switch(kb.O.viewerToolbar.align){case"left":f="text-align:left;";break;case"right":f="text-align:right;"}var g='<div class="toolbarContainer nGEvent'+d+'" style="visibility:'+(kb.O.viewerToolbar.display?"visible":"hidden")+";"+f+'"><div class="toolbar nGEvent'+e+'">';if(g+="</div></div>",kb.VOM.$toolbar=jQuery(g).appendTo(kb.VOM.$viewer),"min"==kb.VOM.toolbarMode||kb.O.viewerToolbar.autoMinimize>0&&kb.O.viewerToolbar.autoMinimize>=hb().w?Ka():Ja(),""!=kb.O.viewerTools.topLeft){for(var h='<div class="nGY2ViewerToolsTopLeft nGEvent"><div class="toolbar nGEvent">',i=kb.O.viewerTools.topLeft.split(","),j=0,k=i.length;j<k;j++)h+=Ea(i[j]);h+="</div></div>",kb.VOM.$toolbarTL=jQuery(h).appendTo(kb.VOM.$viewer)}if(""!=kb.O.viewerTools.topRight){for(var l='<div class="nGY2ViewerToolsTopRight nGEvent"><div class="toolbar nGEvent">',m=kb.O.viewerTools.topRight.split(","),j=0,n=m.length;j<n;j++)l+=Ea(m[j]);l+="</div></div>",kb.VOM.$toolbarTR=jQuery(l).appendTo(kb.VOM.$viewer)}kb.supportFullscreenAPI&&kb.O.viewerFullscreen&&(kb.VOM.viewerIsFullscreen=!0,kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".fullscreenButton").html(kb.O.icons.viewerFullscreenOn),ngscreenfull.request()),Ba(),kb.O.viewerDisplayLogo&&(kb.$E.vwLogo=jQuery('<div class="nGY2 nGY2ViewerLogo"></div>').appendTo(kb.VOM.$viewer)),ib("",kb.VOM.$viewer),Va(!0),kb.VOM.timeImgChanged=(new Date).getTime(),kb.VOM.$viewer.find("img").on("click",function(a){a.stopPropagation()}),Ma(kb.VOM.swipePosX),Pa(a,""),null==kb.VOM.hammertime&&(kb.VOM.hammertime=new NGHammer(kb.VOM.$cont[0]),kb.VOM.hammertime.get("pan").set({direction:NGHammer.DIRECTION_ALL}),kb.VOM.hammertime.get("pinch").set({enable:!0}),kb.VOM.hammertime.on("pan",function(a){kb.VOM.viewerDisplayed&&(kb.VOM.isZooming?Wa(kb.VOM.panPosX+a.deltaX,kb.VOM.panPosY+a.deltaY,!1):Ma(a.deltaX))}),kb.VOM.hammertime.on("panend",function(a){if(kb.VOM.viewerDisplayed)if(kb.VOM.isZooming)kb.VOM.timeImgChanged=(new Date).getTime(),Wa(kb.VOM.panPosX+a.deltaX,kb.VOM.panPosY+a.deltaY,!0);else{if(a.deltaX>50)return void Oa();if(a.deltaX<-50)return void Na();Ma(0)}}),kb.O.viewerZoom&&(kb.VOM.hammertime.on("doubletap",function(a){kb.VOM.viewerDisplayed&&(a.srcEvent.stopPropagation(),a.srcEvent.preventDefault(),-1!==a.target.className.indexOf("nGY2ViewerImage")&&(kb.VOM.isZooming?(kb.VOM.isZooming=!1,kb.VOM.currentZoom=1,Va(!0)):(kb.VOM.currentZoom=4,Fa()&&Ga(!0))))}),kb.VOM.hammertime.on("pinchend",function(a){a.srcEvent.stopPropagation(),a.srcEvent.preventDefault(),kb.VOM.timeImgChanged=(new Date).getTime()}),kb.VOM.hammertime.on("pinch",function(a){a.srcEvent.stopPropagation(),a.srcEvent.preventDefault(),Fa()&&(kb.VOM.currentZoom=a.scale,kb.VOM.currentZoom>2&&(kb.VOM.currentZoom=2),kb.VOM.currentZoom<.2&&(kb.VOM.currentZoom=.2),Ha())}))),kb.O.slideshowAutoStart&&(kb.VOM.playSlideshow=!1,Ia())}function Ba(){kb.VOM.$viewer.off("touchstart click",".ngy2viewerToolAction",Ca),kb.VOM.$viewer.on("touchstart click",".ngy2viewerToolAction",Ca)}function Ca(b){var c=a(this),d=c.data("ngy2action");switch(d){case"next":b.stopPropagation(),b.preventDefault(),Na();break;case"previous":b.stopPropagation(),b.preventDefault(),Oa();break;case"playPause":b.stopPropagation(),Ia();break;case"zoomIn":b.stopPropagation(),b.preventDefault(),Fa()&&Ga(!0);break;case"zoomOut":b.stopPropagation(),b.preventDefault(),Fa()&&Ga(!1);break;case"minimize":b.stopPropagation(),b.preventDefault(),"std"==kb.VOM.toolbarMode?Ka():Ja();break;case"fullScreen":b.stopPropagation(),kb.supportFullscreenAPI&&ngscreenfull.enabled&&(ngscreenfull.toggle(),kb.VOM.viewerIsFullscreen?(kb.VOM.viewerIsFullscreen=!1,kb.VOM.$viewer.find(".fullscreenButton").html(kb.O.icons.viewerFullscreenOff)):(kb.VOM.viewerIsFullscreen=!0,kb.VOM.$viewer.find(".fullscreenButton").html(kb.O.icons.viewerFullscreenOn)));break;case"info":b.stopPropagation(),Da(kb.VOM.Item(kb.VOM.currItemIdx));break;case"close":if(b.stopPropagation(),b.preventDefault(),(new Date).getTime()-kb.VOM.timeImgChanged<400)return;Ta(kb.VOM.currItemIdx);break;case"download":b.stopPropagation(),b.preventDefault(),ma(kb.VOM.items[kb.VOM.currItemIdx].imageIdx);break;case"share":case"custom":b.stopPropagation(),b.preventDefault(),sa(kb.VOM.items[kb.VOM.currItemIdx].imageIdx);break;case"linkOriginal":if(b.stopPropagation(),b.preventDefault(),ya(kb.VOM.Item(kb.VOM.currItemIdx)),"google"==kb.O.kind||"google2"==kb.O.kind){var e="https://plus.google.com/photos/"+kb.O.userID+"/albums/"+kb.VOM.Item(kb.VOM.currItemIdx).albumID+"/"+kb.VOM.Item(kb.VOM.currItemIdx).GetID();window.open(e,"_blank")}if("flickr"==kb.O.kind){var e="https://www.flickr.com/photos/"+kb.O.userID+"/"+kb.VOM.Item(kb.VOM.currItemIdx).GetID();window.open(e,"_blank")}}0==d.indexOf("custom")&&"function"==typeof kb.O.fnImgToolbarCustClick&&kb.O.fnImgToolbarCustClick(d,c,kb.VOM.Item(kb.VOM.currItemIdx))}function Da(a){var b='<div class="nGY2PopupOneItemText">'+a.title+"</div>";b+='<div class="nGY2PopupOneItemText">'+a.description+"</div>",""!=a.author&&(b+='<div class="nGY2PopupOneItemText">'+kb.O.icons.user+" "+a.author+"</div>"),""!=a.exif.model&&(b+='<div class="nGY2PopupOneItemText">'+kb.O.icons.config+" "+a.exif.model+"</div>");var c="";if(""!=a.exif.flash&&(c+=" &nbsp; "+a.exif.flash),""!=a.exif.focallength&&(c+=" &nbsp; "+a.exif.focallength+"mm"),""!=a.exif.fstop&&(c+=" &nbsp; f"+a.exif.fstop),""!=a.exif.exposure&&(c+=" &nbsp; "+a.exif.exposure+"s"),""!=a.exif.iso&&(c+=" &nbsp; "+a.exif.iso+" ISO"),""!=a.exif.time){c+=" &nbsp; "+new Date(parseInt(a.exif.time)).toLocaleDateString()}b+='<div class="nGY2PopupOneItemText">'+c+"</div>",""!=a.exif.location&&(b+='<div class="nGY2PopupOneItemText">'+kb.O.icons.location+' <a href="http://maps.google.com/maps?z=12&t=m&q='+encodeURIComponent(a.exif.location)+'" target="_blank">'+a.exif.location+"</a></div>",b+='<iframe width="300" height="150" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?&amp;t=m&amp;q='+encodeURIComponent(a.exif.location)+'&amp;output=embed"></iframe>');ta(kb.O.icons.viewerInfo,b,"Left")}function Ea(a){var b="",c=a.replace(/^\s+|\s+$/g,"");switch(c){case"minimizeButton":var d=kb.O.icons.viewerToolbarMin;"min"==kb.VOM.toolbarMode&&(d=kb.O.icons.viewerToolbarStd),b='<div class="ngbt ngy2viewerToolAction minimizeButton nGEvent" data-ngy2action="minimize">'+d+"</div>";break;case"previousButton":b='<div class="ngbt ngy2viewerToolAction previousButton nGEvent" data-ngy2action="previous">'+kb.O.icons.viewerPrevious+"</div>";break;case"pageCounter":b='<div class="ngbt ngy2viewerToolAction pageCounter nGEvent"></div>';break;case"nextButton":b='<div class="ngbt ngy2viewerToolAction nextButton nGEvent" data-ngy2action="next">'+kb.O.icons.viewerNext+"</div>";break;case"playPauseButton":b='<div class="ngbt ngy2viewerToolAction playButton playPauseButton nGEvent" data-ngy2action="playPause">'+kb.O.icons.viewerPlay+"</div>";break;case"downloadButton":b='<div class="ngbt ngy2viewerToolAction downloadButton nGEvent" data-ngy2action="download">'+kb.O.icons.viewerDownload+"</div>";break;case"zoomButton":b='<div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="zoomIn">'+kb.O.icons.viewerZoomIn+'</div><div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="zoomOut">'+kb.O.icons.viewerZoomOut+"</div>";break;case"fullscreenButton":kb.supportFullscreenAPI&&(b='<div class="ngbt ngy2viewerToolAction setFullscreenButton fullscreenButton nGEvent" data-ngy2action="fullScreen">'+kb.O.icons.viewerFullscreenOn+"</div>");break;case"infoButton":b='<div class="ngbt ngy2viewerToolAction infoButton nGEvent" data-ngy2action="info">'+kb.O.icons.viewerInfo+"</div>";break;case"linkOriginalButton":"flickr"!=kb.O.kind&&"google"!=kb.O.kind&&"google2"!=kb.O.kind||(b='<div class="ngbt ngy2viewerToolAction linkOriginalButton nGEvent" data-ngy2action="linkOriginal">'+kb.O.icons.viewerLinkOriginal+"</div>");break;case"closeButton":b='<div class="ngbt ngy2viewerToolAction closeButton nGEvent" data-ngy2action="close">'+kb.O.icons.buttonClose+"</div>";break;case"shareButton":b='<div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="share">'+kb.O.icons.viewerShare+"</div>";break;case"label":b='<div class="label ngy2viewerToolAction"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:if(0==c.indexOf("custom")){var e="";if("function"==typeof kb.O.fnImgToolbarCustInit&&(e=kb.O.fnImgToolbarCustInit(c)),void 0==e||""==e){var f=c.substring(6);e=kb.O.icons["viewerCustomTool"+f]}b='<div class="ngbt ngy2viewerToolAction ngy2CustomBtn '+c+' nGEvent" data-ngy2action="'+c+'">'+e+"</div>"}}return b}function Fa(){if(kb.O.viewerZoom&&!kb.VOM.viewerImageIsChanged){var a=kb.VOM.Item(kb.VOM.currItemIdx);if(a.imageHeight>0&&a.imageWidth>0){if(!1===kb.VOM.isZooming){var b=kb.VOM.$viewer.height()-kb.VOM.padding.H;kb.VOM.currentZoom=b/a.imageHeight,kb.VOM.isZooming=!0}return!0}}}function Ga(a){a?(kb.VOM.currentZoom+=.1,kb.VOM.currentZoom>2&&(kb.VOM.currentZoom=2)):(kb.VOM.currentZoom-=.1,kb.VOM.currentZoom<.2&&(kb.VOM.currentZoom=.2)),Ha()}function Ha(){var a=kb.VOM.Item(kb.VOM.currItemIdx),b=a.imageHeight/window.devicePixelRatio*kb.VOM.currentZoom,c=a.imageWidth/window.devicePixelRatio*kb.VOM.currentZoom;kb.VOM.$imgC.children().eq(0).css({height:b,"max-height":"none"}),kb.VOM.$imgC.children().eq(0).css({width:c,"max-width":"none"});var d=0;c>kb.VOM.window.lastWidth&&(d=-(c-kb.VOM.window.lastWidth)/2);var e=(kb.VOM.$viewer.height(),kb.VOM.padding.H,0);b>kb.VOM.window.lastHeight&&(e=(b-kb.VOM.window.lastHeight)/2),e=0,kb.VOM.zoomPosX=d,kb.VOM.zoomPosY=e,Va(!0)}function Ia(){kb.VOM.playSlideshow?(window.clearTimeout(kb.VOM.playSlideshowTimerID),kb.VOM.playSlideshow=!1,kb.VOM.$viewer.find(".playPauseButton").html(kb.O.icons.viewerPlay)):(kb.VOM.playSlideshow=!0,Na(),kb.VOM.$viewer.find(".playPauseButton").html(kb.O.icons.viewerPause))}function Ja(){kb.VOM.toolbarMode="std";for(var a="",b=kb.O.viewerToolbar.standard.split(","),c=0,d=b.length;c<d;c++)a+=Ea(b[c]);kb.VOM.$toolbar.find(".toolbar").html(a),La()}function Ka(){if(void 0==kb.O.viewerToolbar.minimized||""==kb.O.viewerToolbar.minimized)Ja();else{kb.VOM.toolbarMode="min";for(var a="",b=kb.O.viewerToolbar.minimized.split(","),c=0,d=b.length;c<d;c++)a+=Ea(b[c]);kb.VOM.$toolbar.find(".toolbar").html(a),La()}}function La(){var a=kb.VOM.currItemIdx;if(null!=a){var b=kb.VOM.Item(a),c=!1;void 0!==b.title&&""!=b.title?(kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(b.title),c=!0):kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(""),void 0!==b.description&&""!=b.description?(kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(b.description),c=!0):kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(""),c?kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").show():kb.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").hide();var d=kb.VOM.items.length;d>0&&kb.VOM.$viewer.find(".pageCounter").html(kb.VOM.items[a].imageNumber+"/"+d);var e=kb.VOM.$viewer.find(".ngy2CustomBtn");e.length>0&&"function"==typeof kb.O.fnImgToolbarCustDisplay&&kb.O.fnImgToolbarCustDisplay(e,b),Ba()}}function Ma(a){if(kb.VOM.swipePosX=a,null==kb.CSStransformName)kb.VOM.$imgC.css({left:a});else if(kb.VOM.$imgC[0].style[kb.CSStransformName]="translateX("+a+"px)","swipe"==kb.O.imageTransition)if(a>0){var b=(kb.VOM.$imgP,kb.VOM.$viewer.width());kb.VOM.$imgP.css({visibility:"visible",left:0,opacity:1}),kb.VOM.$imgP[0].style[kb.CSStransformName]="translateX("+(-b+a)+"px) ",kb.VOM.$imgN[0].style[kb.CSStransformName]="translateX("+-b+"px) "}else{var b=(kb.VOM.$imgN,-kb.VOM.$viewer.width());kb.VOM.$imgN.css({visibility:"visible",left:0,opacity:1}),kb.VOM.$imgN[0].style[kb.CSStransformName]="translateX("+(-b+a)+"px) ",kb.VOM.$imgP[0].style[kb.CSStransformName]="translateX("+-b+"px) "}}function Na(){kb.VOM.viewerImageIsChanged||(new Date).getTime()-kb.VOM.timeImgChanged<300||(Ya("lightboxNextImage"),Pa(Ra(kb.VOM.currItemIdx),"nextImage"))}function Oa(){kb.VOM.viewerImageIsChanged||(new Date).getTime()-kb.VOM.timeImgChanged<300||(kb.VOM.playSlideshow&&Ia(),Ya("lightboxPreviousImage"),Pa(Sa(kb.VOM.currItemIdx),"previousImage"))}function Pa(a,b){kb.VOM.$imgC.children().eq(0).unbind(".imagesLoaded"),kb.VOM.playSlideshow&&window.clearTimeout(kb.VOM.playSlideshowTimerID),kb.VOM.timeImgChanged=(new Date).getTime(),kb.VOM.viewerImageIsChanged=!0,kb.VOM.isZooming=!1,Va(!0);_a(kb.VOM.Item(a).albumID,kb.VOM.Item(a).GetID()),kb.O.debugMode&&console.timeline&&console.timeline("nanogallery2_viewer"),kb.VOM.currItemIdx=a;var c=hb();if(""==b){kb.VOM.$imgC.css({opacity:1,left:0,visibility:"visible"});var d=new NGTweenable;d.tween({from:{scale:.8,opacity:0},to:{scale:1,opacity:1},attachment:{idx:a,dT:b},easing:"easeInOutSine",duration:400,step:function(a,b){kb.VOM.$content.css(kb.CSStransformName,"scale("+a.scale+")").css("opacity",a.opacity)},finish:function(a,b){kb.VOM.$content.css(kb.CSStransformName,"").css("opacity",1),Qa(b.idx,b.dT)}})}else switch(kb.O.imageTransition){case"fade":var e="nextImage"==b?kb.VOM.$imgN:kb.VOM.$imgP;e.css({opacity:0,left:0,visibility:"visible"});var d=new NGTweenable;d.tween({from:{o:0},to:{o:1},easing:"easeInOutSine",attachment:{idx:a,dT:b,$e:e},duration:300,step:function(a,b){kb.VOM.$imgC.css({opacity:1-a.o}),b.$e.css({opacity:a.o})},finish:function(a,b){kb.VOM.$imgC.css({opacity:0}),b.$e.css({opacity:1}),Qa(b.idx,b.dT)}});break;case"slideBETA":var e="nextImage"==b?kb.VOM.$imgN:kb.VOM.$imgP;if(e.css({opacity:1,left:0,visibility:"visible"}),null==kb.CSStransformName)jQuery.when(kb.VOM.$imgC.animate({left:("nextImage"==b?-hb().w:hb().w)+"px",opacity:0},500),e.animate({opacity:1},300)).done(function(){Qa(a,b)});else{var f="nextImage"==b?-hb().w:hb().w;e[0].style[kb.CSStransformName]="translateX("+-f+"px) ";var g={v:kb.VOM.swipePosX},h={v:"nextImage"==b?-hb().w:hb().w};jQuery(g).animate(h,{duration:500,step:function(a){kb.VOM.$imgC[0].style[kb.CSStransformName]="translateX("+a+"px)",kb.VOM.$imgC.css({opacity:1-Math.abs(a/f)}),e[0].style[kb.CSStransformName]="translateX("+(-f+a)+"px) "},complete:function(){kb.VOM.$imgC[0].style[kb.CSStransformName]="",kb.VOM.$imgC.css({opacity:0}),Qa(a,b)}})}break;case"swipe":var e="nextImage"==b?kb.VOM.$imgN:kb.VOM.$imgP;if(null==kb.CSStransformName)e.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(kb.VOM.$imgC.animate({left:2*("nextImage"==b?-hb().w:hb().w)+"px"},500),e.animate({opacity:1},300)).done(function(){Qa(a,b)});else{var f="nextImage"==b?-c.w:c.w;e.css({opacity:1,left:0,visibility:"visible"}),e[0].style[kb.CSStransformName]="translateX("+-f+"px) ";var d=new NGTweenable;d.tween({from:{t:kb.VOM.swipePosX},to:{t:"nextImage"==b?-c.w:c.w},attachment:{idx:a,dT:b,$e:e,dir:f},duration:300,easing:"easeInOutSine",step:function(a,b){kb.VOM.$imgC[0].style[kb.CSStransformName]="translateX("+a.t+"px)",
b.$e[0].style[kb.CSStransformName]="translateX("+(-b.dir+a.t)+"px) "},finish:function(a,b){kb.VOM.$imgC[0].style[kb.CSStransformName]="",b.$e[0].style[kb.CSStransformName]="",Qa(b.idx,b.dT)}})}break;case"slideAppear":default:var f=hb().w+"px",e=kb.VOM.$imgP;"nextImage"==b&&(f="-"+f,e=kb.VOM.$imgN),e.css({opacity:0,left:0,visibility:"visible"}),jQuery.when(kb.VOM.$imgC.animate({left:f,opacity:0},500),e.animate({opacity:1},300)).done(function(){Ma(0),Qa(a,b)})}}function Qa(a,b){if(La(),kb.O.debugMode&&console.timeline&&console.timelineEnd("nanogallery2_viewer"),"function"!=typeof kb.O.fnImgDisplayed||kb.O.fnImgDisplayed(kb.VOM.Item(a).$elt,kb.VOM.Item(a))){kb.VOM.swipePosX=0,kb.VOM.$imgC.off("click"),kb.VOM.$imgC.removeClass("imgCurrent");var c=kb.VOM.$imgC;switch(b){case"nextImage":kb.VOM.$imgC=kb.VOM.$imgN,kb.VOM.$imgN=c;break;case"previousImage":kb.VOM.$imgC=kb.VOM.$imgP,kb.VOM.$imgP=c}kb.VOM.$imgC.addClass("imgCurrent"),kb.VOM.$imgN.css({opacity:0,left:0,visibility:"hidden"}).attr("src",""),kb.VOM.$imgN.children().eq(0).attr("src",kb.emptyGif).attr("src",kb.VOM.Item(Ra(a)).responsiveURL()),kb.VOM.$imgP.css({opacity:0,left:0,visibility:"hidden"}).attr("src",""),kb.VOM.$imgP.children().eq(0).attr("src",kb.emptyGif).attr("src",kb.VOM.Item(Sa(a)).responsiveURL());var d=kb.VOM.Item(kb.VOM.currItemIdx);(kb.VOM.playSlideshow||0==d.imageHeight||0==d.imageWidth)&&kb.VOM.$imgC.children().eq(0).ngimagesLoaded().always(function(a){0==d.imageWidth&&(d.imageWidth=kb.VOM.$imgC.children().eq(0).prop("naturalWidth")),0==d.imageHeight&&(d.imageHeight=kb.VOM.$imgC.children().eq(0).prop("naturalHeight")),kb.VOM.playSlideshow&&(kb.VOM.playSlideshowTimerID=window.setTimeout(function(){Na()},kb.VOM.slideshowDelay))}),kb.VOM.$imgC.on("click",function(b){if(b.stopPropagation(),!((new Date).getTime()-kb.VOM.timeImgChanged<400))return b.stopPropagation(),b.preventDefault(),Ta(a),!1}),Va(),kb.VOM.viewerImageIsChanged=!1,Ya("lightboxImageDisplayed")}}function Ra(a){return a==kb.VOM.items.length-1?0:a+1}function Sa(a){return 0==a?kb.VOM.items.length-1:a-1}function Ta(a){kb.VOM.viewerImageIsChanged&&kb.VOM.$content.find("*").stop(!0,!0),kb.VOM.viewerImageIsChanged=!1,kb.VOM.viewerDisplayed&&(Ua(),kb.VOM.playSlideshow&&(window.clearTimeout(kb.VOM.playSlideshowTimerID),kb.VOM.playSlideshow=!1),kb.VOM.hammertime.destroy(),kb.VOM.hammertime=null,kb.supportFullscreenAPI&&kb.VOM.viewerIsFullscreen&&(kb.VOM.viewerIsFullscreen=!1,ngscreenfull.exit()),kb.VOM.$cont.hide(0).off().show(0).html("").remove(),kb.VOM.viewerDisplayed=!1,null!=a&&(-1==kb.GOM.albumIdx?g("",kb.VOM.Item(a).albumID):(_a(kb.VOM.Item(a).albumID,""),Q())),kb.VOM.timeImgChanged=(new Date).getTime())}function Ua(){jQuery("body").css({overflow:"visible"})}function Va(a){a=void 0!==a&&a;var b=kb.VOM.$viewer.width(),c=kb.VOM.$viewer.height(),d=kb.VOM.$imgC.children().eq(0);if(null!=d&&-1!=kb.VOM.currItemIdx&&(a||kb.VOM.window.lastWidth!=b||kb.VOM.window.lastHeight!=c)){kb.VOM.window.lastWidth=b,kb.VOM.window.lastHeight=c;var e=(d.height(),d.width(),d.outerHeight(!0),d.outerHeight(!1),kb.VOM.$toolbar.find(".toolbar")),f=e.outerHeight(!0);switch(kb.O.viewerToolbar.position){case"topOverImage":kb.VOM.$content.css({height:c,width:b,top:0}),kb.VOM.$toolbar.css({top:0,bottom:""});break;case"top":c-=f,kb.VOM.$content.css({height:c,width:b,top:f}),kb.VOM.$toolbar.css({top:0});break;case"bottomOverImage":kb.VOM.$content.css({height:c,width:b,bottom:0,top:0}),kb.VOM.$toolbar.css({bottom:0});break;case"bottom":default:c-=f,kb.VOM.$content.css({width:b,top:0,bottom:f}),kb.VOM.$toolbar.css({bottom:0})}if(!kb.VOM.viewerImageIsChanged&&kb.VOM.isZooming)Wa(kb.VOM.panPosX,kb.VOM.panPosY,!1);else{kb.VOM.isZooming=!1,kb.VOM.panPosX=0,kb.VOM.panPosY=0,kb.VOM.zoomPosX=0,kb.VOM.zoomPosY=0,kb.VOM.$imgC[0].style[kb.CSStransformName]="translate3D(0,0,0) ";var g=b-kb.VOM.padding.H,h=kb.VOM.Item(kb.VOM.currItemIdx);if(h.imageWidth>0&&window.devicePixelRatio>1){var i=h.imageWidth/window.devicePixelRatio;g>i&&(g=i)}kb.VOM.$content.find("img").css({"max-width":g,"max-height":c-kb.VOM.padding.V,height:"auto",width:"auto"})}}}function Wa(a,b,c){c&&(kb.VOM.panPosX=a,kb.VOM.panPosY=b),a+=kb.VOM.zoomPosX,b+=kb.VOM.zoomPosY,kb.VOM.$imgC[0].style[kb.CSStransformName]="translate3D("+a+"px, "+b+"px, 0) "}function Xa(){var a=kb.$E.base.children("a");a.length>0&&(kb.O.$markup=a),kb.$E.base.text(""),kb.$E.base.addClass("ngy2_container");kb.O.RTL,kb.$E.base.addClass(kb.O.theme),ia(),kb.O.thumbnailLabel.get("hideIcons")&&(kb.O.icons.thumbnailAlbum="",kb.O.icons.thumbnailImage="");var b="";switch(void 0!=kb.O.navigationFontSize&&""!=kb.O.navigationFontSize&&(b=' style="font-size:'+kb.O.navigationFontSize+';"'),kb.$E.conNavigationBar=jQuery('<div class="nGY2Navigationbar" '+b+"></div>").appendTo(kb.$E.base),kb.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(kb.$E.base),kb.$E.conTnParent=jQuery('<div class="nGY2Gallery"></div>').appendTo(kb.$E.base),kb.$E.conTn=jQuery('<div class="nGY2GallerySub"></div>').appendTo(kb.$E.conTnParent),kb.O.thumbnailAlignment){case"left":kb.$E.conTnParent.css({"text-align":"left"});break;case"right":kb.$E.conTnParent.css({"text-align":"right"})}if(void 0!==kb.O.galleryBuildInit2)for(var c=kb.O.galleryBuildInit2.split("|"),d=0;d<c.length;d++){var e=c[d].split("_");2==e.length&&kb.$E.conTn.css(e[0],e[1])}for(var f=kb.tn.hoverEffects.std.concat(kb.tn.hoverEffects.level1),g=0;g<f.length;g++)switch(f[g].type){case"scale":case"rotateZ":case"rotateX":case"rotateY":case"translateX":case"translateY":case"translateY":".nGY2GThumbnail"==f[g].element&&(kb.$E.base.css("overflow","visible"),kb.$E.base.find(".nGY2GallerySub").css("overflow","visible"),kb.$E.conTnParent.css("overflow","visible"))}if(kb.$E.conTnBottom=jQuery('<div class="nGY2GalleryBottom" '+b+"></div>").appendTo(kb.$E.conTnParent),kb.O.portable){kb.$E.ngy2i=jQuery('<div class="nGY2PortInfo"><a href="http://nano.gallery" target="_blank" title="nanogallery2 | easy photo gallery for your website" style="font-weight: bold !important;color: #888 !important;font-size: 11px !important;"><img src="'+"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAWCAYAAAA4oUfxAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4QMPBwY6mxZgsAAABTFJREFUSMe1ll9oVGcaxn/fd86ZSWbSkEBMiWNdTTfRxiVbXFiU1bjKGqNexlURKys0tHqXpQZ64Sq4FxKqFy4qFSm9kA1FHNhFISgJqFCd6lL/YC7M3jhrJv5JmGSSMzPnzDnfuxdpZtP4b1vaF154P3gPD+/zPC/nVSKiAQOsBj7O5XK/nZiYeEtELH6iUEqFNTU1U9XV1d8AnwNfA1qJCMCfHz169NcjR45UXL16VWWzWQnD0PxU4JZl6draWtXW1iYHDx4sLlmy5C/AZwRB0JVOpyWRSHhACMjPmOHChQuL6XRagiDoUiIyumvXrpq+vr6obduqs7OTjRvbsbSFUgqUgKjyFG5+mlKpVH6LCMYYRAQRQSmF1hqtNd+xijGGVCpFMpkkCALZuXOn19fXN6Gmp6dNc3NzMDo66nR2dnL+/Hm+Ov933PwUAPHKagqei4gBFNs7dxGPx38U/du2bSOZTNLQ0FB6+PChbWez2WI+n3dEhI3tf+Det0N8de0Imz9YQWHa48u/3afjgxbqEpUM/es/uF8W+fijffi+TywWQ0S4fv06t2/fJpfLsXjxYtauXUtTUxNBECAihGFIJBJh1apVXLhwgXw+r7LZbNGeYU7MLD1BEPCLxkWs+HUT+SmPJY0TvPerd6l/J05YcLCGHWzbxrZtHjx4wP79+7l27dr3Jqyurqarq4ujR49i2zYAWmvCMJyVygCiZ7dh9kOtNb5XopD3KBQ8fL9EseBRyHsUCz6zS3Dnzh3WrVtXBq6oqGDBggUA5HI5jh07xo4dOzDmf0ujVBlGAWjmhTGC41hEow6RiI3j2DgRh0jUxonYWJaFGGHPnj2Mj49jWRYHDhzg7t27DA0NMTAwwOrVqwFIJpOcOHECx3Fe6oEXwG3bYux5ltHHz3mSGePpk+c8yczUI+knVFVVcePmDe7fvw9AT08Pvb29NDc3U1dXx4YNG7h8+TItLS1orTl58iT5fL68Ga8En55yWb6iifff/iPD/0iQGfglG3/zJ6a+beHf/3yH6Mjv+P269Vy5cgWlFDU1NXR3dxOGYdlcnudRVVXFvn37MMaQTqcZHh5+Kbg99zHjSodPuj997cqMjY0hItTW1hKPx9FalzW1LIswDFm0aBEAQRDguu6bJ581hOd5GBNiTEgYhuXa8z1EhIaGBgAymQzpdBqlFKVSiTCc6bcsi5s3bwJQWVlJfX39fMO9XHMAy7LQeibn1o7toJSio6MDAN/36e7uxvd9IpEIlmURjUZJpVKcOXMGpRStra0sXbr0peDfo30+LS+4U2uMMaxcuZLdu3dz7tw5+vv7aWtrY+/evdTX13Pr1i1OnTrF5OQkAIcPH8ayrNeCvx51njTGGE6fPk0mk2FwcJBUKkUqlXqh9/jx42zatKnMzJzhBEArpZT+zjGWZSEiBEHwypzVtbKykosXL3Lo0CEaGxvLpovFYqxZs4ZLly6VJQnDEBEpM6C11kopheu6JpFI+Fpr2bJli/zYGBkZkeHhYZmcnHxlz9atW0VrLYlEwndd19ixWOzx5s2b3z579qzp7+/X7e3ttLa2Yox5QaP5MfenEY1G0VoTBAHFYhFjTJlJrTX37t1jYGAAY4zp6OiQWCz2mCAItj979kyWL1/uAwE/7zERLFu2zH/69KkEQbB99ozaOz4+fqy3t7d2cHAwdF1XKaXe6P7/16AiQjwel/Xr1+uenp6Jurq6T4Av1JwD8j3gQ2BVsVh8S72J8x8QIiIVFRVTQAo4CwwB+r93qCLI9wKZ8AAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wMy0xNVQwNzowNjo1OC0wNDowMBNQsyUAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDMtMTVUMDc6MDY6NTgtMDQ6MDBiDQuZAAAAAElFTkSuQmCC"+'" style="height:16px !important;box-shadow: none !important;vertical-align: middle !important;"/> &nbsp; nanogallery2</a></div>').appendTo(kb.$E.base),kb.$E.ngy2i.find("a").on({mouseenter:function(){jQuery(this).attr("style","color: #73A623 !important")},mouseleave:function(){jQuery(this).attr("style","color: #888 !important")}})}switch(kb.$E.conConsole=jQuery('<div class="nGY2ConsoleParent"></div>').appendTo(kb.$E.base),cb(),document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled?kb.supportFullscreenAPI=!0:NGY2Tools.NanoConsoleLog(kb,"Your browser does not support the fullscreen API. Fullscreen button will not be displayed."),fa(),kb.tn.opt.Get("displayTransition")){case"SCALEDOWN":case"RANDOMSCALE":default:kb.$E.base.css("overflow","visible"),kb.$E.conTnParent.css("overflow","visible"),kb.$E.conTn.css("overflow","visible")}}function Ya(a){var b=a+".nanogallery2",c=null;try{c=new Event(b)}catch(d){c=document.createEvent("Event"),c.initEvent(b,!1,!1)}kb.$E.base.trigger(b,c)}function Za(){kb.$E.conTnParent.on({mouseenter:ua,mouseleave:va},".nGY2GThumbnail"),kb.GOM.hammertime=new NGHammer(kb.$E.conTn[0]),kb.GOM.hammertime.on("pan",function(a){kb.O.paginationSwipe&&kb.layout.support.rows&&"PAGINATION"==kb.galleryDisplayMode.Get()&&kb.$E.conTn.css(kb.CSStransformName,"translateX("+a.deltaX+"px)")}),kb.GOM.hammertime.on("panend",function(a){if(kb.O.paginationSwipe&&kb.layout.support.rows&&"PAGINATION"==kb.galleryDisplayMode.Get()){if(Math.abs(a.deltaY)>100)return void kb.$E.conTn.css(kb.CSStransformName,"translateX(0px)");if(a.deltaX>50)return void p();if(a.deltaX<-50)return void o();kb.$E.conTn.css(kb.CSStransformName,"translateX(0px)")}}),kb.GOM.hammertime.on("tap",function(a){if(a.srcEvent.stopPropagation(),a.srcEvent.preventDefault(),"mouse"==a.pointerType){if("exit"==la(a.srcEvent))return}else{var b=wa(a.srcEvent,!1);if(-1==b.GOMidx)return;if("NONE"!=b.action&&"OPEN"!=b.action)return void la(a.srcEvent);kb.O.touchAutoOpenDelay>0?(S(),R(b.GOMidx),window.clearInterval(kb.touchAutoOpenDelayTimerID),kb.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(kb.touchAutoOpenDelayTimerID),xa(kb.GOM.items[b.GOMidx].thumbnailIdx,!0)},kb.O.touchAutoOpenDelay)):kb.I[kb.GOM.items[b.GOMidx].thumbnailIdx].hovered?xa(kb.GOM.items[b.GOMidx].thumbnailIdx,!0):(S(),R(b.GOMidx))}}),kb.O.locationHash&&jQuery(window).bind("hashchange",function(){$a(!0)}),jQuery(window).on("resize.nanogallery2."+kb.baseEltID,ob(ab,100,!1)),a(window).on("scroll.nanogallery2."+kb.baseEltID,ob(bb,100,!1)),jQuery(document).keyup(function(a){if(kb.popup.isDisplayed)switch(a.keyCode){case 27:kb.popup.close()}else if(kb.VOM.viewerDisplayed)switch(a.keyCode){case 27:Ta(kb.VOM.currItemIdx);break;case 32:case 13:Ia();break;case 38:case 39:case 33:Na();break;case 40:case 37:case 34:Oa()}}),jQuery(window).bind("mousewheel wheel",function(a){if(kb.VOM.viewerDisplayed){var b=0;a.preventDefault(),Fa()&&(a.originalEvent.deltaY?b=a.originalEvent.deltaY:a.originalEvent.wheelDelta&&(b=-a.originalEvent.wheelDelta),Ga(b<=0))}})}function $a(){if(!kb.O.locationHash)return!1;var a="#nanogallery/"+kb.baseEltID+"/",b=location.hash;if(console.log("newLocationHash1: "+b),console.log("G.locationHashLastUsed: "+kb.locationHashLastUsed),""==b&&-1!=kb.GOM.lastDisplayedIdx)return kb.locationHashLastUsed="",g("","0"),!0;if(b!=kb.locationHashLastUsed){if(0==b.indexOf(a)){var c=f(b.substring(a.length));return"0"!=c.imageID?(console.log("display: "+c.albumID+"-"+c.imageID),U(c.imageID,c.albumID),!0):(g("-1",c.albumID),!0)}return!1}}function _a(a,b){if(!kb.O.locationHash)return!1;if("-1"==a||"0"==a)return""!=location.hash&&("pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):location.hash=""),void(kb.locationHashLastUsed="");var c="#nanogallery/"+kb.baseEltID+"/"+a;""!=b&&(c+="/"+b);var d=location.hash;if(console.log("newLocationHash2: "+c),console.log("lH: "+d),""==d||d!=c){kb.locationHashLastUsed=c,console.log("new G.locationHashLastUsed: "+kb.locationHashLastUsed);try{top.location.hash=c}catch(e){kb.O.locationHash=!1}}}function ab(){if(kb.VOM.viewerDisplayed)Va();else if(kb.galleryResizeEventEnabled){var a=eb();-1==kb.GOM.albumIdx||kb.tn.settings.getH()==kb.tn.settings.height[kb.GOM.curNavLevel][a]&&kb.tn.settings.getW()==kb.tn.settings.width[kb.GOM.curNavLevel][a]?v():(kb.GOM.curWidth=a,kb.GOM.pagination.currentPage=0,r(kb.GOM.albumIdx))}}function bb(){kb.scrollTimeOut&&clearTimeout(kb.scrollTimeOut),kb.scrollTimeOut=setTimeout(function(){if(!kb.VOM.viewerDisplayed)return void(kb.galleryResizeEventEnabled&&v())},10)}function cb(){kb.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===kb.i18nLang&&(kb.i18nLang="");var a=-("_"+kb.i18nLang).length;if("object"==pb(kb.O.i18n))for(var b in kb.O.i18n){var c=b.substr(a);c=="_"+kb.i18nLang?kb.i18nTranslations[b.substr(0,b.length-c.length)]=kb.O.i18n[b]:kb.i18nTranslations[b]=kb.O.i18n[b]}}function db(a,b){return""!=kb.i18nLang&&void 0!==a[b+"_"+kb.i18nLang]&&a[b+"_"+kb.i18nLang].length>0?a[b+"_"+kb.i18nLang]:a[b]}function eb(){var a=hb().w;return kb.O.breakpointSizeSM>0&&a<kb.O.breakpointSizeSM?"xs":kb.O.breakpointSizeME>0&&a<kb.O.breakpointSizeME?"sm":kb.O.breakpointSizeLA>0&&a<kb.O.breakpointSizeLA?"me":kb.O.breakpointSizeXL>0&&a<kb.O.breakpointSizeXL?"la":"xl"}function fb(){var a="Your browser version is not supported anymore. The image gallery cannot be displayed. <br><br>Please update to a more recent one. Download:<br>";a+='&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/chrome/?hl=en-US)">Chrome</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.mozilla.com/firefox/)">Firefox</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">Internet Explorer</a><br>',a+='&nbsp;&nbsp;&nbsp; <a href="http://www.apple.com/safari/download/">Safari</a>',lb(kb,a,!1)}function gb(a){for(var b=document.createElement("div"),c=0;c<a.length;++c)if(void 0!==b.style[a[c]])return a[c];return null}function hb(){var a=jQuery(window);return{l:a.scrollLeft(),t:a.scrollTop(),w:a.width(),h:a.height()}}function ib(a,b){var c=0;""==a&&(a="*"),jQuery(a).each(function(){var a=parseInt(jQuery(this).css("z-index"));c=a>c?a:c}),c++,jQuery(b).css("z-index",c)}this.ReloadAlbum=function(){if(""===kb.O.kind)throw"Not supported for this content source:"+kb.O.kind;var a=kb.GOM.albumIdx;if(-1==a)throw"Current album not found.";for(var b=kb.I[a].GetID(),c=kb.I.length,d=0;d<c;d++){var e=kb.I[d];e.albumID==b&&(e.selected=!1)}kb.I[a].contentIsLoaded=!1,g("-1",b)},this.ItemsSetSelectedValue=function(a,b){for(var c=a.length,d=0;d<c;d++)qa(a[d],b)},this.ItemsSelectedGet=function(){for(var a=[],b=kb.I.length,c=0;c<b;c++)1==kb.I[c].selected&&a.push(kb.I[c]);return a},this.Get=function(a){return kb.O[a]},this.Set=function(a,b){switch(kb.O[a]=b,a){case"thumbnailSelectable":oa(),r(kb.GOM.albumIdx)}},this.Refresh=function(){r(kb.GOM.albumIdx)},this.Search=function(a){kb.GOM.albumSearch=a.toUpperCase(),r(kb.GOM.albumIdx)},this.Destroy=function(){null!=kb.GOM.hammertime&&(kb.GOM.hammertime.destroy(),kb.GOM.hammertime=null),null!=kb.VOM.hammertime&&(kb.VOM.hammertime.destroy(),kb.VOM.hammertime=null),a("#ngycs_"+kb.baseEltID).remove(),kb.GOM.items=[],kb.GOM.navigationBar.$newContent=null,kb.$E.base.empty(),kb.$E.base.removeData(),jQuery(window).off("resize.nanogallery2."+kb.baseEltID),jQuery(window).off("scroll.nanogallery2."+kb.baseEltID)};var jb=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=!1===c.leading?0:(new Date).getTime(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=(new Date).getTime();h||!1!==c.leading||(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||!1===c.trailing||(g=setTimeout(i,k)),f}},kb=this;kb.I=[],kb.Id=[],kb.O=null,kb.baseEltID=null,kb.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conNavigationBar:null,conTnBottom:null},kb.shoppingCart=[],kb.layout={internal:!0,engine:"",support:{rows:!1},prerequisite:{imageSize:!1},SetEngine:function(){if(kb.layout.internal){if("auto"==kb.tn.settings.getW()||""==kb.tn.settings.getW())return kb.layout.engine="JUSTIFIED",kb.layout.support.rows=!0,void(kb.layout.prerequisite.imageSize=!0);if("auto"==kb.tn.settings.getH()||""==kb.tn.settings.getH())return kb.layout.engine="CASCADING",kb.layout.support.rows=!1,void(kb.layout.prerequisite.imageSize=!0);kb.layout.engine="GRID",kb.layout.support.rows=!0,!0===kb.tn.opt.Get("crop")?kb.layout.prerequisite.imageSize=!0:kb.layout.prerequisite.imageSize=!1}}},kb.galleryResizeEventEnabled=!1,kb.galleryMaxRows={l1:0,lN:0,Get:function(){return kb.galleryMaxRows[kb.GOM.curNavLevel]}},kb.galleryMaxItems={l1:0,lN:0,Get:function(){return kb.galleryMaxItems[kb.GOM.curNavLevel]}},kb.galleryFilterTags={l1:0,lN:0,Get:function(){return kb.galleryFilterTags[kb.GOM.curNavLevel]}},kb.galleryDisplayMode={l1:"FULLCONTENT",lN:"FULLCONTENT",Get:function(){return kb.galleryDisplayMode[kb.GOM.curNavLevel]}},kb.galleryLastRowFull={l1:!1,lN:!1,Get:function(){return kb.galleryLastRowFull[kb.GOM.curNavLevel]}},kb.gallerySorting={l1:"",lN:"",Get:function(){return kb.gallerySorting[kb.GOM.curNavLevel]}},kb.$currentTouchedThumbnail=null,kb.tn={opt:{l1:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},lN:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},Get:function(a){return kb.tn.opt[kb.GOM.curNavLevel][a]}},scale:1,borderWidth:0,borderHeight:0,labelHeight:{l1:0,lN:0,get:function(){return kb.tn.labelHeight[kb.GOM.curNavLevel]}},defaultSize:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},getWidth:function(){return kb.tn.defaultSize.width[kb.GOM.curNavLevel][kb.GOM.curWidth]},getOuterWidth:function(){return kb.tn.defaultSize.width[kb.GOM.curNavLevel][kb.GOM.curWidth]+2*kb.tn.borderWidth},getHeight:function(){return kb.tn.defaultSize.height[kb.GOM.curNavLevel][kb.GOM.curWidth]},getOuterHeight:function(){return kb.tn.defaultSize.height[kb.GOM.curNavLevel][kb.GOM.curWidth]+2*kb.tn.borderHeight}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(){return kb.tn.settings.height[kb.GOM.curNavLevel][kb.GOM.curWidth]},getW:function(){return kb.tn.settings.width[kb.GOM.curNavLevel][kb.GOM.curWidth]}},hoverEffects:{std:[],level1:[],get:function(){return"l1"==kb.GOM.curNavLevel&&0!==kb.tn.hoverEffects.level1.length?kb.tn.hoverEffects.level1:kb.tn.hoverEffects.std}},buildInit:{std:[],level1:[],get:function(){return"l1"==kb.GOM.curNavLevel&&0!==kb.tn.buildInit.level1.length?kb.tn.buildInit.level1:kb.tn.buildInit.std}},toolbar:{album:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},image:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},albumUp:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},get:function(a){return kb.tn.toolbar[a.kind]}},style:{l1:{annotation:"",label:"",title:"",desc:""},lN:{annotation:"",label:"",title:"",desc:""},getTitle:function(){return'style="'+kb.tn.style[kb.GOM.curNavLevel].title+'"'},getDesc:function(){return'style="'+kb.tn.style[kb.GOM.curNavLevel].desc+'"'},getAnnotation:function(){var a='style="'+kb.tn.style[kb.GOM.curNavLevel].annotation;return a+=kb.O.RTL?'"direction:RTL;"':"",a+='"'},getLabel:function(){return'style="'+kb.tn.style[kb.GOM.curNavLevel].label+'"'}}},kb.scrollTimeOut=0,kb.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},kb.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",kb.CSStransformName=gb(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),kb.CSStransformStyle=gb(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),kb.CSSperspective=gb(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),kb.CSSbackfaceVisibilityName=gb(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),kb.CSStransitionName=gb(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),kb.CSSanimationName=gb(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),kb.GalleryResizeThrottled=jb(v,100,{leading:!1}),kb.blackList=null,kb.whiteList=null,kb.albumList=[],kb.albumListHidden=[],kb.locationHashLastUsed="",kb.custGlobals={},kb.touchAutoOpenDelayTimerID=0,kb.supportFullscreenAPI=!1,kb.i18nLang="",kb.timeLastTouchStart=0,kb.custGlobals={},kb.GOM={albumIdx:-1,clipArea:{top:0,height:0},displayArea:{width:0,height:0},displayAreaLast:{width:0,height:0},displayedMoreSteps:0,items:[],$imgPreloader:[],itemsDisplayed:0,firstDisplay:!0,navigationBar:{displayed:!1,$newContent:""},cache:{viewport:null,containerOffset:null},nbSelected:0,pagination:{currentPage:0},lastFullRow:-1,lastDisplayedIdx:-1,displayInterval:{from:0,len:0},userEvents:null,hammertime:null,curNavLevel:"l1",curWidth:"me",albumSearch:"",lastZIndex:0,lastRandomValue:0},kb.VOM={viewerDisplayed:!1,viewerIsFullscreen:!1,infoDisplayed:!1,currentZoom:1,isZooming:!1,padding:{H:0,V:0},window:{lastWidth:0,lastHeight:0},$cont:null,$viewer:null,$toolbar:null,$toolbarTL:null,$toolbarTR:null,$content:null,$imgP:null,$imgC:null,$imgN:null,toolbarMode:"std",playSlideshow:!1,playSlideshowTimerID:0,slideshowDelay:3e3,albumID:-1,currItemIdx:-1,viewerImageIsChanged:!1,items:[],Item:function(a){return kb.I[this.items[a].imageIdx]},userEvents:null,hammertime:null,swipePosX:0,panPosX:0,panPosY:0,zoomPosX:0,zoomPosY:0,colorSchemeLabel:"",timeImgChanged:0},kb.popup={isDisplayed:!1,$elt:null,close:function(){if(null!=this.$elt){(new NGTweenable).tween({from:{opacity:1},to:{opacity:0},attachment:{t:this},easing:"easeInOutSine",duration:100,step:function(a,b){null!=b.t.$elt&&b.t.$elt.css("opacity",a.opacity)},finish:function(a,b){null!=b.t.$elt&&(b.t.$elt.remove(),b.t.$elt=null),b.t.isDisplayed=!1}})}}},kb.colorScheme_dark={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#111",color:"#fff",colorHover:"#ccc",borderRadius:"6px"},navigationFilter:{color:"#ddd",background:"#111",colorSelected:"#fff",backgroundSelected:"#111",borderRadius:"6px"},thumbnail:{background:"#000",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#aaa"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#111",backgroundSelected:"#666",color:"#fff",borderRadius:"4px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}},kb.colorScheme_light={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#eee",color:"#000",colorHover:"#333",borderRadius:"6px"},navigationFilter:{background:"#eee",color:"#222",colorSelected:"#000",backgroundSelected:"#eee",borderRadius:"6px"},thumbnail:{background:"#000",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#888"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#eee",backgroundSelected:"#aaa",color:"#000",borderRadius:"4px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}},kb.colorSchemeViewer_dark={background:"#000",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},kb.colorSchemeViewer_border={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},kb.colorSchemeViewer_light={background:"#f8f8f8",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var lb=NGY2Tools.NanoAlert,mb=NGY2Tools.NanoConsoleLog;this.initiateGallery2=function(a,b){kb.O=b,kb.$E.base=jQuery(a),kb.baseEltID=kb.$E.base.attr("id"),void 0==kb.baseEltID&&(kb.baseEltID="my_nanogallery",kb.$E.base.attr("id",kb.baseEltID)),kb.O.$markup=[],_(),ka(),Xa(),Za();var c=kb.O.album;if(""==c&&""!=kb.O.photoset&&(c=kb.O.photoset),""==c||(kb.O.displayBreadcrumb=!1,"NONE"==c.toUpperCase())){NGY2Item.New(kb,kb.i18nTranslations.breadcrumbHome,"","0","-1","album");d()}else{var e=c.indexOf("&authkey=");if(-1==e&&(e=c.indexOf("?authkey=")),e>0){kb.O.locationHash=!1;var f=c.substring(0,e),h=c.substring(e);-1==h.indexOf("Gv1sRg")&&(h="&authkey=Gv1sRg"+h.substring(9));NGY2Item.New(kb,"","",f,"-1","album").authkey=h,g("-1",f)}else{NGY2Item.New(kb,"","",c,"-1","album");g("-1",c)}}};var nb={RANDOMSCALE:function(a,b){function c(a,b){return Math.floor(Math.random()*(b-a+1)+a)}for(var d=[.95,1,1.05,1.1],e=[1,2,3,4],f=c(0,3);f==kb.GOM.lastRandomValue;)f=c(0,3);kb.GOM.lastRandomValue=f;var g=d[f];a.$elt.css({"z-index":kb.GOM.lastZIndex+e[f],"box-shadow":"0px 0px 5px 3px rgba(0,0,0,0.74)"}),(new NGTweenable).tween({from:{scale:.5,opacity:0},to:{scale:g,opacity:1},attachment:{$e:a.$elt,item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:kb.tn.opt.Get("displayTransitionEasing")},step:function(a,b){b.$e.css(kb.CSStransformName,"scale("+a.scale+")").css("opacity",a.opacity)},finish:function(a,b){b.$e.css(kb.CSStransformName,"scale("+a.scale+")").css("opacity",""),O(b.item)}})},SCALEUP:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=.6),(new NGTweenable).tween({from:{scale:c,opacity:0},to:{scale:1,opacity:1},attachment:{$e:a.$elt,item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:kb.tn.opt.Get("displayTransitionEasing")},step:function(a,b){b.$e.css(kb.CSStransformName,"scale("+a.scale+")").css("opacity",a.opacity)},finish:function(a,b){b.$e.css(kb.CSStransformName,"").css("opacity",""),O(b.item)}})},SCALEDOWN:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=1.3),(new NGTweenable).tween({from:{scale:c,opacity:0},to:{scale:1,opacity:1},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:kb.tn.opt.Get("displayTransitionEasing")},step:function(a,b){b.item.$elt.last().css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){b.item.$elt.last().css("opacity",""),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail"),O(b.item)}})},SLIDEUP:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=50),(new NGTweenable).tween({from:{opacity:0,translateY:c,scale:.8},to:{opacity:1,translateY:0,scale:1},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:"easeOutQuart"},step:function(a,b){b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translateY",a.translateY+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){this._step(a,b),b.item.$elt.css("opacity",""),O(b.item)}})},SLIDEDOWN:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=-50),(new NGTweenable).tween({from:{opacity:0,translateY:c,scale:.8},to:{opacity:1,translateY:0,scale:1},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:"easeOutQuart"},step:function(a,b){b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translateY",a.translateY+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){this._step(a,b),b.item.$elt.css("opacity",""),O(b.item)}})},FLIPUP:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=100),(new NGTweenable).tween({from:{opacity:0,translateX:c,rotateX:45,scale:.8},to:{opacity:1,translateX:0,rotateX:0,scale:1},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateX:"easeOutQuart"},step:function(a,b){b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translateY",a.translateX+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateX",a.rotateX+"deg"),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){this._step(a,b),b.item.$elt.css("opacity",""),O(b.item)}})},FLIPDOWN:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=100),(new NGTweenable).tween({from:{opacity:0,translateX:c,rotateX:60,scale:.8},to:{opacity:1,translateX:0,rotateX:0,scale:1},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateX:"easeOutQuart"},step:function(a,b){b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translateY",a.translateX+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateX",a.rotateX+"deg"),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){this._step(a,b),b.item.$elt.css("opacity",""),O(b.item)}})},SLIDEUP2:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=100),(new NGTweenable).tween({from:{opacity:0,translateY:c,rotateY:40,scale:.8},to:{opacity:1,translateY:0,rotateY:0,scale:1},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateX:"easeOutQuart"},step:function(a,b){b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translateY",a.translateY+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateY",a.rotateY+"deg"),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){this._step(a,b),b.item.$elt.css("opacity",""),O(b.item)}})},SLIDEDOWN2:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=-100),(new NGTweenable).tween({from:{opacity:0,translateY:c,rotateY:40,scale:.8},to:{opacity:1,translateY:0,rotateY:0,scale:1},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{
opacity:"easeOutQuint",scale:"easeOutQuart",translateY:"easeOutQuart"},step:function(a,b){b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translateY",a.translateY+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateY",a.rotateY+"deg"),b.item.CSSTransformSet(".nGY2GThumbnail","scale",a.scale),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){this._step(a,b),b.item.$elt.css("opacity",""),b.item.CSSTransformApply(".nGY2GThumbnail"),O(b.item)}})},SLIDERIGHT:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=-150),(new NGTweenable).tween({from:{opacity:0,translateX:c,rotateZ:10},to:{opacity:1,translateX:0,rotateZ:0},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",translateX:"easeOutQuart",rotateZ:"easeOutQuart"},step:function(a,b){b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translateX",a.translateX+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateZ",a.rotateZ+"deg"),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){this._step(a,b),b.item.$elt.css("opacity",""),O(b.item)}})},SLIDELEFT:function(a,b){var c=kb.tn.opt.Get("displayTransitionStartVal");0==c&&(c=150),(new NGTweenable).tween({from:{opacity:0,translateX:c,rotateZ:-10},to:{opacity:1,translateX:0,rotateZ:0},attachment:{item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",translateX:"easeOutQuart",rotateZ:"easeOutQuart"},step:function(a,b){b.item.$elt.css("opacity",a.opacity),b.item.CSSTransformSet(".nGY2GThumbnail","translateX",a.translateX+"px"),b.item.CSSTransformSet(".nGY2GThumbnail","rotateZ",a.rotateZ+"deg"),b.item.CSSTransformApply(".nGY2GThumbnail")},finish:function(a,b){this._step(a,b),b.item.$elt.css("opacity",""),O(b.item)}})},FADEIN:function(a,b){(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},attachment:{$e:a.$elt,item:a},delay:b,duration:kb.tn.opt.Get("displayTransitionDuration"),easing:"easeInOutSine",step:function(a,b){b.$e.css(a)},finish:function(a,b){b.$e.css("opacity",""),O(b.item)}})}},ob=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}},pb=function(a){return{}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}}a.nanogallery2=function(a,c){var d=this;d.$e=jQuery(a),d.e=a,d.$e.data("nanogallery2data",d),d.init=function(){void 0===window.NGY2Item&&(window.NGY2Tools=function(){function a(){}return a.AreaShuffle=function(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},a.FilterAlbumName=function(a,b){var c=a.toUpperCase();if(!(this.albumList.length>0)){var d=!1;if(null!==this.whiteList){for(var e=0;e<this.whiteList.length;e++)-1!==c.indexOf(this.whiteList[e])&&(d=!0);if(!d)return!1}if(null!==this.blackList)for(var e=0;e<this.blackList.length;e++)if(-1!==c.indexOf(this.blackList[e]))return!1;return!0}for(var e=0;e<this.albumList.length;e++)if(c===this.albumList[e].toUpperCase()||b===this.albumList[e])return!0},a.NanoAlert=function(b,c,d){a.NanoConsoleLog.call(b,c),null!=b.$E.conConsole&&(b.$E.conConsole.css({visibility:"visible",minHeight:"100px"}),0==d?b.$E.conConsole.append("<p>"+c+"</p>"):b.$E.conConsole.append("<p>nanogallery2: "+c+" ["+b.baseEltID+"]</p>"))},a.NanoConsoleLog=function(a,b){window.console&&console.log("nanogallery2: "+b+" ["+a.baseEltID+"]")},a.PreloaderDisplay=function(a){!0===a?this.$E.conLoadingB.removeClass("nanoGalleryLBarOff").addClass("nanoGalleryLBar"):this.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")},a.GetImageTitleFromURL=function(a){if("%filename"==this.O.thumbnailLabel.get("title"))return a.split("/").pop().replace("_"," ");if("%filenameNoExt"==this.O.thumbnailLabel.get("title")){return a.split("/").pop().split(".").shift().replace("_"," ")}return a},a.AlbumPostProcess=function(b){var c=this.gallerySorting[this.GOM.curNavLevel],d=this.galleryMaxItems[this.GOM.curNavLevel];if(""!=c||d>0){var e=this.I.filter(function(a){return a.albumID==b&&"albumUp"!=a.kind});switch(c){case"RANDOM":e=a.AreaShuffle(e);break;case"REVERSED":e=e.reverse();break;case"TITLEASC":e.sort(function(a,b){return a.title.toUpperCase()<b.title.toUpperCase()?-1:a.title.toUpperCase()>b.title.toUpperCase()?1:0});break;case"TITLEDESC":e.sort(function(a,b){return a.title.toUpperCase()>b.title.toUpperCase()?-1:a.title.toUpperCase()<b.title.toUpperCase()?1:0})}d>0&&e.length>d&&e.splice(d-1,e.length-d),this.I.removeIf(function(a){return a.albumID==b&&"albumUp"!=a.kind}),this.I.push.apply(this.I,e)}},a}(),window.NGY2Item=function(){function a(a){var b=0;b=void 0===a||null===a?d++:a,this.GetID=function(){return b},this.kind="",this.G=null,this.title="",this.description="",this.albumID=0,this.src="",this.width=0,this.height=0,this.destinationURL="",this.downloadURL="",this.author="",this.left=0,this.top=0,this.width=0,this.height=0,this.resizedContentWidth=0,this.resizedContentHeight=0,this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.featured=!1,this.flickrThumbSizes={},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.numberItems=0,this.imageNumber=0,this.imageCounter=0,this.eltTransform=[],this.eltFilter=[],this.eltEffect=[],this.authkey="",this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.imageWidth=0,this.imageHeight=0,this.$elt=null,this.$Elts=[],this.tags=[],this.albumTagList=[],this.albumTagListSel=[],this.exif={exposure:"",flash:"",focallength:"",fstop:"",iso:"",model:"",time:"",location:""}}function b(a,b){return 1==a.O.allowHTMLinData?b:String(b).replace(/[&<>"'`=\/]/g,function(a){return e[a]})}function c(a,b){if("0"===(a=String(a))||1==b)return a;var c=Number(a.replace(/[a-zA-Z]/g,"")),d=a.match(/([^\-0-9\.]+)/g),e="";return null!=d&&d.length>0&&(e=d.join()),isNaN(c)||0==c?a:(c*=b)+e}var d=1;a.Get=function(a,b){for(var c=a.I.length,d=0;d<c;d++)if(a.I[d].GetID()==b)return a.I[d];return null},a.GetIdx=function(a,b){for(var c=a.I.length,d=0;d<c;d++)if(a.I[d].GetID()==b)return d;return-1},a.New=function(c,d,e,f,g,h,i){var j=a.Get(c,g);if(-1!=g&&0!=g&&"image gallery by nanogallery2 [build]"!=d&&c.O.thumbnailLevelUp&&0==j.getContentLength(!1)){var k=new a("0");c.I.push(k),j.contentLength+=1,k.title="UP",k.albumID=g,k.kind="albumUp",k.G=c,jQuery.extend(!0,k.thumbs.width,c.tn.defaultSize.width),jQuery.extend(!0,k.thumbs.height,c.tn.defaultSize.height)}var k=a.Get(c,f);null===k&&(k=new a(f),c.I.push(k),-1!=g&&"image gallery by nanogallery2 [build]"!=d&&(j.contentLength+=1)),k.G=c,k.albumID=g,k.kind=h,"image"==h&&(j.imageCounter+=1,k.imageNumber=j.imageCounter);var l=c.O.thumbnailFeaturedKeyword;if(""!=l){l=l.toUpperCase();var m=d.toUpperCase().indexOf(l);m>-1&&(k.featured=!0,d=d.substring(0,m)+d.substring(m+l.length,d.length)),m=e.toUpperCase().indexOf(l),m>-1&&(k.featured=!0,e=e.substring(0,m)+e.substring(m+l.length,e.length))}if(0!=c.galleryFilterTags.Get())if(1==c.galleryFilterTags.Get())""!=i&&void 0!=i&&k.setTags(i.split(" "));else switch(c.galleryFilterTags.Get().toUpperCase()){case"TITLE":for(var n,o=/(?:^|\W)#(\w+)(?!\w)/g,p=[],i="";n=o.exec(d);)p.push(n[1].replace(/^\s*|\s*$/,""));k.setTags(p),d=d.split("#").join("");break;case"DESCRIPTION":for(var n,o=/(?:^|\W)#(\w+)(?!\w)/g,p=[],i="";n=o.exec(e);)p.push(n[1].replace(/^\s*|\s*$/,""));k.setTags(p),e=e.split("#").join("")}return k.title=b(c,d),k.description=b(c,e),k};var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return a.get_nextId=function(){return d},a.prototype.$getElt=function(a,b){return null==this.$elt?null:void 0!==this.$Elts[a]&&1==!b?this.$Elts[a]:(this.$Elts[a]=".nGY2GThumbnail"==a?this.$elt:this.$elt.find(a),this.$Elts[a])},a.prototype.album=function(){return this.G.I[a.GetIdx(this.G,this.albumID)]},a.prototype.imageSet=function(a,b,c){this.src=a,this.width=b,this.height=c},a.prototype.thumbSet=function(a,b,c,d,e){var f=["xs","sm","me","la","xl"];if(void 0===d||""==d||null==d)for(var g=0;g<f.length;g++)void 0===e||""==e?(this.thumbs.url.l1[f[g]]=a,this.thumbs.height.l1[f[g]]=c,this.thumbs.width.l1[f[g]]=b,this.thumbs.url.lN[f[g]]=a,this.thumbs.height.lN[f[g]]=c,this.thumbs.width.lN[f[g]]=b):(this.thumbs.url[e][f[g]]=a,this.thumbs.height[e][f[g]]=c,this.thumbs.width[e][f[g]]=b);else void 0===e||""==e||null==e?(this.thumbs.url.l1[d]=a,this.thumbs.height.l1[d]=c,this.thumbs.width.l1[d]=b,this.thumbs.url.lN[d]=a,this.thumbs.height.lN[d]=c,this.thumbs.width.lN[d]=b):(this.thumbs.url[e][d]=a,this.thumbs.height[e][d]=c,this.thumbs.width[e][d]=b);for(var f=["xs","sm","me","la","xl"],g=0;g<f.length;g++)this.thumbs.height.l1[f[g]]=c;for(var g=0;g<f.length;g++)this.G.tn.settings.height.lN[f[g]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[f[g]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[f[g]]=c)},a.prototype.thumbSetImgHeight=function(a){for(var b=["xs","sm","me","la","xl"],c=0;c<b.length;c++)this.G.tn.settings.height.l1[b[c]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[b[c]]==this.G.tn.settings.getW()&&(this.thumbs.height.l1[b[c]]=a);for(var c=0;c<b.length;c++)this.G.tn.settings.height.lN[b[c]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[b[c]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[b[c]]=a)},a.prototype.thumbSetImgWidth=function(a){for(var b=["xs","sm","me","la","xl"],c=0;c<b.length;c++)this.G.tn.settings.height.l1[b[c]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[b[c]]==this.G.tn.settings.getW()&&(this.thumbs.width.l1[b[c]]=a);for(var c=0;c<b.length;c++)this.G.tn.settings.height.lN[b[c]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[b[c]]==this.G.tn.settings.getW()&&(this.thumbs.width.lN[b[c]]=a)},a.prototype.thumbImg=function(){var a={src:"",width:0,height:0};return"image gallery by nanogallery2 [build]"==this.title?(a.src=this.G.emptyGif,a.url=this.G.emptyGif,a):(a.src=this.thumbs.url[this.G.GOM.curNavLevel][this.G.GOM.curWidth],a.width=this.thumbs.width[this.G.GOM.curNavLevel][this.G.GOM.curWidth],a.height=this.thumbs.height[this.G.GOM.curNavLevel][this.G.GOM.curWidth],a)},a.prototype.setTags=function(a){if(a.length>0){this.tags=a;for(var b=this.album().albumTagList,c=0;c<a.length;c++){for(var d=!1,e=0;e<b.length;e++)a[c].toUpperCase()==b[e].toUpperCase()&&(d=!0);0==d&&(this.album().albumTagList.push(a[c]),this.album().albumTagListSel.push(a[c]))}}},a.prototype.checkTagFilter=function(){if(0!=this.G.galleryFilterTags.Get()&&this.album().albumTagList.length>0){if(this.G.O.thumbnailLevelUp&&"albumUp"==this.kind)return!0;for(var a=!1,b=this.album().albumTagListSel,c=0;c<this.tags.length;c++)for(var d=0;d<b.length;d++)if(this.tags[c].toUpperCase()==b[d].toUpperCase()){a=!0;break}return a}return!0},a.prototype.getContentLength=function(a){if(0==a||0==this.albumTagList.length||0==this.G.galleryFilterTags.Get())return this.contentLength;for(var b=this.G.I.length,c=0,d=this.GetID(),e=0;e<b;e++){var f=this.G.I[e];f.albumID==d&&f.checkTagFilter()&&f.isSearchFound()&&c++}return c},a.prototype.isSearchFound=function(){return""==this.G.GOM.albumSearch||-1!=this.title.toUpperCase().indexOf(this.G.GOM.albumSearch)},a.prototype.responsiveURL=function(){var a="";switch(this.G.O.kind){case"":case"flickr":a=this.src;break;case"picasa":case"google":case"google2":default:a=this.src}return a},a.prototype.CSSTransformApply=function(a){var b=this.eltTransform[a];if(".nGY2GThumbnail"==a)for(var d=b.$elt.length-1,e=1,f=1,g=1,h=1,i=1,j=1,k=1,l=d;l>=0;l--){var m="translateX("+c(b.translateX,e)+") translateY("+c(b.translateY,f)+") translateZ("+c(b.translateZ,g)+") scale("+c(b.scale,k)+")";this.G.IE<=9||this.G.isGingerbread?m+=" rotate("+c(b.rotateZ,j)+")":m+=" rotateX("+c(b.rotateX,h)+") rotateY("+c(b.rotateY,i)+") rotateZ("+c(b.rotateZ,j)+")",b.$elt[l].style[this.G.CSStransformName]=m,d>0&&(e-=this.G.tn.opt.Get("stacksTranslateX"),f-=this.G.tn.opt.Get("stacksTranslateY"),g-=this.G.tn.opt.Get("stacksTranslateZ"),h-=this.G.tn.opt.Get("stacksRotateX"),i-=this.G.tn.opt.Get("stacksRotateY"),j-=this.G.tn.opt.Get("stacksRotateZ"),k-=this.G.tn.opt.Get("stacksScale"))}else if(void 0!=b.$elt[0]){var m="translateX("+b.translateX+") translateY("+b.translateY+") translateZ("+b.translateY+") scale("+b.scale+")";this.G.IE<=9||this.G.isGingerbread?m+=" rotate("+b.rotateZ+")":m+=" rotateX("+b.rotateX+") rotateY("+b.rotateY+") rotateZ("+b.rotateZ+")",b.$elt[0].style[this.G.CSStransformName]=m}},a.prototype.CSSTransformSet=function(a,b,c){void 0==this.eltTransform[a]&&(this.eltTransform[a]={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,scale:1},this.eltTransform[a].$elt=this.$getElt(a)),this.eltTransform[a][b]=c},a.prototype.CSSFilterApply=function(a){var b=this.eltFilter[a],c="blur("+b.blur+") brightness("+b.brightness+") grayscale("+b.grayscale+") sepia("+b.sepia+") contrast("+b.contrast+") opacity("+b.opacity+") saturate("+b.saturate+")";null!=b.$elt&&void 0!=b.$elt[0]&&(b.$elt[0].style.WebkitFilter=c,b.$elt[0].style.filter=c)},a.prototype.CSSFilterSet=function(a,b,c){void 0==this.eltFilter[a]&&(this.eltFilter[a]={blur:0,brightness:"100%",grayscale:"0%",sepia:"0%",contrast:"100%",opacity:"100%",saturate:"100%"},this.eltFilter[a].$elt=this.$getElt(a)),this.eltFilter[a][b]=c},a.prototype.animate=function(a,b,c){if(null!=this.$getElt()){var d={};d.G=this.G,d.item=this,d.effect=a,d.hoverIn=c,d.cssKind="",c?(void 0==this.eltEffect[a.element]&&(this.eltEffect[a.element]=[]),void 0==this.eltEffect[a.element][a.type]&&(this.eltEffect[a.element][a.type]={initialValue:0,lastValue:0}),a.firstKeyframe&&(this.eltEffect[a.element][a.type]={initialValue:a.from,lastValue:a.from}),d.animeFrom=a.from,d.animeTo=a.to,d.animeDuration=parseInt(a.duration),d.animeDelay=30+parseInt(a.delay+b),d.animeEasing=a.easing):(a.firstKeyframe,d.animeFrom=this.eltEffect[a.element][a.type].lastValue,d.animeTo=this.eltEffect[a.element][a.type].initialValue,d.animeDuration=parseInt(a.durationBack),d.animeDelay=30+parseInt(a.delayBack+b),d.animeEasing=a.easingBack);for(var e=["translateX","translateY","translateZ","scale","rotateX","rotateY","rotateZ"],f=0;f<e.length;f++)if(a.type==e[f]){d.cssKind="transform";break}for(var g=["blur","brightness","grayscale","sepia","contrast","opacity","saturate"],f=0;f<g.length;f++)if(a.type==g[f]){d.cssKind="filter";break}!c||".nGY2GThumbnail"!=a.element||"scale"!=a.type&&"rotateX"!=a.type||(this.G.GOM.lastZIndex++,this.$getElt(a.element).css("z-index",this.G.GOM.lastZIndex));var h=new NGTweenable;d.tweenable=h,h.tween({attachment:d,from:{v:d.animeFrom},to:{v:d.animeTo},duration:d.animeDuration,delay:d.animeDelay,easing:d.animeEasing,step:function(a,b){if(null==b.item.$getElt())return void b.tweenable.stop(!1);if(b.hoverIn&&!b.item.hovered)return void b.tweenable.stop(!1);if(b.G.VOM.viewerDisplayed)return void b.tweenable.stop(!1);if(a.v!=b.animeFrom){switch(b.cssKind){case"transform":b.item.CSSTransformSet(b.effect.element,b.effect.type,a.v),b.item.CSSTransformApply(b.effect.element);break;case"filter":b.item.CSSFilterSet(b.effect.element,b.effect.type,a.v),b.item.CSSFilterApply(b.effect.element);break;default:var d=a.v;"rgb("!=a.v.substring(0,3)&&"rgba("!=a.v.substring(0,5)||(d=tinycolor(a.v).toRgbString()),b.item.$getElt(b.effect.element).css(b.effect.type,d)}c&&(b.item.eltEffect[b.effect.element][b.effect.type].lastValue=a.v)}},finish:function(a,b){if(c&&(b.item.eltEffect[b.effect.element][b.effect.type].lastValue=a.v),null!=b.item.$getElt()&&(!b.hoverIn||b.item.hovered)&&!b.G.VOM.viewerDisplayed)switch(b.cssKind){case"transform":b.item.CSSTransformSet(b.effect.element,b.effect.type,b.animeTo),b.item.CSSTransformApply(b.effect.element);break;case"filter":b.item.CSSFilterSet(b.effect.element,b.effect.type,b.animeTo),b.item.CSSFilterApply(b.effect.element);break;default:b.item.$getElt(b.effect.element).css(b.effect.type,b.animeTo)}}})}},a}()),d.options=jQuery.extend(!0,{},jQuery.nanogallery2.defaultOptions,c),d.nG2=null,d.nG2=new b,d.nG2.initiateGallery2(d.e,d.options)},d.test=function(){},d.init()},jQuery.nanogallery2.defaultOptions={kind:"",userID:"",photoset:"",album:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",albumList2:null,RTL:!1,poogleplusUseUrlCrossDomain:!0,flickrSkipOriginal:!0,breadcrumbAutoHideTopLevel:!0,displayBreadcrumb:!0,breadcrumbOnlyCurrentLevel:!0,breadcrumbHideIcons:!0,theme:"nGY2",colorScheme:"dark",colorSchemeViewer:"dark",items:null,itemsBaseURL:"",thumbnailSelectable:!1,jsonCharset:"Latin",jsonProvider:"",allowHTMLinData:!1,locationHash:!0,slideshowDelay:3e3,slideshowAutoStart:!1,debugMode:!1,galleryDisplayMoreStep:2,galleryDisplayMode:"fullContent",galleryL1DisplayMode:null,galleryPaginationMode:"rectangles",galleryMaxRows:2,galleryL1MaxRows:null,galleryLastRowFull:!1,galleryLayoutEngine:"default",paginationSwipe:!0,paginationVisiblePages:10,paginationSwipeSensibilityVert:10,galleryFilterTags:!1,galleryL1FilterTags:null,galleryMaxItems:0,galleryL1MaxItems:null,gallerySorting:"",galleryL1Sorting:null,galleryResizeAnimation:!0,thumbnailCrop:!0,thumbnailCropScaleFactor:1.5,thumbnailLevelUp:!1,thumbnailAlignment:"center",thumbnailWidth:300,thumbnailHeight:200,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailBorderVertical:2,thumbnailBorderHorizontal:2,thumbnailFeaturedKeyword:"*featured",thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect2:"toolsAppear",thumbnailBuildInit2:"",thumbnailStacks:0,thumbnailStacksTranslateX:0,thumbnailStacksTranslateY:0,thumbnailStacksTranslateZ:0,thumbnailStacksRotateX:0,thumbnailStacksRotateY:0,thumbnailStacksRotateZ:0,thumbnailStacksScale:0,thumbnailDisplayOutsideScreen:!1,galleryBuildInit2:"",portable:!1,touchAnimation:!0,touchAutoOpenDelay:0,thumbnailLabel:{position:"overImageOnBottom",align:"center",display:!0,displayDescription:!1,titleMaxLength:0,titleMultiLine:!1,descriptionMaxLength:0,descriptionMultiLine:!1,hideIcons:!0,title:""},thumbnailToolbarImage:{topLeft:"select",topRight:"featured"},thumbnailToolbarAlbum:{topLeft:"select",topRight:"counter"},thumbnailDisplayInterval:15,thumbnailDisplayTransition:"fadeIn",thumbnailDisplayTransitionDuration:240,thumbnailOpenImage:!0,thumbnailOpenOriginal:!1,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,imageTransition:"swipe",viewerZoom:!0,openOnStart:"",viewerToolbar:{display:!0,position:"bottomOverImage",fullWidth:!0,align:"center",autoMinimize:0,standard:"minimizeButton,label",minimized:"minimizeButton,label,infoButton,downloadButton,linkOriginalButton,fullscreenButton"},viewerTools:{topLeft:"pageCounter,playPauseButton",topRight:"zoomButton,shareButton,closeButton"},breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnThumbnailSelection:null,fnGalleryRenderStart:null,fnGalleryRenderEnd:null,fnGalleryObjectModelBuilt:null,fnGalleryLayoutApplied:null,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"},icons:{thumbnailAlbum:'<i class="nGY2Icon icon-folder-empty"></i>',thumbnailImage:'<i class="nGY2Icon icon-picture"></i>',breadcrumbAlbum:'<i class="nGY2Icon icon-folder-empty"></i>',breadcrumbHome:'<i class="nGY2Icon icon-home"></i>',breadcrumbSeparator:'<i class="nGY2Icon icon-left-open"></i>',breadcrumbSeparatorRtl:'<i class="nGY2Icon icon-right-open"></i>',navigationFilterSelected:'<i style="color:#fff;" class="nGY2Icon icon-toggle-on"></i>',navigationFilterUnselected:'<i style="color:#aaa;" class="nGY2Icon icon-toggle-off"></i>',navigationFilterSelectedAll:'<i class="nGY2Icon icon-toggle-on"></i><i class="nGY2Icon icon-ok"></i>',thumbnailSelected:'<i style="color:#bff;" class="nGY2Icon icon-ok-circled"></i>',thumbnailUnselected:'<i style="color:#bff;" class="nGY2Icon icon-circle-empty"></i>',thumbnailFeatured:'<i style="color:#dd5;" class="nGY2Icon icon-star"></i>',thumbnailCounter:'<i class="nGY2Icon icon-picture"></i>',thumbnailShare:'<i class="nGY2Icon icon-ngy2_share2"></i>',thumbnailDownload:'<i class="nGY2Icon icon-ngy2_download2"></i>',thumbnailInfo:'<i class="nGY2Icon icon-ngy2_info2"></i>',thumbnailCart:'<i class="nGY2Icon icon-basket"></i>',thumbnailDisplay:'<i class="nGY2Icon icon-ngy2_zoom_in2"></i>',thumbnailCustomTool1:"T1",thumbnailCustomTool2:"T2",thumbnailCustomTool3:"T3",thumbnailCustomTool4:"T4",thumbnailCustomTool5:"T5",thumbnailCustomTool6:"T6",thumbnailCustomTool7:"T7",thumbnailCustomTool8:"T8",thumbnailCustomTool9:"T9",thumbnailCustomTool10:"T10",thumbnailAlbumUp:'<i style="font-size: 3em;" class="nGY2Icon icon-ngy2_chevron_up2"></i>',paginationNext:'<i class="nGY2Icon icon-right-open"></i>',paginationPrevious:'<i class="nGY2Icon icon-left-open"></i>',galleryMoreButton:'<i class="nGY2Icon icon-picture"></i> &nbsp; <i class="nGY2Icon icon-right-open"></i>',buttonClose:'<i class="nGY2Icon icon-ngy2_close2"></i>',viewerPrevious:'<i class="nGY2Icon icon-ngy2_chevron-left"></i>',viewerNext:'<i class="nGY2Icon icon-ngy2_chevron-right"></i>',viewerImgPrevious:'<i class="nGY2Icon icon-ngy2_chevron_left3"></i>',viewerImgNext:'<i class="nGY2Icon icon-ngy2_chevron_right3"></i>',viewerDownload:'<i class="nGY2Icon icon-ngy2_download2"></i>',viewerToolbarMin:'<i class="nGY2Icon icon-ellipsis-vert"></i>',viewerToolbarStd:'<i class="nGY2Icon icon-menu"></i>',viewerPlay:'<i class="nGY2Icon icon-play"></i>',viewerPause:'<i class="nGY2Icon icon-pause"></i>',viewerFullscreenOn:'<i class="nGY2Icon icon-resize-full"></i>',viewerFullscreenOff:'<i class="nGY2Icon icon-resize-small"></i>',viewerZoomIn:'<i class="nGY2Icon icon-ngy2_zoom_in2"></i>',viewerZoomOut:'<i class="nGY2Icon icon-ngy2_zoom_out2"></i>',viewerLinkOriginal:'<i class="nGY2Icon icon-ngy2_external2"></i>',viewerInfo:'<i class="nGY2Icon icon-ngy2_info2"></i>',viewerShare:'<i class="nGY2Icon icon-ngy2_share2"></i>',user:'<i class="nGY2Icon icon-user"></i>',location:'<i class="nGY2Icon icon-location"></i>',config:'<i class="nGY2Icon icon-wrench"></i>',shareFacebook:'<i style="color:#3b5998;" class="nGY2Icon icon-facebook-squared"></i>',shareTwitter:'<i style="color:#00aced;" class="nGY2Icon icon-twitter-squared"></i>',shareGooglePlus:'<i style="color:#dd4b39;" class="nGY2Icon icon-gplus-squared"></i>',shareTumblr:'<i style="color:#32506d;" class="nGY2Icon icon-tumblr-squared"></i>',sharePinterest:'<i style="color:#cb2027;" class="nGY2Icon icon-pinterest-squared"></i>',shareVK:'<i style="color:#3b5998;" class="nGY2Icon icon-vkontakte"></i>',shareMail:'<i style="color:#555;" class="nGY2Icon icon-mail-alt"></i>',viewerCustomTool1:"T1",viewerCustomTool2:"T2",viewerCustomTool3:"T3",viewerCustomTool4:"T4",viewerCustomTool5:"T5",viewerCustomTool6:"T6",viewerCustomTool7:"T7",viewerCustomTool8:"T8",viewerCustomTool9:"T9",viewerCustomTool10:"T10"}},jQuery.fn.nanogallery2=function(b,c,d){if(void 0===jQuery(this).data("nanogallery2data")){if("destroy"==b)return;return this.each(function(){new jQuery.nanogallery2(this,b)})}var e=a(this).data("nanogallery2data").nG2;switch(b){case"search":e.Search(c);break;case"refresh":e.Refresh();break;case"instance":return e;case"data":return e.data={items:e.I,gallery:e.GOM,lightbox:e.VOM},e.data;case"reload":return e.ReloadAlbum(),a(this);case"itemsSelectedGet":return e.ItemsSelectedGet();case"itemsSetSelectedValue":e.ItemsSetSelectedValue(c,d);break;case"option":if(void 0===d)return e.Get(c);e.Set(c,d),"demoViewportWidth"==c&&a(window).trigger("resize");break;case"destroy":e.Destroy(),a(this).removeData("nanogallery2data");break;case"shoppingCartGet":return e.shoppingCart;case"shoppingCartUpdate":if(void 0===d||void 0===c)return!1;for(var f=c,g=d,h=0;h<e.shoppingCart.length;h++)(e.shoppingCart[h].ID=f)&&(e.shoppingCart[h].cnt=g);return"function"==typeof e.O.fnShoppingCartUpdated&&e.O.fnShoppingCartUpdated(e.shoppingCart),e.shoppingCart;case"shoppingCartRemove":if(void 0===c)return!1;for(var f=c,h=0;h<e.shoppingCart.length;h++)if(e.shoppingCart[h].ID=f){e.shoppingCart.splice(h,1);break}return"function"==typeof e.O.fn&&e.O.fnShoppingCartUpdated(e.shoppingCart),e.shoppingCart}return a(this)}}(jQuery),function(a){function b(a,d){if(a=a||"",d=d||{},a instanceof b)return a;if(!(this instanceof b))return new b(a,d);var e=c(a);this._originalInput=a,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=P(100*this._a)/100,this._format=d.format||e.format,this._gradientType=d.gradientType,this._r<1&&(this._r=P(this._r)),this._g<1&&(this._g=P(this._g)),this._b<1&&(this._b=P(this._b)),this._ok=e.ok,this._tc_id=O++}function c(a){var b={r:0,g:0,b:0},c=1,e=null,g=null,i=null,j=!1,k=!1;return"string"==typeof a&&(a=K(a)),"object"==typeof a&&(J(a.r)&&J(a.g)&&J(a.b)?(b=d(a.r,a.g,a.b),j=!0,k="%"===String(a.r).substr(-1)?"prgb":"rgb"):J(a.h)&&J(a.s)&&J(a.v)?(e=G(a.s),g=G(a.v),b=h(a.h,e,g),j=!0,k="hsv"):J(a.h)&&J(a.s)&&J(a.l)&&(e=G(a.s),i=G(a.l),b=f(a.h,e,i),j=!0,k="hsl"),a.hasOwnProperty("a")&&(c=a.a)),c=z(c),{ok:j,format:a.format||k,r:Q(255,R(b.r,0)),g:Q(255,R(b.g,0)),b:Q(255,R(b.b,0)),a:c}}function d(a,b,c){return{r:255*A(a,255),g:255*A(b,255),b:255*A(c,255)}}function e(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=(f+g)/2;if(f==g)d=e=0;else{var i=f-g;switch(e=h>.5?i/(2-f-g):i/(f+g),f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,l:h}}function f(a,b,c){function d(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+6*(b-a)*(2/3-c):a}var e,f,g;if(a=A(a,360),b=A(b,100),c=A(c,100),0===b)e=f=g=c;else{var h=.5>c?c*(1+b):c+b-c*b,i=2*c-h;e=d(i,h,a+1/3),f=d(i,h,a),g=d(i,h,a-1/3)}return{r:255*e,g:255*f,b:255*g}}function g(a,b,c){a=A(a,255),b=A(b,255),c=A(c,255);var d,e,f=R(a,b,c),g=Q(a,b,c),h=f,i=f-g;if(e=0===f?0:i/f,f==g)d=0;else{switch(f){case a:d=(b-c)/i+(c>b?6:0);break;case b:d=(c-a)/i+2;break;case c:d=(a-b)/i+4}d/=6}return{h:d,s:e,v:h}}function h(b,c,d){b=6*A(b,360),c=A(c,100),d=A(d,100);var e=a.floor(b),f=b-e,g=d*(1-c),h=d*(1-f*c),i=d*(1-(1-f)*c),j=e%6;return{r:255*[d,h,g,g,i,d][j],g:255*[i,d,d,h,g,g][j],b:255*[g,g,i,d,d,h][j]}}function i(a,b,c,d){var e=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))];return d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function j(a,b,c,d,e){var f=[F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16)),F(H(d))];return e&&f[0].charAt(0)==f[0].charAt(1)&&f[1].charAt(0)==f[1].charAt(1)&&f[2].charAt(0)==f[2].charAt(1)&&f[3].charAt(0)==f[3].charAt(1)?f[0].charAt(0)+f[1].charAt(0)+f[2].charAt(0)+f[3].charAt(0):f.join("")}function k(a,b,c,d){return[F(H(d)),F(P(a).toString(16)),F(P(b).toString(16)),F(P(c).toString(16))].join("")}function l(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.s-=c/100,d.s=B(d.s),b(d)}function m(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.s+=c/100,d.s=B(d.s),b(d)}function n(a){return b(a).desaturate(100)}function o(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.l+=c/100,d.l=B(d.l),b(d)}function p(a,c){c=0===c?0:c||10;var d=b(a).toRgb();return d.r=R(0,Q(255,d.r-P(-c/100*255))),d.g=R(0,Q(255,d.g-P(-c/100*255))),d.b=R(0,Q(255,d.b-P(-c/100*255))),b(d)}function q(a,c){c=0===c?0:c||10;var d=b(a).toHsl();return d.l-=c/100,d.l=B(d.l),b(d)}function r(a,c){var d=b(a).toHsl(),e=(d.h+c)%360;return d.h=0>e?360+e:e,b(d)}function s(a){var c=b(a).toHsl();return c.h=(c.h+180)%360,b(c)}function t(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+120)%360,s:c.s,l:c.l}),b({h:(d+240)%360,s:c.s,l:c.l})]}function u(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+90)%360,s:c.s,l:c.l}),b({h:(d+180)%360,s:c.s,l:c.l}),b({h:(d+270)%360,s:c.s,l:c.l})]}function v(a){var c=b(a).toHsl(),d=c.h;return[b(a),b({h:(d+72)%360,s:c.s,l:c.l}),b({h:(d+216)%360,s:c.s,l:c.l})]}function w(a,c,d){c=c||6,d=d||30;var e=b(a).toHsl(),f=360/d,g=[b(a)];for(e.h=(e.h-(f*c>>1)+720)%360;--c;)e.h=(e.h+f)%360,g.push(b(e));return g}function x(a,c){c=c||6;for(var d=b(a).toHsv(),e=d.h,f=d.s,g=d.v,h=[],i=1/c;c--;)h.push(b({h:e,s:f,v:g})),g=(g+i)%1;return h}function y(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function z(a){return a=parseFloat(a),(isNaN(a)||0>a||a>1)&&(a=1),a}function A(b,c){D(b)&&(b="100%");var d=E(b);return b=Q(c,R(0,parseFloat(b))),d&&(b=parseInt(b*c,10)/100),a.abs(b-c)<1e-6?1:b%c/parseFloat(c)}function B(a){return Q(1,R(0,a))}function C(a){return parseInt(a,16)}function D(a){return"string"==typeof a&&-1!=a.indexOf(".")&&1===parseFloat(a)}function E(a){return"string"==typeof a&&-1!=a.indexOf("%")}function F(a){return 1==a.length?"0"+a:""+a}function G(a){return 1>=a&&(a=100*a+"%"),a}function H(b){return a.round(255*parseFloat(b)).toString(16)}function I(a){return C(a)/255}function J(a){return!!V.CSS_UNIT.exec(a)}function K(a){a=a.replace(M,"").replace(N,"").toLowerCase();var b=!1;if(T[a])a=T[a],b=!0;else if("transparent"==a)return{r:0,g:0,b:0,a:0,format:"name"};var c;return(c=V.rgb.exec(a))?{r:c[1],g:c[2],b:c[3]}:(c=V.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=V.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=V.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=V.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=V.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=V.hex8.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),a:I(c[4]),format:b?"name":"hex8"}:(c=V.hex6.exec(a))?{r:C(c[1]),g:C(c[2]),b:C(c[3]),format:b?"name":"hex"}:(c=V.hex4.exec(a))?{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),a:I(c[4]+""+c[4]),format:b?"name":"hex8"}:!!(c=V.hex3.exec(a))&&{r:C(c[1]+""+c[1]),g:C(c[2]+""+c[2]),b:C(c[3]+""+c[3]),format:b?"name":"hex"}}function L(a){var b,c;return a=a||{level:"AA",size:"small"},b=(a.level||"AA").toUpperCase(),c=(a.size||"small").toLowerCase(),"AA"!==b&&"AAA"!==b&&(b="AA"),"small"!==c&&"large"!==c&&(c="small"),{level:b,size:c}}var M=/^\s+/,N=/\s+$/,O=0,P=a.round,Q=a.min,R=a.max,S=a.random;b.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1e3},getLuminance:function(){var b,c,d,e,f,g,h=this.toRgb();return b=h.r/255,c=h.g/255,d=h.b/255,e=.03928>=b?b/12.92:a.pow((b+.055)/1.055,2.4),f=.03928>=c?c/12.92:a.pow((c+.055)/1.055,2.4),g=.03928>=d?d/12.92:a.pow((d+.055)/1.055,2.4),.2126*e+.7152*f+.0722*g},setAlpha:function(a){return this._a=z(a),this._roundA=P(100*this._a)/100,this},toHsv:function(){var a=g(this._r,this._g,this._b);return{h:360*a.h,s:a.s,v:a.v,a:this._a}},toHsvString:function(){var a=g(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.v);return 1==this._a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHsl:function(){var a=e(this._r,this._g,this._b);return{h:360*a.h,s:a.s,l:a.l,a:this._a}},toHslString:function(){var a=e(this._r,this._g,this._b),b=P(360*a.h),c=P(100*a.s),d=P(100*a.l)
;return 1==this._a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this._roundA+")"},toHex:function(a){return i(this._r,this._g,this._b,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(a){return j(this._r,this._g,this._b,this._a,a)},toHex8String:function(a){return"#"+this.toHex8(a)},toRgb:function(){return{r:P(this._r),g:P(this._g),b:P(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+P(this._r)+", "+P(this._g)+", "+P(this._b)+")":"rgba("+P(this._r)+", "+P(this._g)+", "+P(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:P(100*A(this._r,255))+"%",g:P(100*A(this._g,255))+"%",b:P(100*A(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%)":"rgba("+P(100*A(this._r,255))+"%, "+P(100*A(this._g,255))+"%, "+P(100*A(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(U[i(this._r,this._g,this._b,!0)]||!1)},toFilter:function(a){var c="#"+k(this._r,this._g,this._b,this._a),d=c,e=this._gradientType?"GradientType = 1, ":"";if(a){var f=b(a);d="#"+k(f._r,f._g,f._b,f._a)}return"progid:DXImageTransform.Microsoft.gradient("+e+"startColorstr="+c+",endColorstr="+d+")"},toString:function(a){var b=!!a;a=a||this._format;var c=!1,d=this._a<1&&this._a>=0;return b||!d||"hex"!==a&&"hex6"!==a&&"hex3"!==a&&"hex4"!==a&&"hex8"!==a&&"name"!==a?("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex4"===a&&(c=this.toHex8String(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString()):"name"===a&&0===this._a?this.toName():this.toRgbString()},clone:function(){return b(this.toString())},_applyModification:function(a,b){var c=a.apply(null,[this].concat([].slice.call(b)));return this._r=c._r,this._g=c._g,this._b=c._b,this.setAlpha(c._a),this},lighten:function(){return this._applyModification(o,arguments)},brighten:function(){return this._applyModification(p,arguments)},darken:function(){return this._applyModification(q,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(n,arguments)},spin:function(){return this._applyModification(r,arguments)},_applyCombination:function(a,b){return a.apply(null,[this].concat([].slice.call(b)))},analogous:function(){return this._applyCombination(w,arguments)},complement:function(){return this._applyCombination(s,arguments)},monochromatic:function(){return this._applyCombination(x,arguments)},splitcomplement:function(){return this._applyCombination(v,arguments)},triad:function(){return this._applyCombination(t,arguments)},tetrad:function(){return this._applyCombination(u,arguments)}},b.fromRatio=function(a,c){if("object"==typeof a){var d={};for(var e in a)a.hasOwnProperty(e)&&(d[e]="a"===e?a[e]:G(a[e]));a=d}return b(a,c)},b.equals=function(a,c){return!(!a||!c)&&b(a).toRgbString()==b(c).toRgbString()},b.random=function(){return b.fromRatio({r:S(),g:S(),b:S()})},b.mix=function(a,c,d){d=0===d?0:d||50;var e=b(a).toRgb(),f=b(c).toRgb(),g=d/100;return b({r:(f.r-e.r)*g+e.r,g:(f.g-e.g)*g+e.g,b:(f.b-e.b)*g+e.b,a:(f.a-e.a)*g+e.a})},b.readability=function(c,d){var e=b(c),f=b(d);return(a.max(e.getLuminance(),f.getLuminance())+.05)/(a.min(e.getLuminance(),f.getLuminance())+.05)},b.isReadable=function(a,c,d){var e,f,g=b.readability(a,c);switch(f=!1,e=L(d),e.level+e.size){case"AAsmall":case"AAAlarge":f=g>=4.5;break;case"AAlarge":f=g>=3;break;case"AAAsmall":f=g>=7}return f},b.mostReadable=function(a,c,d){var e,f,g,h,i=null,j=0;d=d||{},f=d.includeFallbackColors,g=d.level,h=d.size;for(var k=0;k<c.length;k++)(e=b.readability(a,c[k]))>j&&(j=e,i=b(c[k]));return b.isReadable(a,i,{level:g,size:h})||!f?i:(d.includeFallbackColors=!1,b.mostReadable(a,["#fff","#000"],d))};var T=b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},U=b.hexNames=y(T),V=function(){var a="[-\\+]?\\d+%?",b="[-\\+]?\\d*\\.\\d+%?",c="(?:"+b+")|(?:"+a+")",d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?",e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{CSS_UNIT:new RegExp(c),rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hsva:new RegExp("hsva"+e),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();"undefined"!=typeof module&&module.exports?module.exports=b:"function"==typeof define&&define.amd?define(function(){return b}):window.tinycolor=b}(Math),/*!
 * imagesLoaded PACKAGED v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(a,b){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",b):"object"==typeof module&&module.exports?module.exports=b():a.ngEvEmitter=b()}("undefined"!=typeof window?window:this,function(){function a(){}var b=a.prototype;return b.on=function(a,b){if(a&&b){var c=this._events=this._events||{},d=c[a]=c[a]||[];return-1==d.indexOf(b)&&d.push(b),this}},b.once=function(a,b){if(a&&b){this.on(a,b);var c=this._onceEvents=this._onceEvents||{};return(c[a]=c[a]||{})[b]=!0,this}},b.off=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=c.indexOf(b);return-1!=d&&c.splice(d,1),this}},b.emitEvent=function(a,b){var c=this._events&&this._events[a];if(c&&c.length){var d=0,e=c[d];b=b||[];for(var f=this._onceEvents&&this._onceEvents[a];e;){var g=f&&f[e];g&&(this.off(a,e),delete f[e]),e.apply(this,b),d+=g?0:1,e=c[d]}return this}},a}),/*!
 * ngimagesLoaded v4.1.1
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(a,b){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(c){return b(a,c)}):"object"==typeof module&&module.exports?module.exports=b(a,require("ev-emitter")):a.ngimagesLoaded=b(a,a.ngEvEmitter)}(window,function(a,b){function c(a,b){for(var c in b)a[c]=b[c];return a}function d(a){var b=[];if(Array.isArray(a))b=a;else if("number"==typeof a.length)for(var c=0;c<a.length;c++)b.push(a[c]);else b.push(a);return b}function e(a,b,f){if(!(this instanceof e))return new e(a,b,f);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=d(a),this.options=c({},this.options),"function"==typeof b?f=b:c(this.options,b),f&&this.on("always",f),this.getImages(),h&&(this.jqDeferred=new h.Deferred),setTimeout(function(){this.check()}.bind(this))}function f(a){this.img=a}function g(a,b){this.url=a,this.element=b,this.img=new Image}var h=jQuery,i=a.console;e.prototype=Object.create(b.prototype),e.prototype.options={},e.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},e.prototype.addElementImages=function(a){"IMG"==a.nodeName&&this.addImage(a),!0===this.options.background&&this.addElementBackgroundImages(a);var b=a.nodeType;if(b&&j[b]){for(var c=a.querySelectorAll("img"),d=0;d<c.length;d++){var e=c[d];this.addImage(e)}if("string"==typeof this.options.background){var f=a.querySelectorAll(this.options.background);for(d=0;d<f.length;d++){var g=f[d];this.addElementBackgroundImages(g)}}}};var j={1:!0,9:!0,11:!0};return e.prototype.addElementBackgroundImages=function(a){var b=getComputedStyle(a);if(b)for(var c=/url\((['"])?(.*?)\1\)/gi,d=c.exec(b.backgroundImage);null!==d;){var e=d&&d[2];e&&this.addBackground(e,a),d=c.exec(b.backgroundImage)}},e.prototype.addImage=function(a){var b=new f(a);this.images.push(b)},e.prototype.addBackground=function(a,b){var c=new g(a,b);this.images.push(c)},e.prototype.check=function(){function a(a,c,d){setTimeout(function(){b.progress(a,c,d)})}var b=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();this.images.forEach(function(b){b.once("progress",a),b.check()})},e.prototype.progress=function(a,b,c){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded,this.emitEvent("progress",[this,a,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,a),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&i&&i.log("progress: "+c,a,b)},e.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(a,[this]),this.emitEvent("always",[this]),this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}},f.prototype=Object.create(b.prototype),f.prototype.check=function(){if(this.getIsImageComplete())return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src},f.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},f.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.img,b])},f.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},f.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},f.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},f.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype=Object.create(f.prototype),g.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},g.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},g.prototype.confirm=function(a,b){this.isLoaded=a,this.emitEvent("progress",[this,this.element,b])},e.makeJQueryPlugin=function(b){(b=b||a.jQuery)&&(h=b,h.fn.ngimagesLoaded=function(a,b){return new e(this,a,b).jqDeferred.promise(h(this))})},e.makeJQueryPlugin(),e}),function(){"use strict";var a="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,c=function(){for(var a,b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};d<e;d++)if((a=c[d])&&a[1]in document){for(d=0,b=a.length;d<b;d++)f[c[0][d]]=a[d];return f}return!1}(),d={request:function(a){var d=c.requestFullscreen;a=a||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[d]():a[d](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[c.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},raw:c};if(!c)return void(a?module.exports=!1:window.ngscreenfull=!1);Object.defineProperties(d,{isFullscreen:{get:function(){return Boolean(document[c.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(document[c.fullscreenEnabled])}}}),a?module.exports=d:window.ngscreenfull=d}(),/*!
 * Shifty
 * By Jeremy Kahn - jeremyckahn@gmail.com
 */
/*! shifty - v1.5.0 - 2015-05-31 - http://jeremyckahn.github.io/shifty */
function(){var a=this,b=function(){"use strict";function b(){}function c(a,b){var c;for(c in a)Object.hasOwnProperty.call(a,c)&&b(c)}function d(a,b){return c(b,function(c){a[c]=b[c]}),a}function e(a,b){c(b,function(c){void 0===a[c]&&(a[c]=b[c])})}function f(a,b,c,d,e,f,h){var i,j,k,m=f>a?0:(a-f)/e;for(i in b)b.hasOwnProperty(i)&&(j=h[i],k="function"==typeof j?j:l[j],b[i]=g(c[i],d[i],k,m));return b}function g(a,b,c,d){return a+(b-a)*c(d)}function h(a,b){var d=k.prototype.filter,e=a._filterArgs;c(d,function(c){void 0!==d[c][b]&&d[c][b].apply(a,e)})}function i(a,b,c,d,e,g,i,j,k,l,m){s=b+c+d,t=Math.min(m||r(),s),u=t>=s,v=d-(s-t),a.isPlaying()&&!u?(a._scheduleId=l(a._timeoutHandler,p),h(a,"beforeTween"),b+c>t?f(1,e,g,i,1,1,j):f(t,e,g,i,d,b+c,j),h(a,"afterTween"),k(e,a._attachment,v)):a.isPlaying()&&u&&(k(i,a._attachment,v),a.stop(!0))}function j(a,b){var d={},e=typeof b;return"string"===e||"function"===e?c(a,function(a){d[a]=b}):c(a,function(a){d[a]||(d[a]=b[a]||n)}),d}function k(a,b){this._currentState=a||{},this._configured=!1,this._scheduleFunction=m,void 0!==b&&this.setConfig(b)}var l,m,n="linear",o=500,p=1e3/60,q=Date.now?Date.now:function(){return+new Date},r="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:q;m="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var s,t,u,v;return k.prototype.tween=function(a){return this._isTweening?this:(void 0===a&&this._configured||this.setConfig(a),this._timestamp=r(),this._start(this.get(),this._attachment),this.resume())},k.prototype.setConfig=function(a){a=a||{},this._configured=!0,this._attachment=a.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=a.delay||0,this._start=a.start||b,this._step=a.step||b,this._finish=a.finish||b,this._duration=a.duration||o,this._currentState=d({},a.from)||this.get(),this._originalState=this.get(),this._targetState=d({},a.to)||this.get();var c=this;this._timeoutHandler=function(){i(c,c._timestamp,c._delay,c._duration,c._currentState,c._originalState,c._targetState,c._easing,c._step,c._scheduleFunction)};var f=this._currentState,g=this._targetState;return e(g,f),this._easing=j(f,a.easing||n),this._filterArgs=[f,this._originalState,g,this._easing],h(this,"tweenCreated"),this},k.prototype.get=function(){return d({},this._currentState)},k.prototype.set=function(a){this._currentState=a},k.prototype.pause=function(){return this._pausedAtTime=r(),this._isPaused=!0,this},k.prototype.resume=function(){return this._isPaused&&(this._timestamp+=r()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},k.prototype.seek=function(a){a=Math.max(a,0);var b=r();return 0===this._timestamp+a?this:(this._timestamp=b-a,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,i(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,b),this.pause()),this)},k.prototype.stop=function(c){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=b,(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.clearTimeout)(this._scheduleId),c&&(h(this,"beforeTween"),f(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),h(this,"afterTween"),h(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},k.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},k.prototype.setScheduleFunction=function(a){this._scheduleFunction=a},k.prototype.dispose=function(){var a;for(a in this)this.hasOwnProperty(a)&&delete this[a]},k.prototype.filter={},k.prototype.formula={linear:function(a){return a}},l=k.prototype.formula,d(k,{now:r,each:c,tweenProps:f,tweenProp:g,applyFilter:h,shallowCopy:d,defaults:e,composeEasingObject:j}),"function"==typeof SHIFTY_DEBUG_NOW&&(a.timeoutHandler=i),"object"==typeof exports?module.exports=k:"function"==typeof define&&define.amdDISABLED?define(function(){return k}):void 0===a.NGTweenable&&(a.NGTweenable=k),k}();(function(){b.shallowCopy(b.prototype.formula,{easeInQuad:function(a){return Math.pow(a,2)},easeOutQuad:function(a){return-(Math.pow(a-1,2)-1)},easeInOutQuad:function(a){return 1>(a/=.5)?.5*Math.pow(a,2):-.5*((a-=2)*a-2)},easeInCubic:function(a){return Math.pow(a,3)},easeOutCubic:function(a){return Math.pow(a-1,3)+1},easeInOutCubic:function(a){return 1>(a/=.5)?.5*Math.pow(a,3):.5*(Math.pow(a-2,3)+2)},easeInQuart:function(a){return Math.pow(a,4)},easeOutQuart:function(a){return-(Math.pow(a-1,4)-1)},easeInOutQuart:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeInQuint:function(a){return Math.pow(a,5)},easeOutQuint:function(a){return Math.pow(a-1,5)+1},easeInOutQuint:function(a){return 1>(a/=.5)?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)},easeInSine:function(a){return 1-Math.cos(a*(Math.PI/2))},easeOutSine:function(a){return Math.sin(a*(Math.PI/2))},easeInOutSine:function(a){return-.5*(Math.cos(Math.PI*a)-1)},easeInExpo:function(a){return 0===a?0:Math.pow(2,10*(a-1))},easeOutExpo:function(a){return 1===a?1:1-Math.pow(2,-10*a)},easeInOutExpo:function(a){return 0===a?0:1===a?1:1>(a/=.5)?.5*Math.pow(2,10*(a-1)):.5*(2-Math.pow(2,-10*--a))},easeInCirc:function(a){return-(Math.sqrt(1-a*a)-1)},easeOutCirc:function(a){return Math.sqrt(1-Math.pow(a-1,2))},easeInOutCirc:function(a){return 1>(a/=.5)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},easeOutBounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},easeInBack:function(a){var b=1.70158;return a*a*((b+1)*a-b)},easeOutBack:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},easeInOutBack:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*((1+(b*=1.525))*a-b):.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},elastic:function(a){return-1*Math.pow(4,-8*a)*Math.sin(2*(6*a-1)*Math.PI/2)+1},swingFromTo:function(a){var b=1.70158;return 1>(a/=.5)?.5*a*a*((1+(b*=1.525))*a-b):.5*((a-=2)*a*((1+(b*=1.525))*a+b)+2)},swingFrom:function(a){var b=1.70158;return a*a*((b+1)*a-b)},swingTo:function(a){var b=1.70158;return(a-=1)*a*((b+1)*a+b)+1},bounce:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375},bouncePast:function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?2-(7.5625*(a-=1.5/2.75)*a+.75):2.5/2.75>a?2-(7.5625*(a-=2.25/2.75)*a+.9375):2-(7.5625*(a-=2.625/2.75)*a+.984375)},easeFromTo:function(a){return 1>(a/=.5)?.5*Math.pow(a,4):-.5*((a-=2)*Math.pow(a,3)-2)},easeFrom:function(a){return Math.pow(a,4)},easeTo:function(a){return Math.pow(a,.25)}})})(),function(){function a(a,b,c,d,e,f){function g(a){return((n*a+o)*a+p)*a}function h(a){return((q*a+r)*a+s)*a}function i(a){return(3*n*a+2*o)*a+p}function j(a){return 1/(200*a)}function k(a,b){return h(m(a,b))}function l(a){return a>=0?a:0-a}function m(a,b){var c,d,e,f,h,j;for(e=a,j=0;8>j;j++){if(f=g(e)-a,b>l(f))return e;if(h=i(e),1e-6>l(h))break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),b>l(f-a))return e;a>f?c=e:d=e,e=.5*(d-c)+c}return e}var n=0,o=0,p=0,q=0,r=0,s=0;return p=3*b,o=3*(d-b)-p,n=1-p-o,s=3*c,r=3*(e-c)-s,q=1-s-r,k(a,j(f))}function c(b,c,d,e){return function(f){return a(f,b,c,d,e,1)}}b.setBezierFunction=function(a,d,e,f,g){var h=c(d,e,f,g);return h.displayName=a,h.x1=d,h.y1=e,h.x2=f,h.y2=g,b.prototype.formula[a]=h},b.unsetBezierFunction=function(a){delete b.prototype.formula[a]}}(),function(){function a(a,c,d,e,f,g){return b.tweenProps(e,c,a,d,1,g,f)}var c=new b;c._filterArgs=[],b.interpolate=function(d,e,f,g,h){var i=b.shallowCopy({},d),j=h||0,k=b.composeEasingObject(d,g||"linear");c.set({});var l=c._filterArgs;l.length=0,l[0]=i,l[1]=d,l[2]=e,l[3]=k,b.applyFilter(c,"tweenCreated"),b.applyFilter(c,"beforeTween");var m=a(d,i,e,f,k,j);return b.applyFilter(c,"afterTween"),m}}(),function(a){function b(a,b){var c,d=[],e=a.length;for(c=0;e>c;c++)d.push("_"+b+"_"+c);return d}function c(a){var b=a.match(v);return b?(1===b.length||a[0].match(u))&&b.unshift(""):b=["",""],b.join(A)}function d(b){a.each(b,function(a){var c=b[a];"string"==typeof c&&c.match(z)&&(b[a]=e(c))})}function e(a){return i(z,a,f)}function f(a){var b=g(a);return"rgb("+b[0]+","+b[1]+","+b[2]+")"}function g(a){return a=a.replace(/#/,""),3===a.length&&(a=a.split(""),a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),B[0]=h(a.substr(0,2)),B[1]=h(a.substr(2,2)),B[2]=h(a.substr(4,2)),B}function h(a){return parseInt(a,16)}function i(a,b,c){var d=b.match(a),e=b.replace(a,A);if(d)for(var f,g=d.length,h=0;g>h;h++)f=d.shift(),e=e.replace(A,c(f));return e}function j(a){return i(x,a,k)}function k(a){for(var b=a.match(w),c=b.length,d=a.match(y)[0],e=0;c>e;e++)d+=parseInt(b[e],10)+",";return d=d.slice(0,-1)+")"}function l(d){var e={};return a.each(d,function(a){var f=d[a];if("string"==typeof f){var g=r(f);e[a]={formatString:c(f),chunkNames:b(g,a)}}}),e}function m(b,c){a.each(c,function(a){for(var d=b[a],e=r(d),f=e.length,g=0;f>g;g++)b[c[a].chunkNames[g]]=+e[g];delete b[a]})}function n(b,c){a.each(c,function(a){var d=b[a],e=o(b,c[a].chunkNames),f=p(e,c[a].chunkNames);d=q(c[a].formatString,f),b[a]=j(d)})}function o(a,b){for(var c,d={},e=b.length,f=0;e>f;f++)c=b[f],d[c]=a[c],delete a[c];return d}function p(a,b){C.length=0;for(var c=b.length,d=0;c>d;d++)C.push(a[b[d]]);return C}function q(a,b){for(var c=a,d=b.length,e=0;d>e;e++)c=c.replace(A,+b[e].toFixed(4));return c}function r(a){return a.match(w)}function s(b,c){a.each(c,function(a){var d,e=c[a],f=e.chunkNames,g=f.length,h=b[a];if("string"==typeof h){var i=h.split(" "),j=i[i.length-1];for(d=0;g>d;d++)b[f[d]]=i[d]||j}else for(d=0;g>d;d++)b[f[d]]=h;delete b[a]})}function t(b,c){a.each(c,function(a){var d=c[a],e=d.chunkNames,f=e.length,g=b[e[0]];if("string"==typeof g){for(var h="",i=0;f>i;i++)h+=" "+b[e[i]],delete b[e[i]];b[a]=h.substr(1)}else b[a]=g})}var u=/(\d|\-|\.)/,v=/([^\-0-9\.]+)/g,w=/[0-9.\-]+/g,x=RegExp("rgb\\("+w.source+/,\s*/.source+w.source+/,\s*/.source+w.source+"\\)","g"),y=/^.*\(/,z=/#([0-9]|[a-f]){3,6}/gi,A="VAL",B=[],C=[];a.prototype.filter.token={tweenCreated:function(a,b,c){d(a),d(b),d(c),this._tokenData=l(a)},beforeTween:function(a,b,c,d){s(d,this._tokenData),m(a,this._tokenData),m(b,this._tokenData),m(c,this._tokenData)},afterTween:function(a,b,c,d){n(a,this._tokenData),n(b,this._tokenData),n(c,this._tokenData),t(d,this._tokenData)}}}(b)}.call(null),/*! NGHammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
function(a,b,c,d){"use strict";function e(a,b,c){return setTimeout(j(a,c),b)}function f(a,b,c){return!!Array.isArray(a)&&(g(a,c[b],c),!0)}function g(a,b,c){var e;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==d)for(e=0;e<a.length;)b.call(c,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&b.call(c,a[e],e,a)}function h(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function i(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&la(d,c)}function j(a,b){return function(){return a.apply(b,arguments)}}function k(a,b){return typeof a==oa?a.apply(b?b[0]||d:d,b):a}function l(a,b){return a===d?b:a}function m(a,b,c){g(q(b),function(b){a.addEventListener(b,c,!1)})}function n(a,b,c){g(q(b),function(b){a.removeEventListener(b,c,!1)})}function o(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function p(a,b){return a.indexOf(b)>-1}function q(a){return a.trim().split(/\s+/g)}function r(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function s(a){return Array.prototype.slice.call(a,0)}function t(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];r(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function u(a,b){for(var c,e,f=b[0].toUpperCase()+b.slice(1),g=0;g<ma.length;){if(c=ma[g],(e=c?c+f:b)in a)return e;g++}return d}function v(){return ua++}function w(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function x(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){k(a.options.enable,[a])&&c.handler(b)},this.init()}function y(a){var b=a.options.inputClass;return new(b||(xa?M:ya?P:wa?R:L))(a,z)}function z(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Ea&&d-e==0,g=b&(Ga|Ha)&&d-e==0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,A(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function A(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=D(b)),e>1&&!c.firstMultiple?c.firstMultiple=D(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=E(d);b.timeStamp=ra(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=I(h,i),b.distance=H(h,i),B(c,b),b.offsetDirection=G(b.deltaX,b.deltaY);var j=F(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=qa(j.x)>qa(j.y)?j.x:j.y,b.scale=g?K(g.pointers,d):1,b.rotation=g?J(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,C(c,b);var k=a.element;o(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function B(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==Ea&&f.eventType!==Ga||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function C(a,b){var c,e,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ha&&(i>Da||h.velocity===d)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=F(i,j,k);e=l.x,f=l.y,c=qa(l.x)>qa(l.y)?l.x:l.y,g=G(j,k),a.lastInterval=b}else c=h.velocity,e=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=e,b.velocityY=f,b.direction=g}function D(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:pa(a.pointers[c].clientX),clientY:pa(a.pointers[c].clientY)},c++;return{timeStamp:ra(),pointers:b,center:E(b),deltaX:a.deltaX,deltaY:a.deltaY}}function E(a){var b=a.length;if(1===b)return{x:pa(a[0].clientX),y:pa(a[0].clientY)};for(var c=0,d=0,e=0;e<b;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:pa(c/b),y:pa(d/b)}}function F(a,b,c){return{x:b/a||0,y:c/a||0}}function G(a,b){return a===b?Ia:qa(a)>=qa(b)?a<0?Ja:Ka:b<0?La:Ma}function H(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function I(a,b,c){c||(c=Qa);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function J(a,b){return I(b[1],b[0],Ra)+I(a[1],a[0],Ra)}function K(a,b){return H(b[0],b[1],Ra)/H(a[0],a[1],Ra)}function L(){this.evEl=Ta,this.evWin=Ua,this.pressed=!1,x.apply(this,arguments)}function M(){this.evEl=Xa,this.evWin=Ya,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=$a,this.evWin=_a,this.started=!1,x.apply(this,arguments)}function O(a,b){var c=s(a.touches),d=s(a.changedTouches);return b&(Ga|Ha)&&(c=t(c.concat(d),"identifier",!0)),[c,d]}function P(){this.evTarget=bb,this.targetIds={},x.apply(this,arguments)}function Q(a,b){var c=s(a.touches),d=this.targetIds;if(b&(Ea|Fa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=s(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return o(a.target,i)}),b===Ea)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ga|Ha)&&delete d[g[e].identifier],e++;return h.length?[t(f.concat(h),"identifier",!0),h]:void 0}function R(){x.apply(this,arguments);var a=j(this.handler,this);this.touch=new P(this.manager,a),this.mouse=new L(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function S(a,b){a&Ea?(this.primaryTouch=b.changedPointers[0].identifier,T.call(this,b)):a&(Ga|Ha)&&T.call(this,b)}function T(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,cb)}}function U(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(f<=db&&g<=db)return!0}return!1}function V(a,b){this.manager=a,this.set(b)}function W(a){if(p(a,jb))return jb;var b=p(a,kb),c=p(a,lb);return b&&c?jb:b||c?b?kb:lb:p(a,ib)?ib:hb}function X(){if(!fb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=!c||a.CSS.supports("touch-action",d)}),b}function Y(a){this.options=la({},this.defaults,a||{}),this.id=v(),this.manager=null,this.options.enable=l(this.options.enable,!0),this.state=nb,this.simultaneous={},this.requireFail=[]}function Z(a){return a&sb?"cancel":a&qb?"end":a&pb?"move":a&ob?"start":""}function $(a){return a==Ma?"down":a==La?"up":a==Ja?"left":a==Ka?"right":""}function _(a,b){var c=b.manager;return c?c.get(a):a}function aa(){Y.apply(this,arguments)}function ba(){aa.apply(this,arguments),this.pX=null,this.pY=null}function ca(){aa.apply(this,arguments)}function da(){Y.apply(this,arguments),this._timer=null,this._input=null}function ea(){aa.apply(this,arguments)}function fa(){aa.apply(this,arguments)}function ga(){Y.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ha(a,b){return b=b||{},b.recognizers=l(b.recognizers,ha.defaults.preset),new ia(a,b)}function ia(a,b){this.options=la({},ha.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=y(this),this.touchAction=new V(this,this.options.touchAction),ja(this,!0),g(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ja(a,b){var c=a.element;if(c.style){var d;g(a.options.cssProps,function(e,f){d=u(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function ka(a,c){var d=b.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=c,c.target.dispatchEvent(d)}var la,ma=["","webkit","Moz","MS","ms","o"],na=b.createElement("div"),oa="function",pa=Math.round,qa=Math.abs,ra=Date.now;la="function"!=typeof Object.assign?function(a){if(a===d||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var e=arguments[c];if(e!==d&&null!==e)for(var f in e)e.hasOwnProperty(f)&&(b[f]=e[f])}return b}:Object.assign;var sa=h(function(a,b,c){for(var e=Object.keys(b),f=0;f<e.length;)(!c||c&&a[e[f]]===d)&&(a[e[f]]=b[e[f]]),f++;return a},"extend","Use `assign`."),ta=h(function(a,b){return sa(a,b,!0)},"merge","Use `assign`."),ua=1,va=/mobile|tablet|ip(ad|hone|od)|android/i,wa="ontouchstart"in a,xa=!1,ya=wa&&va.test(navigator.userAgent),za="touch",Aa="pen",Ba="mouse",Ca="kinect",Da=25,Ea=1,Fa=2,Ga=4,Ha=8,Ia=1,Ja=2,Ka=4,La=8,Ma=16,Na=Ja|Ka,Oa=La|Ma,Pa=Na|Oa,Qa=["x","y"],Ra=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(w(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(w(this.element),this.evWin,this.domHandler)}};var Sa={mousedown:Ea,mousemove:Fa,mouseup:Ga},Ta="mousedown",Ua="mousemove mouseup";i(L,x,{handler:function(a){var b=Sa[a.type];b&Ea&&0===a.button&&(this.pressed=!0),b&Fa&&1!==a.which&&(b=Ga),this.pressed&&(b&Ga&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ba,srcEvent:a}))}});var Va={pointerdown:Ea,pointermove:Fa,pointerup:Ga,pointercancel:Ha,pointerout:Ha},Wa={2:za,3:Aa,4:Ba,5:Ca},Xa="pointerdown",Ya="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Xa="MSPointerDown",Ya="MSPointerMove MSPointerUp MSPointerCancel"),i(M,x,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Va[d],f=Wa[a.pointerType]||a.pointerType,g=f==za,h=r(b,a.pointerId,"pointerId");e&Ea&&(0===a.button||g)?h<0&&(b.push(a),h=b.length-1):e&(Ga|Ha)&&(c=!0),h<0||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Za={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},$a="touchstart",_a="touchstart touchmove touchend touchcancel";i(N,x,{handler:function(a){var b=Za[a.type];if(b===Ea&&(this.started=!0),this.started){var c=O.call(this,a,b);b&(Ga|Ha)&&c[0].length-c[1].length==0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}}});var ab={touchstart:Ea,touchmove:Fa,touchend:Ga,touchcancel:Ha},bb="touchstart touchmove touchend touchcancel";i(P,x,{handler:function(a){var b=ab[a.type],c=Q.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:za,srcEvent:a})}});var cb=2500,db=25;i(R,x,{handler:function(a,b,c){var d=c.pointerType==za,e=c.pointerType==Ba;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)S.call(this,b,c);else if(e&&U.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var eb=u(na.style,"touchAction"),fb=eb!==d,gb="compute",hb="auto",ib="manipulation",jb="none",kb="pan-x",lb="pan-y",mb=X();V.prototype={set:function(a){a==gb&&(a=this.compute()),fb&&this.manager.element.style&&mb[a]&&(this.manager.element.style[eb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return g(this.manager.recognizers,function(b){k(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),W(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=p(d,jb)&&!mb[jb],f=p(d,lb)&&!mb[lb],g=p(d,kb)&&!mb[kb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Na||g&&c&Oa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var nb=1,ob=2,pb=4,qb=8,rb=qb,sb=16,tb=32;Y.prototype={defaults:{},set:function(a){return la(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(f(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=_(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return f(a,"dropRecognizeWith",this)?this:(a=_(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(f(a,"requireFailure",this))return this;var b=this.requireFail;return a=_(a,this),-1===r(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(f(a,"dropRequireFailure",this))return this;a=_(a,this);var b=r(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;d<qb&&b(c.options.event+Z(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=qb&&b(c.options.event+Z(d))},tryEmit:function(a){if(this.canEmit())return this.emit(a);this.state=tb},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(tb|nb)))return!1;a++}return!0},recognize:function(a){var b=la({},a);if(!k(this.options.enable,[this,b]))return this.reset(),void(this.state=tb);this.state&(rb|sb|tb)&&(this.state=nb),this.state=this.process(b),this.state&(ob|pb|qb|sb)&&this.tryEmit(b)},process:function(a){},getTouchAction:function(){},reset:function(){}},i(aa,Y,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(ob|pb),e=this.attrTest(a);return d&&(c&Ha||!e)?b|sb:d||e?c&Ga?b|qb:b&ob?b|pb:ob:tb}}),i(ba,aa,{defaults:{event:"pan",threshold:10,pointers:1,direction:Pa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Na&&b.push(lb),a&Oa&&b.push(kb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Na?(e=0===f?Ia:f<0?Ja:Ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ia:g<0?La:Ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return aa.prototype.attrTest.call(this,a)&&(this.state&ob||!(this.state&ob)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=$(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),i(ca,aa,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&ob)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),i(da,Y,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[hb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ga|Ha)&&!f)this.reset();else if(a.eventType&Ea)this.reset(),this._timer=e(function(){this.state=rb,this.tryEmit()},b.time,this);else if(a.eventType&Ga)return rb;return tb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===rb&&(a&&a.eventType&Ga?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ra(),this.manager.emit(this.options.event,this._input)))}}),i(ea,aa,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[jb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&ob)}}),i(fa,aa,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Na|Oa,pointers:1},getTouchAction:function(){return ba.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Na|Oa)?b=a.overallVelocity:c&Na?b=a.overallVelocityX:c&Oa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&qa(b)>this.options.velocity&&a.eventType&Ga},emit:function(a){var b=$(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),i(ga,Y,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,f=a.deltaTime<b.time;if(this.reset(),a.eventType&Ea&&0===this.count)return this.failTimeout();if(d&&f&&c){if(a.eventType!=Ga)return this.failTimeout();var g=!this.pTime||a.timeStamp-this.pTime<b.interval,h=!this.pCenter||H(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=e(function(){this.state=rb,this.tryEmit()},b.interval,this),ob):rb}return tb},failTimeout:function(){return this._timer=e(function(){this.state=tb},this.options.interval,this),tb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==rb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ha.VERSION="2.0.7",ha.defaults={domEvents:!1,touchAction:gb,enable:!0,inputTarget:null,inputClass:null,preset:[[ea,{enable:!1}],[ca,{enable:!1},["rotate"]],[fa,{direction:Na}],[ba,{direction:Na},["swipe"]],[ga],[ga,{event:"doubletap",taps:2},["tap"]],[da]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ub=2;ia.prototype={set:function(a){return la(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?ub:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&rb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===ub||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(ob|pb|qb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Y)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(f(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(f(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=r(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==d&&b!==d){var c=this.handlers;return g(q(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==d){var c=this.handlers;return g(q(a),function(a){b?c[a]&&c[a].splice(r(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ja(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},la(ha,{INPUT_START:Ea,INPUT_MOVE:Fa,INPUT_END:Ga,INPUT_CANCEL:Ha,STATE_POSSIBLE:nb,STATE_BEGAN:ob,STATE_CHANGED:pb,STATE_ENDED:qb,STATE_RECOGNIZED:rb,STATE_CANCELLED:sb,STATE_FAILED:tb,DIRECTION_NONE:Ia,DIRECTION_LEFT:Ja,DIRECTION_RIGHT:Ka,DIRECTION_UP:La,DIRECTION_DOWN:Ma,DIRECTION_HORIZONTAL:Na,DIRECTION_VERTICAL:Oa,DIRECTION_ALL:Pa,Manager:ia,Input:x,TouchAction:V,TouchInput:P,MouseInput:L,PointerEventInput:M,TouchMouseInput:R,SingleTouchInput:N,Recognizer:Y,AttrRecognizer:aa,Tap:ga,Pan:ba,Swipe:fa,Pinch:ca,Rotate:ea,Press:da,on:m,off:n,each:g,merge:ta,extend:sa,assign:la,inherit:i,bindFn:j,prefixed:u}),(void 0!==a?a:"undefined"!=typeof self?self:{}).NGHammer=ha,"function"==typeof define&&define.amd?define(function(){return ha}):"undefined"!=typeof module&&module.exports?module.exports=ha:a[c]=ha}(window,document,"NGHammer"),function(){"use strict";jQuery(document).ready(function(){for(var a=document.querySelectorAll("[data-nanogallery2]"),b=0;b<a.length;b++)jQuery(a[b]).nanogallery2(jQuery(a[b]).data("nanogallery2"))})}.call(null),function(a){jQuery.nanogallery2.data_google2=function(a,b){function c(a,b,c){var d=h.I[a].GetID();""==h.I[a].title&&(h.I[a].title=c.feed.title.$t),jQuery.each(c.feed.entry,function(a,c){var f=c.media$group.media$content[0].url,g=c.title.$t,i="",j=c.media$group.media$description.$t;"image"==b&&(i=g,""!=j&&(g=j,j=""),""!=h.O.thumbnailLabel.get("title")&&(g=m(unescape(unescape(unescape(unescape(f)))))));var k=c.gphoto$id.$t;if("album"!=b||n(g,k)){var l=NGY2Item.New(h,g,j,k,d,b,""),o="";if("image"==b){if(o=f,!h.O.viewerZoom&&void 0!=h.O.viewerZoom){var p=f.substring(0,f.lastIndexOf("/"));p=p.substring(0,p.lastIndexOf("/"))+"/",o=window.screen.width>window.screen.height?p+"w"+window.screen.width+"/"+i:p+"h"+window.screen.height+"/"+i}l.src=o,void 0!==c.gphoto$width&&(l.imageWidth=parseInt(c.gphoto$width.$t)),void 0!==c.gphoto$height&&(l.imageHeight=parseInt(c.gphoto$height.$t)),null!=c.media$group&&null!=c.media$group.media$credit&&c.media$group.media$credit.length>0&&(l.author=c.media$group.media$credit[0].$t),void 0!==c.exif$tags&&(void 0!=c.exif$tags.exif$exposure&&(l.exif.exposure=c.exif$tags.exif$exposure.$t),void 0!=c.exif$tags.exif$flash&&"true"==c.exif$tags.exif$flash.$t&&(l.exif.flash="flash"),void 0!=c.exif$tags.exif$focallength&&(l.exif.focallength=c.exif$tags.exif$focallength.$t),void 0!=c.exif$tags.exif$fstop&&(l.exif.fstop=c.exif$tags.exif$fstop.$t),void 0!=c.exif$tags.exif$iso&&(l.exif.iso=c.exif$tags.exif$iso.$t),void 0!=c.exif$tags.exif$model&&(l.exif.model=c.exif$tags.exif$model.$t),void 0!=c.gphoto$location&&(l.exif.location=c.gphoto$location))}else l.author=c.author[0].name.$t,l.numberItems=c.gphoto$numphotos.$t;l.thumbs=e("l1",0,l.thumbs,c,b),l.thumbs=e("lN",5,l.thumbs,c,b),"function"==typeof h.O.fnProcessData&&h.O.fnProcessData(l,"google",c)}}),h.I[a].contentIsLoaded=!0}function d(a,b){jQuery(document).queue("GoogleAlbumWithAuthkey",function(){var c=a.indexOf("&authkey=");-1==c&&(c=a.indexOf("?authkey="));var d=a.substring(0,c),f=a.substring(c);-1==f.indexOf("Gv1sRg")&&(f="&authkey=Gv1sRg"+f.substring(9));var g=Google.url()+"user/"+h.O.userID+"/albumid/"+d+"?alt=json&kind=photo"+f+"&max-results=1&thumbsize="+h.picasa.thumbSizes+"&imgmax=d";k(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var i=setTimeout(function(){k(!1),l(h,"Could not retrieve AJAX data...")},6e4);jQuery.getJSON(g,function(a,c,g){clearTimeout(i),k(!1);var j=a.feed.title.$t,l=a.feed.entry[0],m=NGY2Item.New(h,j,"",d,"0","album","");m.authkey=f,m.thumbs=e("l1",0,m.thumbs,l,"album"),m.thumbs=e("lN",5,m.thumbs,l,"album"),"function"==typeof h.O.fnProcessData&&h.O.fnProcessData(m,"google",l),m.numberItems=a.feed.gphoto$numphotos.$t,jQuery(document).queue("GoogleAlbumWithAuthkey").length>0?jQuery(document).dequeue("GoogleAlbumWithAuthkey"):b()}).fail(function(a,b,c){clearTimeout(i),k(!1),l(h,"Could not retrieve ajax data (google): "+b+", "+c),jQuery(document).dequeue("GoogleAlbumWithAuthkey")})})}function e(a,b,c,d,e){for(var f=["xs","sm","me","la","xl"],g=0;g<f.length;g++)if(c.url[a][f[g]]=d.media$group.media$thumbnail[b+g].url,"image"==e){c.width[a][f[g]]=d.media$group.media$thumbnail[b+g].width,c.height[a][f[g]]=d.media$group.media$thumbnail[b+g].height;var i=d.media$group.media$thumbnail[b+g].width,j=d.media$group.media$thumbnail[b+g].height;if("auto"==h.tn.settings.width[a][f[g]]&&j<h.tn.settings.height[a][f[g]]){var k=i/j;c.width[a][f[g]]=i*k,c.height[a][f[g]]=j*k;var l=c.url[a][f[g]].substring(0,c.url[a][f[g]].lastIndexOf("/"));l=l.substring(0,l.lastIndexOf("/"))+"/",c.url[a][f[g]]=l+"h"+h.tn.settings.height[a][f[g]]+"/"}if("auto"==h.tn.settings.height[a][f[g]]&&i<h.tn.settings.width[a][f[g]]){var k=j/i;c.height[a][f[g]]=j*k,c.width[a][f[g]]=i*k;var l=c.url[a][f[g]].substring(0,c.url[a][f[g]].lastIndexOf("/"));l=l.substring(0,l.lastIndexOf("/"))+"/",c.url[a][f[g]]=l+"w"+h.tn.settings.width[a][f[g]]+"/"}}else{if("auto"!=h.tn.settings.width[a][f[g]]);else{var l=c.url[a][f[g]].substring(0,c.url[a][f[g]].lastIndexOf("/"));l=l.substring(0,l.lastIndexOf("/"))+"/",c.url[a][f[g]]=l+"h"+h.tn.settings.height[a][f[g]]+"/"}if("auto"!=h.tn.settings.height[a][f[g]]);else{var l=c.url[a][f[g]].substring(0,c.url[a][f[g]].lastIndexOf("/"));l=l.substring(0,l.lastIndexOf("/"))+"/",c.url[a][f[g]]=l+"w"+h.tn.settings.width[a][f[g]]+"/"}}return c}function f(){h.picasa={thumbSizes:""};var a=1;!0===h.tn.opt.l1.crop&&(a=h.O.thumbnailCropScaleFactor);var b=1;!0===h.tn.opt.lN.crop&&(b=h.O.thumbnailCropScaleFactor),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.l1.xs*a,h.tn.settings.height.l1.xs*a,h.tn.settings.width.l1.xsc,h.tn.settings.height.l1.xsc),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.l1.sm*a,h.tn.settings.height.l1.sm*a,h.tn.settings.width.l1.smc,h.tn.settings.height.l1.smc),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.l1.me*a,h.tn.settings.height.l1.me*a,h.tn.settings.width.l1.mec,h.tn.settings.height.l1.mec),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.l1.la*a,h.tn.settings.height.l1.la*a,h.tn.settings.width.l1.lac,h.tn.settings.height.l1.lac),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.l1.xl*a,h.tn.settings.height.l1.xl*a,h.tn.settings.width.l1.xlc,h.tn.settings.height.l1.xlc),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.lN.xs*b,h.tn.settings.height.lN.xs*b,h.tn.settings.width.lN.xsc,h.tn.settings.height.lN.xsc),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.lN.sm*b,h.tn.settings.height.lN.sm*b,h.tn.settings.width.lN.smc,h.tn.settings.height.lN.smc),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.lN.me*b,h.tn.settings.height.lN.me*b,h.tn.settings.width.lN.mec,h.tn.settings.height.lN.mec),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.lN.la*b,h.tn.settings.height.lN.la*b,h.tn.settings.width.lN.lac,h.tn.settings.height.lN.lac),h.picasa.thumbSizes=g(h.picasa.thumbSizes,h.tn.settings.width.lN.xl*b,h.tn.settings.height.lN.xl*b,h.tn.settings.width.lN.xlc,h.tn.settings.height.lN.xlc)}function g(a,b,c,d,e){var f=Math.ceil(c*h.tn.scale)+e;return isNaN(b)?f=Math.ceil(c*h.tn.scale)+e:isNaN(c)?f=Math.ceil(b*h.tn.scale)+d:b>c&&(f=Math.ceil(b*h.tn.scale)+d),a.length>0&&(a+=","),a+=f}var h=a;Google={url:function(){return"https://photos.googleapis.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "};var i=function(a,b,d,e){var f=Google.url()+"user/"+h.O.userID,g="image",i=NGY2Item.GetIdx(h,a),j="";h.galleryMaxItems.Get()>0&&(j="&max-results="+h.galleryMaxItems.Get());var m="";if("undefined"!=typeof ngy2_pwa_at&&(m=ngy2_pwa_at),0==a)""!=m?f+="?alt=json&v=3&kind=album&thumbsize="+h.picasa.thumbSizes+j+"&rnd="+(new Date).getTime()+"&access_token="+m:void 0==h.O.google2URL||""==h.O.google2URL?f+="?alt=json&v=3&kind=album&thumbsize="+h.picasa.thumbSizes+j+"&rnd="+(new Date).getTime():f=h.O.google2URL+"?nguserid="+h.O.userID+"&alt=json&v=3&kind=album&thumbsize="+h.picasa.thumbSizes+j+"&rnd="+(new Date).getTime(),g="album";else{var n="";""!=h.I[i].authkey&&(n=h.I[i].authkey),""!=m?f+="/albumid/"+a+"?alt=json&kind=photo&thumbsize="+h.picasa.thumbSizes+j+n+"&imgmax=d&access_token="+m:void 0==h.O.google2URL||""==h.O.google2URL?f+="/albumid/"+a+"?alt=json&v=3&kind=photo&thumbsize="+h.picasa.thumbSizes+j+"&rnd="+(new Date).getTime():f=h.O.google2URL+"?nguserid="+h.O.userID+"&ngalbumid="+a+"&alt=json&v=3&kind=photo&thumbsize="+h.picasa.thumbSizes+j+n+"&imgmax=d"}k(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var p=setTimeout(function(){k(!1),l("Could not retrieve AJAX data...")},6e4),q=function(f){clearTimeout(p),k(!1),c(i,g,f),o(a),null!==b&&void 0!==b&&b(d,e,null)},r=null,s=function(a,b){jQuery.getJSON(a+"&start-index="+b+"&callback=?",function(b){if("error"==b.nano_status)return clearTimeout(p),k(!1),void l(h,"Could not retrieve Google data. Error: "+b.nano_message);null===r?r=b:r.feed.entry=r.feed.entry.concat(b.feed.entry);var c=b.feed.openSearch$startIndex.$t+b.feed.openSearch$itemsPerPage.$t,d=0;d="image"==g?void 0===b.feed.gphoto$numphotos?b.feed.openSearch$totalResults.$t:b.feed.gphoto$numphotos.$t:b.feed.openSearch$totalResults.$t,c>=d||c>=h.galleryMaxItems.Get()?q(r):s(a,c)}).fail(function(b,c,d){clearTimeout(p),k(!1);var e="";for(var f in b)e+=f+"="+b[f]+"<br>";l(h,"Could not retrieve Google data. Error: "+c+", "+d+" "+e+"<br><br>URL:"+a)})};s(f,1)}catch(t){l(h,"Could not retrieve Google data. Error: "+t)}},j=function(a,b){for(var c=[].concat(a),e=0;e<c.length;e++)d(c[e],b);jQuery(document).dequeue("GoogleAlbumWithAuthkey")},k=NGY2Tools.PreloaderDisplay.bind(h),l=NGY2Tools.NanoAlert,m=NGY2Tools.GetImageTitleFromURL.bind(h),n=NGY2Tools.FilterAlbumName.bind(h),o=NGY2Tools.AlbumPostProcess.bind(h);switch(b){case"GetHiddenAlbums":var p=arguments[2],q=arguments[3];j(p,q);break;case"AlbumGetContent":var r=arguments[2],q=arguments[3];i(r,q,arguments[4],arguments[5]);break;case"Init":f()}}}(jQuery),function(a){jQuery.nanogallery2.data_flickr=function(a,b){function c(a,b){var c=h.I[a].GetID();jQuery.each(b,function(a,b){for(var d=b.title,f=b.id,g=b.description._content,i=b.url_sq,a=j.photoSize;a>=0;a--)if(void 0!=b["url_"+j.photoAvailableSizesStr[a]]){i=b["url_"+j.photoAvailableSizesStr[a]];break}var k={};for(var l in b)0!=l.indexOf("height_")&&0!=l.indexOf("width_")&&0!=l.indexOf("url_")||(k[l]=b[l]);""!=h.O.thumbnailLabel.get("title")&&(d=o(i)),tags="",void 0!==b.tags&&(tags=b.tags);var m=NGY2Item.New(h,d,g,f,c,"image",tags);m.src=i,void 0!==b.url_o?(m.imageWidth=b.width_o,m.imageHeight=b.height_o):(m.imageWidth=b.width_z,m.imageHeight=b.height_z);var n={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};n=e(n,b,"l1"),n=e(n,b,"lN"),m.thumbs=n}),h.I[a].contentIsLoaded=!0}function d(a,b){var c=h.I[a].GetID();jQuery.each(b,function(a,b){if(itemTitle=b.title._content,p(itemTitle,b.id)){itemID=b.id,itemDescription="",void 0!=b.description._content&&(itemDescription=b.description._content);var d={};for(var f in b.primary_photo_extras)d[f]=b.primary_photo_extras[f];tags="",void 0!==b.primary_photo_extras&&void 0!==b.primary_photo_extras.tags&&(tags=b.primary_photo_extras.tags);var g=NGY2Item.New(h,itemTitle,itemDescription,itemID,c,"album",tags);g.numberItems=b.photos,g.thumbSizes=d;var i={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};i=e(i,b.primary_photo_extras,"l1"),i=e(i,b.primary_photo_extras,"lN"),g.thumbs=i}}),h.I[a].contentIsLoaded=!0}function e(a,b,c){var d=1;!0===h.tn.opt[c].crop&&(d=h.O.thumbnailCropScaleFactor);for(var e=["xs","sm","me","la","xl"],g=0;g<e.length;g++)if("auto"==h.tn.settings.width[c][e[g]]||""==h.tn.settings.width[c][e[g]]){var i="height_",j=Math.ceil(h.tn.settings.height[c][e[g]]*h.tn.scale*d),k=f(i,j,b);a.url[c][e[g]]=k.url,a.width[c][e[g]]=k.width,a.height[c][e[g]]=k.height
}else if("auto"==h.tn.settings.height[c][e[g]]||""==h.tn.settings.height[c][e[g]]){var i="width_",j=Math.ceil(h.tn.settings.width[c][e[g]]*h.tn.scale*d),k=f(i,j,b);a.url[c][e[g]]=k.url,a.width[c][e[g]]=k.width,a.height[c][e[g]]=k.height}else{var i="height_",j=Math.ceil(h.tn.settings.height[c][e[g]]*h.tn.scale*d);h.tn.settings.width[c][e[g]]>h.tn.settings.height[c][e[g]]&&(i="width_",j=Math.ceil(h.tn.settings.width[c][e[g]]*h.tn.scale*d));var k=f(i,j,b);a.url[c][e[g]]=k.url,a.width[c][e[g]]=k.width,a.height[c][e[g]]=k.height}return a}function f(a,b,c){for(var d={url:"",width:0,height:0},e=0,f=0;f<j.thumbAvailableSizes.length;f++){var g=c[a+j.photoAvailableSizesStr[f]];if(void 0!=g&&(e=f,g>=b))break}var h=j.photoAvailableSizesStr[e];return d.url=c["url_"+h],d.width=parseInt(c["width_"+h]),d.height=parseInt(c["height_"+h]),d}function g(){}var h=a,j={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"0",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},k=function(a,b,e,f){var g=NGY2Item.GetIdx(h,a),i="",k="image";"NONE"==h.O.photoset.toUpperCase()||"NONE"==h.O.album.toUpperCase()?i=j.url()+"?&method=flickr.people.getPublicPhotos&api_key="+j.ApiKey+"&user_id="+h.O.userID+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json":0==h.I[g].GetID()?(i=j.url()+"?&method=flickr.photosets.getList&api_key="+j.ApiKey+"&user_id="+h.O.userID+"&per_page=500&primary_photo_extras=tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",k="album"):i=j.url()+"?&method=flickr.photosets.getPhotos&api_key="+j.ApiKey+"&photoset_id="+h.I[g].GetID()+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",m(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var l=setTimeout(function(){m(!1),n(h,"Could not retrieve AJAX data...")},6e4),o=[],p=function(){clearTimeout(l),m(!1),"album"==k?d(g,o):c(g,o),q(a),null!==b&&void 0!==b&&b(e,f,null)},r=function(a,b){jQuery.getJSON(a+"&page="+b+"&jsoncallback=?",function(c,d,e){var f=0;if("album"==k){if(void 0!==c.stat&&"fail"===c.stat)return n(h,"Could not retrieve Flickr album list: "+c.message+" (code: "+c.code+")."),!1;o=o.concat(c.photosets.photoset),f=c.photosets.pages}else if("NONE"==h.O.photoset.toUpperCase()||"NONE"==h.O.album.toUpperCase())o=o.concat(c.photos.photo),f=c.photos.pages;else{if(void 0!==c.stat&&"fail"===c.stat)return n(h,"Could not retrieve Flickr album: "+c.message+" (code: "+c.code+")."),!1;""==h.I[g].title&&(h.I[g].title=c.photoset.title),o=o.concat(c.photoset.photo),f=c.photoset.pages}f>b?r(a,b+1):p()}).fail(function(a,b,c){clearTimeout(l),m(!1),n(h,"Could not retrieve Flickr ajax data: "+b+", "+c)})};r(i,1)},l=function(a,b){b()},m=NGY2Tools.PreloaderDisplay.bind(h),n=NGY2Tools.NanoAlert,o=NGY2Tools.GetImageTitleFromURL.bind(h),p=NGY2Tools.FilterAlbumName.bind(h),q=NGY2Tools.AlbumPostProcess.bind(h),r=Math.max(window.screen.width,window.screen.height);for(void 0!=window.devicePixelRatio&&window.devicePixelRatio>1&&(r*=window.devicePixelRatio),h.O.flickrSkipOriginal||(j.photoAvailableSizes.push(1e4),j.photoAvailableSizesStr.push("o")),i=0;i<j.photoAvailableSizes.length&&(j.photoSize=i,!(r<=j.photoAvailableSizes[i]));i++);switch(b){case"GetHiddenAlbums":var s=arguments[2],t=arguments[3];l(s,t);break;case"AlbumGetContent":var u=arguments[2],t=arguments[3];k(u,t,arguments[4],arguments[5]);break;case"Init":g()}}}(jQuery);