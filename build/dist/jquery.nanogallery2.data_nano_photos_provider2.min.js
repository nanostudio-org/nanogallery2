/* nanogallery2 - v3.0.4 - 2020-10-16 */
/**!
 * @preserve nanogallery2 - NANOPHOTOSPROVIDER2 data provider
 * Homepage: http://nanogallery2.nanostudio.org
 * Sources:  https://github.com/nanostudio-org/nanogallery2
 *
 * License:  GPLv3 and commercial licence
 * 
*/
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","nanogallery2"],e):"object"==typeof exports&&"function"==typeof require?e(require(["jquery","nanogallery2"])):e(jQuery)}((function(e){jQuery.nanogallery2.data_nano_photos_provider2=function(e,t){var o=e,n=function(t,n,l,u){var v=NGY2Item.GetIdx(o,t);""==e.I[v].title&&(e.I[v].title=a(t));var c=o.O.dataProvider+"?albumID="+t;c+="&hxs="+o.tn.settings.getH(o.GOM.curNavLevel,"xs"),c+="&wxs="+o.tn.settings.getW(o.GOM.curNavLevel,"xs"),c+="&hsm="+o.tn.settings.getH(o.GOM.curNavLevel,"sm"),c+="&wsm="+o.tn.settings.getW(o.GOM.curNavLevel,"sm"),c+="&hme="+o.tn.settings.getH(o.GOM.curNavLevel,"me"),c+="&wme="+o.tn.settings.getW(o.GOM.curNavLevel,"me"),c+="&hla="+o.tn.settings.getH(o.GOM.curNavLevel,"la"),c+="&wla="+o.tn.settings.getW(o.GOM.curNavLevel,"la"),c+="&hxl="+o.tn.settings.getH(o.GOM.curNavLevel,"xl"),c+="&wxl="+o.tn.settings.getW(o.GOM.curNavLevel,"xl"),i(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var g=setTimeout((function(){i(!1),s(o,"Could not retrieve nanoPhotosProvider2 data (timeout).")}),6e4);o.O.debugMode&&console.log("nanoPhotosProvider2 URL: "+c),jQuery.getJSON(c,(function(e,a,c){clearTimeout(g),i(!1),r(v,e),"ok"==e.nano_status?(d(t),null!=n&&n(l,u,null)):s(o,"Could not retrieve nanoPhotosProvider2 data. Error: "+e.nano_status+" - "+e.nano_message)})).fail((function(e,t,n){clearTimeout(g),i(!1);var a="";for(var r in e)a+=r+"="+e[r]+"<br>";s(o,"Could not retrieve nanoPhotosProvider2 data. Error: "+(t+", "+n+" "+a+"<br><br>URL:"+c))}))}catch(e){s(o,"Could not retrieve nanoPhotosProvider2 data. Error: "+e)}};function a(e){return decodeURIComponent(e)}function r(e,t){o.O.debugMode&&(console.log("nanoPhotosProvider2 parse data:"),console.dir(t));jQuery.each(t.album_content,(function(e,n){var r=o.O.dataProvider.substring(0,o.O.dataProvider.indexOf("nano_photos_provider2.php")),i=r+a(n.src),s=n.title,d=n.description.split("_").join(" "),u="image";void 0!==n.kind&&n.kind.length>0&&(u=n.kind);var v=n.ID,c=!1;if("album"==u&&(l(s,v)||(c=!0),""==o.O.album&&""==o.O.photoset||(c=!0)),"image"==u||!c){var g=0;void 0!==n.albumID&&(g=n.albumID,!0);var m=void 0===n.tags?"":n.tags,h=NGY2Item.New(o,s.split("_").join(" "),d,v,g,u,m);h.setMediaURL(i,"img"),void 0!==n.dcGIF&&(h.imageDominantColors="data:image/gif;base64,"+n.dcGIF),void 0!==n.dc&&""!==n.dc&&(h.imageDominantColor=n.dc),"album"==u?h.numberItems=n.cnt:(h.imageWidth=n.imgWidth,h.imageHeight=n.imgHeight),""!=n.originalURL&&(h.downloadURL=r+a(n.originalURL));for(var b=o.GOM.curNavLevel,f=["xs","sm","me","la","xl"],p=0;p<f.length;p++)h.thumbs.url[b][f[p]]=r+a(n.t_url[p]),h.thumbs.width[b][f[p]]=parseInt(n.t_width[p]),h.thumbs.height[b][f[p]]=parseInt(n.t_height[p]);var O=o.O.fnProcessData;null!==O&&("function"==typeof O?O(h,o.O.dataProvider,t):window[O](h,o.O.dataProvider,t))}})),o.I[e].contentIsLoaded=!0}var i=NGY2Tools.PreloaderDisplay.bind(o),s=NGY2Tools.NanoAlert,l=NGY2Tools.FilterAlbumName.bind(o),d=NGY2Tools.AlbumPostProcess.bind(o);switch(t){case"GetHiddenAlbums":break;case"AlbumGetContent":var u=arguments[2],v=arguments[3],c=arguments[4],g=arguments[5];n(u,v,c,g)}}}));